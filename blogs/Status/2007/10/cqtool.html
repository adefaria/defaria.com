<!DOCTYPE html>
<html lang="en-us" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="description" content=" Sent cqtool out for code review...">
    <meta name="generator" content="Movable Type 5.2.3">
    <title>cqtool - Status</title>
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="http://defaria.com/blogs/Status/atom.xml">
    <link rel="canonical" href="http://defaria.com/blogs/Status/2007/10/cqtool.html">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="http://defaria.com/blogs/Status/styles.css">
    <!--[if lt IE 9]>
    <link rel="stylesheet" href="http://defaria.com/blogs/Status/styles_ie.css">
    <script src="/mt/mt-static/support/theme_static/rainier/js/html5shiv.js"></script>
    <![endif]-->
    
    <link rel="start" href="http://defaria.com/blogs/Status/">

    <link rel="prev" href="http://defaria.com/blogs/Status/2007/10/cqtalk.html" title="cqtalk">
    <link rel="next" href="http://defaria.com/blogs/Status/2007/10/ucmwb-added-cre.html" title="UCMWB enhancements/Helpdesk Tickets">
    <!-- Open Graph Protocol -->
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-us">
    <meta property="og:title" content="cqtool">
    <meta property="og:url" content="http://defaria.com/blogs/Status/2007/10/cqtool.html">
    <meta property="og:description" content=" Sent cqtool out for code review...">
    <meta property="og:site_name" content="Status">
    <meta property="og:image" content="/mt/mt-static/support/theme_static/rainier/img/siteicon-sample.png">
    <!-- Metadata -->
    <meta itemprop="description" content=" Sent cqtool out for code review...">
    <link itemprop="url" href="http://defaria.com/blogs/Status/2007/10/cqtool.html">
    <link itemprop="image" href="/mt/mt-static/support/theme_static/rainier/img/siteicon-sample.png">
    
  </head>
  <body>
    <div id="container">
      <div id="container-inner">
        <header id="header" role="banner">
          <div id="header-inner">
            <div id="header-content">
              <h1>
                <a href="http://defaria.com/blogs/Status/">

                  Status

                </a>
              </h1>
              
            </div>

            <nav role="navigation">
          <ul>
            <li><a href="http://defaria.com/blogs/Status/">Home</a></li>


          </ul>
        </nav>

          </div>
        </header>
        <div id="content">
          <div id="content-inner">
            <ul class="breadcrumb breadcrumb-list">
              <li class="breadcrumb-list-item"><a href="http://defaria.com/blogs/Status/">Home</a></li>
              <li class="breadcrumb-list-item">cqtool</li>
            </ul>
            <div id="individual-main" class="main" role="main">
              <article id="entry-1934" class="entry entry-asset asset hentry">
                <div class="asset-header">
                  <h2 itemprop="name" class="asset-name entry-title">cqtool</h2>
                  <footer class="asset-meta">
                    <ul class="asset-meta-list">
                      <li class="asset-meta-list-item">Posted on <time datetime="2007-10-10T15:08:55-08:00" itemprop="datePublished">October 10, 2007</time></li>
                      <li class="asset-meta-list-item">by <span class="author entry-author vcard"></span></li>

  
                      <li class="asset-meta-list-item">in <a itemprop="articleSection" rel="tag" href="http://defaria.com/blogs/Status/general-dynamics/">General Dynamics</a></li>
  

                   </ul>
                </footer>
                </div>
                <div class="entry-content asset-content" itemprop="articleBody">
                  <ul>
  <li>Sent cqtool out for code review</li>
</ul>
                  <h3>Introducing cqtool</h3>

<p>I have implemented a new script called cqtool. This is to replace
the unsupported /opt/rational/clearquest/bin/cqtool which is going
away as of Clearquest 7.0. UCMWB utilized IBM/Rational's cqtool to
perform certain actions. Additionally, as per Erik's RANCQ00014935
request to enhance UCMWB to be able to create child WORs a tool needed
to be developed to do that. So the new cqtool solves the following
issues:</p>

<ul>
  <li>Provides a supported replacement for the following bits of UCMWB
functionality:</li>
  <ul>
    <li>Cloning of WORs (Right click: Continue work in Clone on a
closed non-orphan WOR)<br>
    </li>
    <li> Creation of Helpdesk tickets (Tools: Submit Helpdesk Request)</li>
  </ul>
  <li>Adds the following functionality:</li>
  <ul>
    <li>Allows for creation of new WORs</li>
    <li>Allows for linking of parent WOR to child WOR</li>
  </ul>
</ul>

<p>Additionally, with the create WOR functionality, UCMWB can offer
the ability to create a new, non parent/child WOR. Finally, as has
been stated, with this new cqtool we don't have to worry about
IBM/Rational's cqtool disappearing in CQ 7.0.</p>

<p>This is an involved process so I created this in a modularized
fashion thus several Perl modules are involved. As per Ken's mandate,
I am calling for a code review of what I have so far. Next I will hook
this into UCMWB.</p>

<p>So far I have a cqperl script called cqtool. It relies on several Perl
Modules, some of which I have added to Clearcase and our <i>standard
lib</i> directory already
(/cleartrig/ent/SNSD/muos/ccadm_tools/vobs/ranccadm/scripts/lib):</p>

<table align="center" border="1" cellpadding="2" cellspacing="0"
 width="90%">
  <tbody>
    <tr>
      <th bgcolor="#33ccff" valign="top">Module<br>
      </th>
      <th bgcolor="#33ccff" valign="top">Description<br>
      </th>
      <th bgcolor="#33ccff" valign="top">Location<br>
      </th>
    </tr>
    <tr>
      <td valign="top"><b>Display<br>
      </b></td>
      <td valign="top">Module for providing consistent output</td>
      <td valign="top"><i>standard lib</i><br>
      </td>
    </tr>
    <tr>
      <td valign="top"><b>CQTool<br>
      </b></td>
      <td valign="top">Handles communications with Clearquest</td>
      <td valign="top">~p6258c/adm/lib<br>
      </td>
    </tr>
    <tr>
      <td valign="top"><b>CreateWORUI</b></td>
      <td valign="top">UI for CreateWOR</td>
      <td valign="top">~p6258c/adm/lib</td>
    </tr>
    <tr>
      <td valign="top"><b>CreateHelpDeskUI</b></td>
      <td valign="top">UI for CreateHelpDesk</td>
      <td valign="top">~p6258c/adm/lib</td>
    </tr>
    <tr>
      <td valign="top"><b>Tk::MyText</b></td>
      <td valign="top">Subclasses the Tk TextUndo<br>
widget. This is used for the description fields in both CreateWOR<br>
and CreateHelpDesk. The subclassing was necessary in order to<br>
provide for a modified callback that allows us to tell when the<br>
widget has text and thus can set the Submit button to active.</td>
      <td valign="top">~p6258c/adm/lib</td>
    </tr>
  </tbody>
</table>

<p>Additionally there is a cqtool script itself which is a command
line interface/driver that was initially used to test the
functionality provided in the above modules. It has been oriented to
be the primary interface to this functionality. The thought is that
UCMWB will fire up cqtool in the background at start up and then, if
and when it's functionality is needed, UCMWB will feed commands to the
already running cqtool.</p>

<p>When run interactively, cqtool prompts for a command. It will also
read commands from $ARGV, execute them and exit. So, in a sense,
cqtool works like cleartool.</p>

<p>If you type help at the prompt the following is displayed:</p>

<div class=code><pre>
cqtool Version 0.9: Program to talk to Clearquest

Valid commands are:

createwor:			Create a new WOR
createhd:			Create a new Help Desk Ticket
clone &lt;wor&gt;			Clones a WOR
link &lt;parent wor&gt; &lt;child wor&gt;	Link a parent WOR to a child
WOR
exit|quit:			Exits cqtool
help:				This display
usage:				Displays command line usage
version:			Displays version of cqtool
</pre></div>

<p>createwor and createhd both are Perl/Tk applications that interact
with Clearquest and display a GUI that obtains the necessary and
required fields to create a WOR or a Helpdesk ticket. Note, only the
bare minimum fields are available. IOW I didn't implement the whole UI
that Clearquest provides. Instead it's just enough to create the WOR
or Helpdesk ticket.</p>

<p>cqtool pays attention to a few environment variables:</p>

<dl>
  <dt><b>CQ_DBSET</b></dt>

    <dd>Set to the dbset name of the Clearquest database to work with.
    For testing purposes set this to XTST3. Production would be
    RANCQ</dd>

  <dt><b>CQ_USER</b></dt>

    <dd>Name of the user to log in as. By default $USER is used. For
    testing purposes set this to "ccadm" (for the XTST3 database that
    is)</dd>

  <dt><b>CQ_PASSWORD</b></dt>

    <dd>Set to the password for CQ_USER. For testing purposes set this
    to "ccadm" (for the XTST3 database that is). If this is not set
    then cqtool prompts for a password.</dd>
</dl>

<p>So then, with the proper environment variables set one can:</p>


<div class=code><pre>
$ cqtool help
cqtool Version 0.9: Program to talk to Clearquest

Valid commands are:

createwor:			Create a new WOR
createhd:			Create a new Help Desk Ticket
clone &lt;wor&gt;			Clones a WOR
link &lt;parent wor&gt; &lt;child wor&gt;	Link a parent WOR to a child
WOR
exit|quit:			Exits cqtool
help:				This display
usage:				Displays command line usage
version:			Displays version of cqtool
</pre></div>

<p>or</p>

<div class=code><pre>
$ cqtool createwor
</pre></div>

<p>Oh, where is cqtool? Well for now it's in ~p6258c/adm/cq/cqtool
(libs in ~p6258c/adm/lib/*).</p>
                </div>
                <nav class="page-navigation entry-navigation pagination content-nav">
                  <ul class="page-navigation-list">

                    <li class="page-navigation-list-item page-navigation-prev"><a rel="prev" href="http://defaria.com/blogs/Status/2007/10/cqtalk.html" title="cqtalk">Previous entry</a></li>


                    <li class="page-navigation-list-item page-navigation-next"><a rel="next" href="http://defaria.com/blogs/Status/2007/10/ucmwb-added-cre.html" title="UCMWB enhancements/Helpdesk Tickets">Next entry</a></li>

                  </ul>
                </nav>
                <!--
<aside id="zenback" class="zenback feedback">
  Please paste Zenback script code here.
</aside>
-->
                
                
              </article>
            </div>
            <aside class="widgets related" role="complementary">
              <nav class="widget-search widget">
  <div class="widget-content">
    <form method="get" id="search" action="http://defaria.com/mt/mt-search.cgi">
      <div>
        <input type="text" name="search" value="" placeholder="Search...">

        <input type="hidden" name="IncludeBlogs" value="8">

        <input type="hidden" name="limit" value="20">
        <button type="submit" name="button">
          <img alt="Search" src="/mt/mt-static/support/theme_static/rainier/img/search-icon.png">
        </button>
      </div>
    </form>
  </div>
</nav>
<nav class="widget-archive-category widget">
  <h3 class="widget-header">Categories</h3>
  <div class="widget-content">
    
      
    <ul class="widget-list">
      
      
      <li class="widget-list-item"><a href="http://defaria.com/blogs/Status/ameriquest/">Ameriquest (99)</a>
      
      
      </li>
      
    
      
      
      <li class="widget-list-item"><a href="http://defaria.com/blogs/Status/audience/">Audience (3)</a>
      
      
      </li>
      
    
      
      
      <li class="widget-list-item"><a href="http://defaria.com/blogs/Status/broadcom/">Broadcom (76)</a>
      
      
      </li>
      
    
      
      
      <li class="widget-list-item"><a href="http://defaria.com/blogs/Status/gpdb/">GPDB (35)</a>
      
      
      </li>
      
    
      
      
      <li class="widget-list-item"><a href="http://defaria.com/blogs/Status/general-dynamics/">General Dynamics (61)</a>
      
      
      </li>
      
    
      
      
      <li class="widget-list-item"><a href="http://defaria.com/blogs/Status/general-electric/">General Electric (13)</a>
      
      
      </li>
      
    
      
      
      <li class="widget-list-item"><a href="http://defaria.com/blogs/Status/hewlett-packard/">Hewlett Packard (13)</a>
      
      
      </li>
      
    
      
      
      <li class="widget-list-item"><a href="http://defaria.com/blogs/Status/lynuxworks/">LynuxWorks (162)</a>
      
      
      </li>
      
    
      
      
      <li class="widget-list-item"><a href="http://defaria.com/blogs/Status/pqa/">PQA (35)</a>
      
      
      </li>
      
    
      
      
      <li class="widget-list-item"><a href="http://defaria.com/blogs/Status/salira/">Salira (79)</a>
      
      
      </li>
      
    
      
      
      <li class="widget-list-item"><a href="http://defaria.com/blogs/Status/tellabs/">Tellabs (2)</a>
      
      
      </li>
      
    
      
      
      <li class="widget-list-item"><a href="http://defaria.com/blogs/Status/texas-instruments/">Texas Instruments (31)</a>
      
      
      </li>
      
    </ul>
      
    
  </div>
</nav>
  

<nav class="widget-archive-dropdown widget">
  <h3 class="widget-header">Archives</h3>
  <div class="widget-content">
    <select>
      <option>Select a Month...</option>
    
      <option value="http://defaria.com/blogs/Status/2016/02/">February 2016</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2014/09/">September 2014</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2014/04/">April 2014</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2014/03/">March 2014</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2013/02/">February 2013</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2012/09/">September 2012</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2012/08/">August 2012</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2012/05/">May 2012</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2012/04/">April 2012</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2012/02/">February 2012</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2012/01/">January 2012</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2011/10/">October 2011</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2011/07/">July 2011</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2010/09/">September 2010</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2010/08/">August 2010</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2010/04/">April 2010</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2010/03/">March 2010</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2010/02/">February 2010</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2009/05/">May 2009</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2009/04/">April 2009</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2008/07/">July 2008</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2008/05/">May 2008</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2008/04/">April 2008</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2008/03/">March 2008</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2008/02/">February 2008</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2008/01/">January 2008</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2007/12/">December 2007</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2007/11/">November 2007</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2007/10/">October 2007</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2007/09/">September 2007</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2007/08/">August 2007</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2007/07/">July 2007</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2007/06/">June 2007</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2007/05/">May 2007</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2007/04/">April 2007</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2007/03/">March 2007</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2007/01/">January 2007</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2006/12/">December 2006</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2006/11/">November 2006</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2006/10/">October 2006</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2006/09/">September 2006</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2006/07/">July 2006</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2006/06/">June 2006</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2006/05/">May 2006</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2006/04/">April 2006</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2006/03/">March 2006</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2006/02/">February 2006</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2006/01/">January 2006</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2005/12/">December 2005</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2005/11/">November 2005</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2005/10/">October 2005</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2005/09/">September 2005</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2005/08/">August 2005</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2005/07/">July 2005</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2005/06/">June 2005</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2005/05/">May 2005</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2005/04/">April 2005</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2005/03/">March 2005</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2005/02/">February 2005</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2005/01/">January 2005</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2004/12/">December 2004</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2004/09/">September 2004</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2004/08/">August 2004</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2004/07/">July 2004</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2004/06/">June 2004</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2004/05/">May 2004</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2004/04/">April 2004</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2004/03/">March 2004</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2004/02/">February 2004</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2004/01/">January 2004</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2003/12/">December 2003</option>
    
  
    
      <option value="http://defaria.com/blogs/Status/2003/11/">November 2003</option>
    
    </select>
  </div>
</nav>
    
  

<div class="widget-syndication widget section">
  <div class="widget-content">
    <p><img src="http://defaria.com/mt/mt-static/images/status_icons/feed.gif" alt="Subscribe to feed" width="9" height="9" /> <a href="http://defaria.com/blogs/Status/atom.xml">Subscribe to this blog's feed</a></p>

  </div>
</div>

            </aside>
          </div>
        </div>
        <footer id="footer" role="contentinfo">
          <div id="footer-inner">
            <div id="footer-content">
  <nav role="navigation">
          <ul>
            <li><a href="http://defaria.com/blogs/Status/">Home</a></li>


          </ul>
        </nav>

  <p class="license">&copy; Copyright 2016.</p>
  <p class="poweredby">Powered by <a href="http://www.movabletype.org/">Movable Type</a></p>
</div>
          </div>
        </footer>
      </div>
    </div>
    <script src="http://defaria.com/mt/mt-static/jquery/jquery.min.js"></script>
    <script src="http://defaria.com/blogs/Status/mt-theme-scale2.js"></script>
  </body>
</html>
