<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <meta name="generator" content="Movable Type 5.2.3" />

   <link rel="stylesheet" href="http://defaria.com/blogs/Status/styles-site.css" type="text/css" />
   <link rel="alternate" type="application/atom+xml" title="Atom" href="http://defaria.com/blogs/Status/atom.xml" />
   <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://defaria.com/blogs/Status/index.xml" />

   <title>Status for Andrew DeFaria: Meetings/Script review/Backup Registry Service</title>

   <link rel="start" href="http://defaria.com/blogs/Status/" title="Home" />
   <link rel="prev" href="http://defaria.com/blogs/Status/archives/000166.html" title="Server Swap Prep" />
   <link rel="next" href="http://defaria.com/blogs/Status/archives/000169.html" title="rgy_backup and server upgrade" />

   

   

   <script type="text/javascript" src="http://defaria.com/blogs/Status/mt-site.js"></script>
</head>
<body class="layout-one-column" onload="individualArchivesOnLoad(commenter_name)">
   <div id="container">
      <div id="container-inner" class="pkg">

         <div id="banner">
            <div id="banner-inner" class="pkg">
               <h1 id="banner-header"><a href="http://defaria.com/blogs/Status/" accesskey="1">Status for Andrew DeFaria</a></h1>
               <h2 id="banner-description">Searchable status reports and work log</h2>
            </div>
         </div>

         <div id="pagebody">
            <div id="pagebody-inner" class="pkg">
               <div id="alpha">
                  <div id="alpha-inner" class="pkg">

                     <p class="content-nav">
                        <a href="http://defaria.com/blogs/Status/archives/000166.html">&laquo; Server Swap Prep</a> |
                        <a href="http://defaria.com/blogs/Status/">Main</a>
                        | <a href="http://defaria.com/blogs/Status/archives/000169.html">rgy_backup and server upgrade &raquo;</a>
                     </p>

                     <a id="a000168"></a>
                     <div class="entry" id="entry-168">
                        <h3 class="entry-header">Meetings/Script review/Backup Registry Service</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Attended 3 meetings today which, by far, occupied most of my time</li>

<li>Script review meeting was good. In particular I've implemented the following changes to reregister</li>

<ul>

<li>Script not loops through regions for vobs as well as views</li>

<li>Script now uses -host on lsvob and lsregion to restrict execution to the vob and view hosts only</li>

<li>Script mktag's for both public and private vobs</li>

</ul>

<li>Cleaned up the registry a little bit. Subba created some vobs in cs-nt that were:

<ol>

<li>Not public</li>

<li>Not in the pmo-nt region</li>

</ol><br>

Also cleaned up a vob or two that was tagged in another region as private while it was public in the pmo-nt region. This happens semi-silently in that if you mktag -vob -region &lt;<i>other region</i>&gt;... the mktag will prompt for registry password, giving you the <i>illusion</i> that it is making the tag in <i>other region</i> as public when it is not. <u>If you are mktag'ing into another region a public vob you must explicitly state -public!</u></li>

<li>Investigated backup registry service. It is not working in the current environment. Here's how I believe it is supposed to work:

<ul>

<li>You must, of course, configure backup registry server setting on all clients to point to the backup registry server properly. This we had already done.</li>

<li>You can manually take a snapshot of the registry by executing rgy_backup. If run on any machine other than the designated backup registry server it will merely ask the current registry server what the backup registry server is and set the backup registry server key in the Windows registry. If run on the backup registry server it will copy a snapshot of the registry files in $CCASE_DIR/var/rgy/backup. It appends a date timestamp to the file name and in the non timestamped filename, records a pointer to this file (e.g. the backup/vob_tag file contains the machine relative path to vob_tag_<timestamp>).</li>

<li>Clearcase relies on the Clearcase scheduler and the <b>Standard Daily Job</b> to perform daily snapshots of the registry via rgy_backup. There are two problems with this:

<ol>

<li>Currently the <b>Standard Daily Job</b> is not even scheduled by default!</li>

<li>One can envision crude developing in the backup directory after months of these daily jobs! I'm not sure how or if there is a mechanism for cleaning up such stuff</li>

</ol>

</ul>

</ul>
                           </div>
                           <div id="more" class="entry-more">
                              
                           </div>
                        </div>
                        <p class="entry-footer">
                           <span class="post-footers">Posted by  on April 28, 2004  7:04 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000168.html">Permalink</a>
                        </p>
                     </div>

                     

                     
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</body>
</html>
