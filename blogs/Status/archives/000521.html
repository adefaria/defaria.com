<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <meta name="generator" content="Movable Type 5.2.3" />

   <link rel="stylesheet" href="http://defaria.com/blogs/Status/styles-site.css" type="text/css" />
   <link rel="alternate" type="application/atom+xml" title="Atom" href="http://defaria.com/blogs/Status/atom.xml" />
   <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://defaria.com/blogs/Status/index.xml" />

   <title>Status for Andrew DeFaria: More CQ Web Email Problems (GetSMTPHost)</title>

   <link rel="start" href="http://defaria.com/blogs/Status/" title="Home" />
   <link rel="prev" href="http://defaria.com/blogs/Status/archives/000520.html" title="CQ Web Email Problem" />
   <link rel="next" href="http://defaria.com/blogs/Status/archives/000522.html" title="PQA Email issue/Mobile Multimedia" />

   

   

   <script type="text/javascript" src="http://defaria.com/blogs/Status/mt-site.js"></script>
</head>
<body class="layout-one-column" onload="individualArchivesOnLoad(commenter_name)">
   <div id="container">
      <div id="container-inner" class="pkg">

         <div id="banner">
            <div id="banner-inner" class="pkg">
               <h1 id="banner-header"><a href="http://defaria.com/blogs/Status/" accesskey="1">Status for Andrew DeFaria</a></h1>
               <h2 id="banner-description">Searchable status reports and work log</h2>
            </div>
         </div>

         <div id="pagebody">
            <div id="pagebody-inner" class="pkg">
               <div id="alpha">
                  <div id="alpha-inner" class="pkg">

                     <p class="content-nav">
                        <a href="http://defaria.com/blogs/Status/archives/000520.html">&laquo; CQ Web Email Problem</a> |
                        <a href="http://defaria.com/blogs/Status/">Main</a>
                        | <a href="http://defaria.com/blogs/Status/archives/000522.html">PQA Email issue/Mobile Multimedia &raquo;</a>
                     </p>

                     <a id="a000521"></a>
                     <div class="entry" id="entry-521">
                        <h3 class="entry-header">More CQ Web Email Problems (GetSMTPHost)</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Implemented and tested GetSMTPHost</li>
</ul>
                           </div>
                           <div id="more" class="entry-more">
                              <p>Actually I was on vacation but still trying to work on the problem. Sorry but the ski cabin in Vermont didn't have Internet access...</p>

<p>We are very sensitive to the critical nature of this bug. <a href="/blogs/Status/archives/000520.html#more">Here's what I found out on Friday</a>.</p>

<p>I've implemented a solution to option #2 and have tested it. However, the way it works is to use ipconfig to get the IP address of the current machine then nslookup to change that to a hostname. After that I've found that nbu-cqweb is actually known as nt-irva-1521.broadcom.com. So I have it hard coded to return an SMTP host of mms.broadcom.com if it's running on nt-irva-1521.broadcom.com otherwise return smtphost.broadcom.com. There are a couple of things I don't like about this solution:</p>

<ol>
  <li>Hard coding of machine names. Will nbu-cqweb always be known as nt-irva-1521.broadcom.com? Also, such a fix will break if we implement a new web server for you which will presumably have a different machine name...</li>

  <li>I'm not sure how this works in the context of CQ Web as opposed to CQ Client. It seems to work on p4test's Web Server.</li>

  <li>I've only addressed the Submit notify action. Turns out there are other notify actions (e.g. Assign, Resolve, Verify) which are still using the older PAINET object. I would have thought that all of the email sending would be done through one routine but it turns out the code was essentially duplicated in many places. (Note PAINET is an object that IBM/Rational cooked up for CQ only). I have not changed these and I would assume that they are as likely as Submit to send email with a send date of 2001. Again, we've never determined why the old code stopped working correctly.</li>
</ol>

<p>I have this fix ready to go but I'll wait for your OK before applying it to production.</p>
                           </div>
                        </div>
                        <p class="entry-footer">
                           <span class="post-footers">Posted by  on January 23, 2006 11:00 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000521.html">Permalink</a>
                        </p>
                     </div>

                     

                     
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</body>
</html>
