<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <meta name="generator" content="Movable Type 5.2.3" />

   <link rel="stylesheet" href="http://defaria.com/blogs/Status/styles-site.css" type="text/css" />
   <link rel="alternate" type="application/atom+xml" title="Atom" href="http://defaria.com/blogs/Status/atom.xml" />
   <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://defaria.com/blogs/Status/index.xml" />

   <title>Status for Andrew DeFaria: XAM Build</title>

   <link rel="start" href="http://defaria.com/blogs/Status/" title="Home" />
   <link rel="prev" href="http://defaria.com/blogs/Status/archives/000546.html" title="Successful Build on sons-sc-cc" />
   <link rel="next" href="http://defaria.com/blogs/Status/archives/000548.html" title="Building salira2" />

   

   

   <script type="text/javascript" src="http://defaria.com/blogs/Status/mt-site.js"></script>
</head>
<body class="layout-one-column" onload="individualArchivesOnLoad(commenter_name)">
   <div id="container">
      <div id="container-inner" class="pkg">

         <div id="banner">
            <div id="banner-inner" class="pkg">
               <h1 id="banner-header"><a href="http://defaria.com/blogs/Status/" accesskey="1">Status for Andrew DeFaria</a></h1>
               <h2 id="banner-description">Searchable status reports and work log</h2>
            </div>
         </div>

         <div id="pagebody">
            <div id="pagebody-inner" class="pkg">
               <div id="alpha">
                  <div id="alpha-inner" class="pkg">

                     <p class="content-nav">
                        <a href="http://defaria.com/blogs/Status/archives/000546.html">&laquo; Successful Build on sons-sc-cc</a> |
                        <a href="http://defaria.com/blogs/Status/">Main</a>
                        | <a href="http://defaria.com/blogs/Status/archives/000548.html">Building salira2 &raquo;</a>
                     </p>

                     <a id="a000547"></a>
                     <div class="entry" id="entry-547">
                        <h3 class="entry-header">XAM Build</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Got XAM ant build to work. Test build almost working</li>

  <li>Ported Build.pl for use in XAM</li>
</ul>
                           </div>
                           <div id="more" class="entry-more">
                              <p>I assume you mean the state of XAM. Here's what I've done:</p>

<ul>
  <li>Moved .../platform/L3/platform/src/com/hp/platform/fcas -> .../platform/XAM/server/src/com/hp/platform/fcas</li>

  <li>Moved .../platform/L3/platform/src/test/com/hp/platform/fcas -> .../platform/XAM/server/src/test/com/hp/platform/fcas</li>

  <li>Moved .../riss/W2/xam/client -> .../platform/XAM/client/c</li>
</ul>

<p>By "moved" I mean that I copied those areas from the old place to the new place, added them to source control and rmnamed the old areas. This is as per Rational's recommendation for moving things in a UCM environment.</p>

<p>Next I attempted to build fcas in the new area. It became quickly apparent that we need to port over the buildTools directory with its build_common.xml if we wish to replicate the build environment of L3.</p>

<p>With Rahul's help I managed to build the server component in XAM. I have not tackled the client component nor test at this time. I've checked in the buildTools/build_common.xml and the build.xml under the server area.</p>

<p>Here's how you can build XAM:</p>

<ul>
  <li>If necessary rebase your RISS15_xam substream or create view from RISS15_xam</li>

  <li>Change directory to .../platform/XAM/server/src/com/hp/platform/fcas</li>

  <li>type "ant -Dbase_dir=/vobs/platform/XAM -DviewBase=/vobs"</li>
</ul>

<p>Note: viewBase would be different if you are using a snapshot view.</p>

<p>Since XAM will be separated from L3 the question is: How are dependencies handled? For example, this XAM "depends on" or "imports" code from L3's core and csfr. To address this we added:</p>

<div class="code"><pre>
&lt;pathelement path="${viewBase}/platform/L3/code"/&gt;
</pre></div>

<p>to the ext.classpath in build_common.xml even though the comment for this states:</p>

<div class="code"><pre>
&lt;!--
    Class path element for Build. Don't add libraries here Libraries
    should go under devenv/buildenv/lib those libs will be
    automatically picked up by the following element
--&gt;
</pre></div>

<p>You see we now have two different types of libraries, ext.classpath libraries that are built elsewhere and just deposited into devenv/buildenv/lib and our own libraries that are built in another component (in this case the L3 component).</p>

<p>Also, the above ${viewBase}/platform/L3/code assumes that that directory exists and contains compiled class files. It assume that L3 was built before XAM is built. This introduces the notion of dependencies between components.</p>

<p>Finally you'll note that we don't build from the /vobs/platform/XAM level, rather we descend down into the /vobs/platform/XAM/server/src/com/hp/platform/fcas level to do our ant build. Questions:</p>

<ul>
  <li>Do we need a Build.pl to sit in /vobs/platform/XAM to build everything underneath it?</li>

  <li>Can't ant do recursive ants like make does recursive makes?</li>
</ul>
                           </div>
                        </div>
                        <p class="entry-footer">
                           <span class="post-footers">Posted by  on April 24, 2006  7:15 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000547.html">Permalink</a>
                        </p>
                     </div>

                     

                     
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</body>
</html>
