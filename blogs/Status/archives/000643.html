<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <meta name="generator" content="Movable Type 5.2.3" />

   <link rel="stylesheet" href="http://defaria.com/blogs/Status/styles-site.css" type="text/css" />
   <link rel="alternate" type="application/atom+xml" title="Atom" href="http://defaria.com/blogs/Status/atom.xml" />
   <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://defaria.com/blogs/Status/index.xml" />

   <title>Status for Andrew DeFaria: GPDB 2.0</title>

   <link rel="start" href="http://defaria.com/blogs/Status/" title="Home" />
   <link rel="prev" href="http://defaria.com/blogs/Status/archives/000642.html" title="CC Defaults report" />
   <link rel="next" href="http://defaria.com/blogs/Status/archives/000644.html" title="First productive day" />

   <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://defaria.com/blogs/Status/archives/000643.html"
    trackback:ping="http://defaria.com/mt/mt-tb.cgi/31"
    dc:title="GPDB 2.0"
    dc:identifier="http://defaria.com/blogs/Status/archives/000643.html"
    dc:subject="GPDB"
    dc:description=" Sent email to Donna describing how to work with GPDB 2.0 Implemented Aliases Changed project search to go off of new view for project aliases Fixed bug in displaying of DesignSync information for projects..."
    dc:creator=""
    dc:date="2007-05-22T15:52:32-06:00" />
</rdf:RDF>
-->


   

   <script type="text/javascript" src="http://defaria.com/blogs/Status/mt-site.js"></script>
</head>
<body class="layout-one-column" onload="individualArchivesOnLoad(commenter_name)">
   <div id="container">
      <div id="container-inner" class="pkg">

         <div id="banner">
            <div id="banner-inner" class="pkg">
               <h1 id="banner-header"><a href="http://defaria.com/blogs/Status/" accesskey="1">Status for Andrew DeFaria</a></h1>
               <h2 id="banner-description">Searchable status reports and work log</h2>
            </div>
         </div>

         <div id="pagebody">
            <div id="pagebody-inner" class="pkg">
               <div id="alpha">
                  <div id="alpha-inner" class="pkg">

                     <p class="content-nav">
                        <a href="http://defaria.com/blogs/Status/archives/000642.html">&laquo; CC Defaults report</a> |
                        <a href="http://defaria.com/blogs/Status/">Main</a>
                        | <a href="http://defaria.com/blogs/Status/archives/000644.html">First productive day &raquo;</a>
                     </p>

                     <a id="a000643"></a>
                     <div class="entry" id="entry-643">
                        <h3 class="entry-header">GPDB 2.0</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Sent email to Donna describing how to work with GPDB 2.0</li>

  <li>Implemented Aliases</li>

  <li>Changed project search to go off of new view for project aliases</li>

  <li>Fixed bug in displaying of DesignSync information for projects</li>
</ul>
                           </div>
                           <div id="more" class="entry-more">
                              <p>This email is to describe to you how to use the new GPDB API. For the most part, for the functions you had been calling, the interface should be identical. Sometimes you'll need to change the hash that you pass in as the Perl module uses Perl hash's name/value pairs as a direct relationship to the field names and values in the database. So if you use a hash key that doesn't correspond to a database field name then it won't work.</p>

<p>Also (attached) is your syncGPDBAddDSProj.pl script ported to use GPDB 2.0.</p>

<h3>Alternate Database</h3>

<p>Note that until GPDB 2.0 is released we have GPDB 1.0 in production. The GPDB API has been augmented to allow you to specify an alternate database. The gpdb_login call supports an additional parameter to specify which database to open:</p>

<blockquote>
  <p><i>gpdb_login (username, password, db)</i></p>

  <p>The gpdb_login() method takes a username and non-encrypted password as parameters and returns a user authentication string. Additionally an optional db parameter can be passed in. Default is "Oracle" and represents the production database. Use "OracleDevelopment" to access the test database. The authentication string make look like "::browse" or "readonly::browse" if (1) the username is not found in the gpdb user table or (2) the password does not match the user's enterprise password. This could be the desired effect as often the tool may be run by individuals that only need "browse" access for reference.</p>
</blockquote>

<p>While gpdb_login supports this extra parameter I don't think you'll often use it. Instead you can specify which database to use in an environment variable GPDB_ACTIVE_DB:</p>

<div class=code><pre>
$ export GPDB_ACTIVE_DB=OracleDevelopment
$ ./myscript.pl
</pre></div>

<h3>Where to pick up the GPDB API</h3>

<p>Again, because we have GPDB 1.0 in production we cannot push out the GPDB 2.0 API (Perl Modules) to the same locations as GPDB 1.0 API. As such you will need to temporarily point to them at an alternate location. Here's a full set of Perl use statements needed:</p>

<div class=code><pre>
# Standard CDOE modules (Modules of the month!)
use lib "/apps/perl/modules-0609/lib";

# Perl/Oracle libraries
use lib "/apps/oracle/perl/10.2.0.1.0/lib";

#use lib "/apps/cmpackages/perl/lib/site_perl/5.8.0";
use lib "/web/gpdb/cgi-bin";

use GPDB::gpdb;
</pre></div>

<p>When the GPDB API 2.0 gets released we can use the /apps/cmpackages/perl/lib/site_perl/5.8.0 and remove the /web/gpdb/cgi-bin use statement.</p>

<h3>GPDB now authenticates to the enterprise LDAP</h3>

<p>GPDB logins now use your AXID and your enterprise password! If this is incorrect then you will only be granted read access. If you specify a proper AXID and enterprise password you will authenticate. GPDB then checks with its users table to see if you have been granted administrative, thus read/write, access. There is also a GPDB administrative user that can be used for long running, cron like scripts.</p>

<h3>Did somebody ask for aliases?</h3>

<p>I've implemented a rudimentary form of aliases since you were so interested in them. Aliases are global (and alias of "foo" related to a project "bar" at all sites). You can add or delete aliases on the Update Project screen (e.g. <a href="http://gpdb.design.ti.com/cgi-bin/gpdb-devel.pl?db=OracleDevelopment&amp;operation=showProject&amp;projectName=faraday&amp;siteName=Dallas">faraday
Project</a>). Additionally the Project: Search screen will search for projects based on name and alias.</p>

<h3>Oracle/Linux issues</h3>

<p>We are still kinda of working out how to access Oracle on Linux through Perl.</p>

<h3>syncGPDBAddDSProj.pl script</h3>

<p>I've ported this script (attached) to GPDB 2.0. Note the comments in the code about changed required for GPDB 2.0. Here is a command line execution:</p>

<div class=code><pre>
$ ./syncGPDBAddDSProj.pl -f Dallas -p 10000 -a &lt;userid&gt; -w &lt;password&gt; \
&gt; -n andrew_defaria -g ASIC -c /tmp -s drteeth.dal.design.ti.com
</pre></div>

<p>And you can see the project added <a href="http://gpdb.design.ti.com/cgi-bin/gpdb-devel.pl?db=OracleDevelopment&amp;operation=showProject&amp;projectName=andrew_defaria&amp;siteName=Dallas">here</a>.</p>
                           </div>
                        </div>
                        <p class="entry-footer">
                           <span class="post-footers">Posted by  on May 22, 2007  3:52 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000643.html">Permalink</a>
                        </p>
                     </div>

                     
                     <div class="trackbacks">
                        <h3 id="trackback" class="trackbacks-header">TrackBack</h3>
                        <div id="trackbacks-info">
                           <p>TrackBack URL for this entry:<br />http://defaria.com/mt/mt-tb.cgi/31</p>
                        </div>
                        <div class="trackbacks-content">
                           
                        </div>
                     </div>
                     

                     
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</body>
</html>
