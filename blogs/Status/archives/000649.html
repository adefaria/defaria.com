<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <meta name="generator" content="Movable Type 5.2.3" />

   <link rel="stylesheet" href="http://defaria.com/blogs/Status/styles-site.css" type="text/css" />
   <link rel="alternate" type="application/atom+xml" title="Atom" href="http://defaria.com/blogs/Status/atom.xml" />
   <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://defaria.com/blogs/Status/index.xml" />

   <title>Status for Andrew DeFaria: Removed views/documented customizing Unix environments</title>

   <link rel="start" href="http://defaria.com/blogs/Status/" title="Home" />
   <link rel="prev" href="http://defaria.com/blogs/Status/archives/000648.html" title="Fun with IT in GD" />
   <link rel="next" href="http://defaria.com/blogs/Status/archives/000650.html" title="View space/Locked stream" />

   <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://defaria.com/blogs/Status/archives/000649.html"
    trackback:ping="http://defaria.com/mt/mt-tb.cgi/37"
    dc:title="Removed views/documented customizing Unix environments"
    dc:identifier="http://defaria.com/blogs/Status/archives/000649.html"
    dc:subject="General Dynamics"
    dc:description=" Worked with Tom and Bryce to remove views from p57707 Wrote a document describing how to customize your Unix CDE environment..."
    dc:creator=""
    dc:date="2007-07-10T16:17:52-06:00" />
</rdf:RDF>
-->


   

   <script type="text/javascript" src="http://defaria.com/blogs/Status/mt-site.js"></script>
</head>
<body class="layout-one-column" onload="individualArchivesOnLoad(commenter_name)">
   <div id="container">
      <div id="container-inner" class="pkg">

         <div id="banner">
            <div id="banner-inner" class="pkg">
               <h1 id="banner-header"><a href="http://defaria.com/blogs/Status/" accesskey="1">Status for Andrew DeFaria</a></h1>
               <h2 id="banner-description">Searchable status reports and work log</h2>
            </div>
         </div>

         <div id="pagebody">
            <div id="pagebody-inner" class="pkg">
               <div id="alpha">
                  <div id="alpha-inner" class="pkg">

                     <p class="content-nav">
                        <a href="http://defaria.com/blogs/Status/archives/000648.html">&laquo; Fun with IT in GD</a> |
                        <a href="http://defaria.com/blogs/Status/">Main</a>
                        | <a href="http://defaria.com/blogs/Status/archives/000650.html">View space/Locked stream &raquo;</a>
                     </p>

                     <a id="a000649"></a>
                     <div class="entry" id="entry-649">
                        <h3 class="entry-header">Removed views/documented customizing Unix environments</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Worked with Tom and Bryce to remove views from p57707</li>

  <li>Wrote a document describing how to customize your Unix CDE environment</li>
</ul>
                           </div>
                           <div id="more" class="entry-more">
                              <h3>Removing views with pending deliveries</h3>

<p>Had an issue where a user (p57707) had left the company but still had UCM related views. In attempting to remove those views to free up space I was told that there was a delivery in progress. Yet if I set to that view and did ct deliver -cancel it would say that there was no delivery in progress. The best thing to do here is to do a ct lsact -cact which should be the deliver activity. Then find which view these was delivered from. IOW this view was the destination view for the delivery and we needed to find where the delivery was initiated from.  Then ct deliver -cancel|-resume from that stream/view.</p>

<h3>Tips on Personalizing your Unix/CDE environment</h3>

<p>Way back in the day I used to alpha test HP's VUE which latter became the basis for CDE. Oh yes it's brought back memories for sure, and a couple of head scratches as I strive to remember how to configure, customize and personalize things. Perhaps you too have wished to make the environment a little better. Well here's some tips...</p>

<h3>Get control of your X Resources</h3>

<p>A lot of CDE and X can be controlled via X Resources. But how do you manage your X resources in a CDE environment? In general, xrdb(1) is your friend. CDE saves your "session" using X resource files that are loaded via xrdb(1) at session start up. Additionally (I believe) that X loads any and all resources in ~/.Xresources at start. So the trick is to get all your X resources into ~/.Xresources and to start actively managing them. You can do this as follows:</p>

<div class=code><pre>
$ xrdb -q &gt; ~/.Xresources
</pre></div>

<p>Now you can add and/or adjust resources in to your liking then do xrdb -l ~/.Xresources. Remember, xrdb -l ~/.Xresources will always get you back to your <i>known set</i> of X Resources.</p>

<h3>To find if a resource is set</h3>

<p>You can see if a resource is set by using the following:</p>

<div class=code><pre>
$ xrdb -q | grep -i &lt;<i>resource string</i>&gt;
</pre></div>

<p>I've attached my ~/.Xresources. Let me bring a few to your attention. Note that resources that start with "*" are global in nature. Thus "*background: &lt;<i>color</i>&gt;" will serve as the background for any X application that doesn't explicitly set a background color. "*"'s between resource names are more general than "."'s. Just think "*" expands to anything where "." expands to one character.</p>

<p>The "Dtwm*0*backdrop*image: NoBackdrop" says not to set a CDE "Backdrop" on any of the workspaces. Instead I use xv to randomly change my backdrops from jpg images. More on that later...</p>

<h3>Using Xresource Classes</h3>

<p>Rather than start Xterms (or dtterms) with:</p>

<div class=code><pre>
$ xterm -fg white -bg black -sl 5000 -cr green \
&gt; -sb -e rsh &lt;other machine&gt;
$ xterm -fg yellow -bg blue -sl 5000 -sb -e rsh &lt;other machine&gt;
</pre></div>

<p>thus having long lists of options, classify your resources such as:</p>

<div class=code><pre>
XServer*background:    Black
XServer*foreground:    Green
XServer*colorBD:       Yellow
XServer*colorUL:       Red
XServer*cursorColor:   Yellow
</pre></div>

<p>Then use xterm -name XServer and all of those X Resources that start with, in this case, XServer will be used. You can set generic or global resources such as;</p>

<div class=code><pre>
XTerm*saveLines:      5000
XTerm*scrollbar:      True
</pre></div>

<h3>Setting Meta (or the Diamond key) to be Emacs mode Meta key</h3>

<p>Did you know that (even in tcsh) generally Emacs key bindings are in effect at the command line. This while arrow up gets you the previous command in the command history stack so does Cntl-P also go to the previous command. Other Emacs bindings that work:</p>

<ul>
  <li>C-p: Previous command in history stack</li>
  <li>C-n: Next command in history stack</li>
  <li>C-a: Go to beginning of line</li>
  <li>C-e: Go to end of line</li>
  <li>C-f: Go forward one character</li>
  <li>M-f: Go forward one word</li>
  <li>C-b: Go backward one character</li>
  <li>M-b: Go backward one word</li>
  <li>C-d: Delete one character</li>
  <li>M-d: Delete one word</li>
  <li>C-t: Transpose two characters</li>
</ul>

<p>Additionally, in bash, C-r stands for search backward in the history stack. tcsh does not support this. Using such keybindings keeps your hands on the keyboard and improves your productivity.</p>

<p>M-f listed above means "hold the meta key down and type f". The meta key is defined as Escape, which, unfortunately will repeat if held down. Most people map this to the "Alt" key. The Sun keyboard has both an Alt key and two "Diamond" keys that are normally labeled Alt on PC keyboards. Therefore it's good to configure your terminal emulator to
use this Diamond/Alt key as Emacs' Meta key. To do this for Xterm use the following X resource (best put into your ~/.Xresouces):</p>

<div class=code><pre>
Xterm*eightBitInput: True
</pre></div>

<p>and Dtterm:</p>

<div class=code><pre>
Dtterm*kshMode: True
</pre></div>

<p>Side note about "kshMode". This is a misnomer really. True, ksh does support Emacs style keybindings (set -o emacs or set -o vi for you vi guys) and it is useful to have Alt =&gt; Meta. However ksh is not the only shell that this is useful for. It is also useful for tcsh and bash, for example.</p>

<h3>Taking Control of your Buttons and Keybindings</h3>

<p>The following:</p>

<div class=code><pre>
Dtwm*keyBindings:    MyKeys
Dtwm*buttonBindings: MyButtons
</pre></div>

<p>Tell the window manager (Dtwm) not to use the default keyBindings and buttonBindings but instead to use MyKeys and MyButtons instead. These are defined in your dtwmrc, which is under ~/.dt/en_US.ISO8859-1/dtwmrc (which I've also attached). I started by copying the system dtwmrc (cp /usr/dt/config/C/sys.dtwmrc ~/.dt/en_US.ISO8859-1) and then modified it.</p>

<p>You're dtwmrc can be very complicated. See dtwmrc(1) for more info. Here are MyButtons:</p>

<div class=code><pre>
Buttons MyButtons
{
  &lt;Btn1Down&gt;        root              f.menu Terminals
  &lt;Btn1Down&gt;        window|frame|icon f.raise
  &lt;Btn2Click&gt;       root              f.toggle_frontpanel
  &lt;Btn3Down&gt;        root              f.menu  DtRootMenu
  &lt;Btn3Down&gt;        icon              f.post_wmenu
  Shift&lt;Btn1Click&gt;  frame|icon        f.lower
  &lt;Btn1Click&gt;       frame|icon|window f.raise
  &lt;Btn1Click2&gt;      frame             f.maximize
  &lt;Btn1Click2&gt;      icon              f.restore
  &lt;Btn2Click&gt;       frame|icon        f.raise_lower
  &lt;Btn3Down&gt;        frame|icon        f.post_wmenu
  Alt&lt;Btn1Click&gt;    frame|icon|window f.raise
  Alt&lt;Btn1Click2&gt;   frame|window      f.minimize
  Alt&lt;Btn1Click2&gt;   icon              f.restore
  Alt&lt;Btn2Click&gt;    frame|icon        f.raise_lower
  Alt&lt;Btn1Down&gt;     frame|icon|window f.move
  Alt&lt;Btn3Down&gt;     window            f.minimize
}
</pre></div>

<p>Many of these are taking from the defaults. Here are some of the changes I made:</p>

<ul>
  <li>Changed Btn1Down to bring up the "Terminals" menu</li>
  <li>Added "window" to the places where a Btn1Down would do a raise. This allows me to click on the window itself to raise it instead of having to find the window border.</li>
</ul>

<h3>Changing your desktop background</h3>

<p>I have a series of images that I like to constantly refresh on my background. I put them in ~/Images. CDE has terrible desktop background support (like circa 1990) and only supports xpm (which is a horrible image file format!). xv is an image viewer than handles more modern image file formats such as .gif, .jpg, and .png. It also has options
for setting the backdrop (provided CDE is not putting up a .xpm backdrop image, hence the "Dtwm*0*backdrop*image: NoBackdrop" setting). Now how do we get this to do this periodically?</p>

<p>The answer? Perl. I've attached a Perl script that sets your backdrop by choosing a random image from all of those under ~/Images every hour or whenever it receives a SIGUSR2.</p>

<p>Oh and if you wish feel free to:</p>

<div class=code><pre>
$ mkdir ~/Images
$ cp ~p6238c/Images ~/Images
</pre></div>

<p>Or</p>

<div class=code><pre>
$ ln -s ~p6258c/Images ~/Images
</pre></div>

<div class=code><pre>
*0*ColorPalette:	SoftBlue.dp
*0*ColorUse:	HIGH_COLOR
*DtEditor*textFontList:	-dt-interface user-medium-r-normal-s*-*-*-*-*-*-*-*-*:
*DtTerm*shadowThickness:	1
*Font:	-dt-interface user-medium-r-normal-s*-*-*-*-*-*-*-*-*
*FontList:	-dt-interface system-medium-r-normal-s*-*-*-*-*-*-*-*-*:
*FontSet:	-dt-interface user-medium-r-normal-s*-*-*-*-*-*-*-*-*
*HelpColorUse:	1
*XmText*FontList:	-dt-interface user-medium-r-normal-s*-*-*-*-*-*-*-*-*:
*XmText*Translations:	#override\n\
        Ctrl<Key>u:delete-to-start-of-line()\n\
        Ctrl<Key>k:delete-to-end-of-line()\n\
        Ctrl<Key>a:beginning-of-line()\n\
        Ctrl<Key>e:end-of-line()\n\
        Ctrl<Key>p:process-up()\n\
        Ctrl<Key>b:backward-character()\n\
        Ctrl<Key>n:process-down()\n\
        Ctrl<Key>f:forward-character()
*XmTextField*FontList:	-dt-interface user-medium-r-normal-s*-*-*-*-*-*-*-*-*:
*XmTextField*Translations:	#override\n\
        Ctrl<Key>u:delete-to-start-of-line()\n\
        Ctrl<Key>k:delete-to-end-of-line()\n\
        Ctrl<Key>a:beginning-of-line()\n\
        Ctrl<Key>e:end-of-line()\n\
        Ctrl<Key>b:backward-character()\n\
        Ctrl<Key>f:forward-character()
*background:	#9494D5D5DFDF
*buttonFontList:	-dt-interface system-medium-r-normal-s*-*-*-*-*-*-*-*-*:
*dtEnvMapForRemote:	DTAPPSEARCHPATH:DTHELPSEARCHPATH:DTDATABASESEARCHPATH:XMICONSEARCHPATH:XMICONBMSEARCHPATH
*enableBtn1Transfer:	button2_transfer
*enableButtonTab:	True
*enableCDEColorFactors:	True
*enableDefaultButton:	True
*enableDragIcon:	True
*enableEtchedInMenu:	True
*enableMenuInCascade:	True
*enableMultiKeyBindings:	True
*enableThinThickness:	True
*enableToggleColor:	True
*enableToggleVisual:	True
*enableUrlAwareness:	True
*fontGroup:	Courier
*foreground:	#000000000000
*labelFontList:	-dt-interface system-medium-r-normal-s*-*-*-*-*-*-*-*-*:
*loginShell:	True
*multiClickTime:	500
*promptDialog.bboard.frame.form.text.columns:	45
*saveLines:	500
*scrollBar_right:	True
*sessionVersion:	3.0
*systemFont:	-dt-interface system-medium-r-normal-s*-*-*-*-*-*-*-*-*:
*textFontList:	-dt-interface user-medium-r-normal-s*-*-*-*-*-*-*-*-*:
*ttyModes:	intr ^c quit ^\\ erase ^h kill ^u eof ^d start ^q stop ^s susp ^z dsusp ^y rprnt ^r flush ^o weras ^w lnext ^v
*userFont:	-dt-interface user-medium-r-normal-s*-*-*-*-*-*-*-*-*:
*xineramaDefaultFramebuffer:	0
Dtstyle*timeoutScale:	5
Dtwm*0*FrontPanel*geometry:	+67-4
Dtwm*0*helpResources:	\n  
Dtwm*0*initialWorkspace:	ws0
Dtwm*0*workspaceCount:	4
Dtwm*0*workspaceList:	"ws0" "ws1" "ws2" "ws3"
Dtwm*0*backdrop*image:	NoBackdrop
Dtwm*0*ws3*title:	Four
Dtwm*0*ws4*title:	New
Dtwm*0*ws5*title:	New_1
Dtwm*0*ws6*title:	New_2
Dtwm*focusAutoRaise:	False
Dtwm*gwmOnFrontPanel:	False
twm*moveOpaque:	True
Dtwm*showSwitchArea:	True
Dtwm*syncDesktopSwitch:	False
Dtwm*useSameBackdrop:	True
Dtwm.keyboardFocusPolicy:	pointer

! Dtwm
Dtwm*keyBindings:	MyKeys
Dtwm*buttonBindings:	MyButtons

! Rxvt
Rxvt*font:		"Lucida Console-*-16"
Rxvt*font1:		"Lucida Console-*-18"
Rxvt*font2:		"Lucida Console-*-20"
Rxvt*saveLines:		5000
Rxvt*scrollBar_right:	True
Rxvt*geometry:		80x24
Rxvt*loginShell:	True
Rxvt*background:	SteelBlue
Rxvt*foreground:	White
 Rxvt*colorBD:		Red
Rxvt*colorUL:		Red
Rxvt*cursorColor:	Red

! New server
Jupiter*background:	MidNightBlue
Jupiter*foreground:	White
Jupiter*colorBD:	Red
Jupiter*colorUL:	Red
Jupiter*cursorColor:	Yellow

! Danni's desktop
Starbase*background:	MediumVioletRed
Starbase*foreground:	White
Starbase*colorBD:	Yellow
Starbase*colorUL:	Red
Starbase*cursorColor:	Yellow

! Hewlett Packard
Tiburon*background:	Black
Tiburon*foreground:	Magenta
Tiburon*colorBD:	Yellow
Tiburon*colorUL:	Red
Tiburon*cursorColor:	Green

Pacifica*background:	ForestGreen
Pacifica*foreground:	White
Pacifica*colorBD:	Red
Pacifica*colorUL:	Red
Pacifica*cursorColor:	Red

plebld01*background:	Black
plebld01*foreground:	Yellow
plebld01*colorBD:	Yellow
plebld01*colorUL:	Red
plebld01*cursorColor:	Yellow

ccase-sj1-4*background:	Black
ccase-sj1-4*foreground:	Green
ccase-sj1-4*colorBD:	Green
ccase-sj1-4*colorUL:	Red
ccase-sj1-4*cursorColor:Yellow

XServer*background:	Black
XServer*foreground:	Green
XServer*colorBD:	Yellow
XServer*colorUL:	Red
XServer*cursorColor:	Yellow

! XTerm
XTerm*Font:		-*-Lucida Sans Typewriter-medium-r-*-*-*-*-*-*-*-*-*
XTerm*saveLines:	5000
XTerm*scrollBar_right:	True
XTerm*scrollBar:	True
XTerm*geometry:		80x24
XTerm*loginShell:	True
XTerm*background:	SteelBlue
XTerm*foreground:	White
XTerm*colorBD:		Blue
XTerm*colorUL:		Red
XTerm*cursorColor:	Yellow
XTerm*eightBitInput:	False

! XEmacs
Emacs*Background:	Gray
Emacs*Font:		-*-Lucida Sans Typewriter-medium-r-*-*-*-*-*-*-*-*-*

! Dtterm
Dtterm*kshMode: 	True
</pre></div>

<div class=code><pre>
Menu DtRootMenu 
{
  "Menu"		f.title
  "Applications"	f.menu ApplicationsMenu
  "Terminals"		f.menu Terminals
  "Files"		f.menu FilesMenu
  "Folders"		f.menu FoldersMenu
  "Hosts"		f.menu HostsMenu
  "Tools"		f.menu ToolsMenu
  "Windows"		f.menu WindowsMenu
  "Lock"		f.action LockDisplay
  "Suspend"		f.action SDTsuspend
}

Menu Terminals
{
  "Terminals"		f.title
  sep			f.separator
  "Local X Term"	f.action Xterm
  "Remote X Term"	f.action XtermRlogin
  sep			f.separator
  "Local DT Term"	f.action Dtterm
  "Remote DT Term"		f.action DttermRlogin
}

Menu WindowsMenu
{
    "Windows"		f.title
    "Refresh"		f.refresh
    "Arrange Icons"	f.pack_icons
    "Restart"		f.restart
    "Update"		f.action UpdateWorkspaceMenu
    "Kill"		f.exec /usr/openwin/bin/xkill
}

Menu ApplicationsMenu
{
  "Applications"	f.title
  "Application Manager"	f.action Dtappmgr
  "Audio Control"	f.action SDtAudioControl
  "Audio and Video"	f.action SDTjmplay
  "Calculator"		f.action Dtcalc
  "Calendar"		f.action Dtcm
  "Icon Editor"		f.action Dticon
  "Image Viewer"	f.action SDTimage
  "Snapshot"		f.action SDTsnapshot
  "Text Editor"		f.action TextEditor
  "Text Note"		f.action Note
  "Voice Note"		f.action Record
}

Menu FilesMenu
{
  "Files"		f.title
  "File Manager"	f.action Dtfile
  "Find File"		f.action SDtFind
  "Properties..."	f.action FileProperties
}

Menu FoldersMenu
{
  "Folders"		f.title
  "Empty Trash Can"	f.action DtEmptyTrash
  "File Manager - Home"	f.action DtfileHome
  "Open Floppy"		f.action OpenFloppy
  "Removable Media"	f.action Dtmediamgr
  "Trash Can"		f.action Dttrash
}

Menu HostsMenu
{
  "Hosts"		f.title
  "Find Host..."	f.action HOST_Find
  "Performance Meter"	f.action SDtPerfmeter
  "Terminal Console"	f.action DttermConsole
  "This Host"		f.action Terminal "/usr/dt/config/C/wsmenu/Hosts/This_Host"
  "Workstation Info"	f.action SDtWsinfo
}

Menu ToolsMenu
{
  "Tools"			f.title
  "Create Action"		f.action Dtcreate
  "Desktop Controls"		f.action DtControls
  "Hotkey Editor"		f.action SDtHotkey
  "Power Manager"		f.action SDTpowermgr
  "Print Manager"		f.action DtPrintManager
  "Printer Administrator"	f.action PrinterAdministratorDtspcd
  "Process Manager"		f.action SDtProcess
  "Solaris Management Console"	f.action smc
  "Terminal"			f.action Terminal
  "Watch Errors"		f.action DttermErrorlog
}

Menu DtPanelMenu
{
  "Windows"				f.title
  "Shuffle Up"				f.circle_up
  "Shuffle Down"			f.circle_down
  "Refresh"				f.refresh
  "Clean Up Icons"			f.pack_icons
  "Minimize/Restore Front Panel"	f.toggle_frontpanel
  "Restart Workspace Manager..."	f.restart
  "Update Workspace Menu"		f.action UpdateWorkspaceMenu
  "Disable Access Control"		f.action Xhost+
  "Enable Access Control"		f.action Xhost-
  "Kill Window..."			f.exec /usr/openwin/bin/xkill
}

Menu WindowMenu
{
  "Restore"		_R			f.normalize
  "Move"		_M			f.move
  "Size"		_S			f.resize
  "Minimize"		_n			f.minimize
  "Maximize"		_x			f.maximize
  "Lower"		_L			f.lower
  "Workspace..."	_W			f.workspace_presence
  "All Workspaces"	_A			f.occupy_all
  "Remove Workspace"	_e			f.remove
  "Close"		_C	Alt<Key>F4	f.kill
}

Keys MyKeys
{
  # Global
  #Alt<Key>Menu			root|icon|window	f.toggle_frontpanel 
  Alt<Key>Tab			root|icon|window	f.next_key
  Alt Shift<Key>Tab		root|icon|window	f.prev_key
  Alt<Key>Escape		root|icon|window	f.next_key
  Alt Shift<Key>Escape		root|icon|window	f.prev_key
  Alt<Key>Down			root|icon|window	f.circle_down
  Alt<Key>Up			root|icon|window	f.circle_up
  Alt<Key>Left			root|icon|window	f.prev_workspace
  Alt<Key>Right			root|icon|window	f.next_workspace
  Alt Ctrl Shift<Key>exclam	root|icon|window	f.set_behavior

  # Root
  <Key>SunAgain			root|ifkey		f.pack_icons
  <Key>SunProps			root|ifkey		f.version
  <Key>SunUndo			root|ifkey		f.refresh
  <Key>SunFront			root|ifkey		f.circle_up
  Shift<Key>SunFront		root|ifkey		f.circle_down
  <Key>Down			root			f.circle_down
  <Key>Up			root			f.circle_up
  <Key>Right			root			f.next_workspace
  <Key>Left			root			f.prev_workspace
  #
  <Key>SunAudioMute        	root|icon|window|ifkey  f.exec /usr/dt/appconfig/sdtvolctl/muteVolume
  <Key>SunAudioRaiseVolume	root|icon|window|ifkey  f.exec /usr/dt/appconfig/sdtvolctl/volumeUp
  <Key>SunAudioLowerVolume	root|icon|window|ifkey  f.exec /usr/dt/appconfig/sdtvolctl/volumeDown
  # Window/Icon
  <Key>SunFront			window|icon|ifkey       f.raise_lower
  <Key>SunOpen			window|ifkey            f.minimize
  Shift<Key>Escape		window|icon		f.post_wmenu
  Alt<Key>space			window|icon		f.post_wmenu
  Alt<Key>F6  			window			f.next_key transient
  Alt Shift<Key>F6		window			f.prev_key transient
  Alt<Key>F4			window|icon|ifkey	f.kill
  Alt<Key>SunProps		window|icon|ifkey	f.workspace_presence
  Alt<Key>SunPaste		window|icon|ifkey	f.occupy_all
  Alt<Key>SunCut		window|icon|ifkey	f.remove
  Alt<Key>KP_Insert		window|icon		f.occupy_all
  Alt<Key>Delete		window|icon		f.remove
  Ctrl<Key>L2			window|ifkey		f.next_cmap
  Ctrl<Key>L4			window|ifkey		f.prev_cmap
  # Icon
  <Key>SunOpen			icon|ifkey              f.restore
  Alt<Key>F4			icon|ifkey		f.kill
  <Key>SunProps			icon|ifkey		f.workspace_presence
  <Key>SunPaste			icon|ifkey		f.occupy_all
  <Key>SunCut			icon|ifkey		f.remove
  <Key>KP_Insert		icon|ifkey		f.occupy_all
  <Key>Delete			icon|ifkey		f.remove
}

Buttons MyButtons
{
  <Btn1Down>		root			f.menu Terminals
  <Btn1Down>		window|frame|icon	f.raise
  <Btn2Click>		root			f.toggle_frontpanel
  <Btn3Down>		root			f.menu  DtRootMenu
  <Btn3Down>		icon		f.post_wmenu
  Shift<Btn1Click>	frame|icon		f.lower
  <Btn1Click>		frame|icon|window	f.raise
  <Btn1Click2>		frame			f.maximize
  <Btn1Click2>		icon			f.restore
  <Btn2Click>		frame|icon		f.raise_lower
  <Btn3Down>		frame|icon		f.post_wmenu
  Alt<Btn1Click>	frame|icon|window	f.raise
  Alt<Btn1Click2>	frame|window		f.minimize
  Alt<Btn1Click2>	icon			f.restore
  Alt<Btn2Click>	frame|icon		f.raise_lower
  Alt<Btn1Down>		frame|icon|window	f.move
  Alt<Btn3Down>		window			f.minimize
}

Menu DefaultWindowMenu
{
  "Restore"	_R	Alt<Key>F5	f.normalize
  "Move"	_M	Alt<Key>F7	f.move
  "Size"	_S	Alt<Key>F8	f.resize
  "Minimize"	_n	Alt<Key>F9	f.minimize
  "Maximize"	_x	Alt<Key>F10	f.maximize
  "Lower"	_L	Alt<Key>F3	f.lower
  "Close"	_C	Alt<Key>F4	f.kill
}
</pre></div>

<div class=code><pre>
#!/bin/perl
use strict;
use warnings;
use POSIX qw (setsid);

use FindBin;

my $sleep = 60 * 60;
my $home = $ENV{HOME};
my $xv = "/prj/Synopsis/gccsparcOS5/ccss/utils/xv/xv";

my @images = `ls $home/Images`;
chomp @images;

my $arch             = $^O =~ /MSWin/  ? "windows"   :
                       $^O =~ /cygwin/ ? "cygwin"    : $^O;
my $null             = $^O =~ /MSWin/  ? "NUL"       : "/dev/null";

sub display_err ($;$$) {
  my ($msg, $handle, $nolinefeed) = @_;

  $handle = *STDERR if !defined $handle;

  print $handle $msg;
  print $handle "\n" if !defined $nolinefeed;
} # display_err

sub error ($;$$$) {
  my ($msg, $errno, $handle, $nolinefeed) = @_;

  if (!$errno) {
    $msg = "$FindBin::Script ERROR: $msg";
  } else {
    $msg = "$FindBin::Script ERROR #$errno: $msg";
  } # if

  display_err $msg, $handle, $nolinefeed;

  exit $errno if $errno;
} # error

sub EnterDaemonMode (;$$) {
  my ($logfile, $errorlog) = @_;

  if (!defined $logfile or $logfile eq '') {
    $logfile = $null;
  } # if

  if (!defined $errorlog or $errorlog eq '') {
    $errorlog = $null;
  } # if

  # Change the current directory to /
  my $root = $arch eq "windows" ? "C:\\" : "/";
  chdir $root
    or error "Can't chdir to $root ($!), 1";

  # Turn off umask
  umask 0;

  # Redirect STDIN to $null
  open STDIN, $null
    or error "Can't read $null ($!)", 1;

  # Redirect STDOUT to logfile
  open STDOUT, ">>$logfile"
    or error "Can't write to $logfile ($!), 1";

  # Redirect STDERR to errorlog
  open STDERR, ">>$errorlog"
    or error "Can't write to $errorlog ($!)", 1;

  # Now fork the daemon
  defined (my $pid = fork)
    or error "Can't create daemon ($!)", 1;

  # Now the parent exits
  exit if $pid;

  # Set process to be session leader
  setsid ()
    or error "Can't start a new session ($!)", 1;
} # EnterDaemonMode

sub SwitchWallPaper {
  # We don't need to do anything here, just handle the interrupt and
  # let the while loop continue.
} # SwitchWallPaper

$SIG{USR2} = \&SwitchWallPaper;
 
EnterDaemonMode;

while () {
  my $cmd = "$xv -root -maxpect -quit $home/Images/" . $images [int (rand $#images)];

  `$cmd`;

  sleep $sleep;
} # while
</pre></div>
                           </div>
                        </div>
                        <p class="entry-footer">
                           <span class="post-footers">Posted by  on July 10, 2007  4:17 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000649.html">Permalink</a>
                        </p>
                     </div>

                     
                     <div class="trackbacks">
                        <h3 id="trackback" class="trackbacks-header">TrackBack</h3>
                        <div id="trackbacks-info">
                           <p>TrackBack URL for this entry:<br />http://defaria.com/mt/mt-tb.cgi/37</p>
                        </div>
                        <div class="trackbacks-content">
                           
                        </div>
                     </div>
                     

                     
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</body>
</html>
