<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <meta name="generator" content="Movable Type 5.2.3" />

   <link rel="stylesheet" href="http://defaria.com/blogs/Status/styles-site.css" type="text/css" />
   <link rel="alternate" type="application/atom+xml" title="Atom" href="http://defaria.com/blogs/Status/atom.xml" />
   <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://defaria.com/blogs/Status/index.xml" />

   <title>Status for Andrew DeFaria: Automating Clearcase Installs</title>

   <link rel="start" href="http://defaria.com/blogs/Status/" title="Home" />
   <link rel="prev" href="http://defaria.com/blogs/Status/archives/000653.html" title="Deliver build changes" />
   <link rel="next" href="http://defaria.com/blogs/Status/archives/000655.html" title="PHP Web/Clearquest install/cq_setup.csh" />

   <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://defaria.com/blogs/Status/archives/000654.html"
    trackback:ping="http://defaria.com/mt/mt-tb.cgi/41"
    dc:title="Automating Clearcase Installs"
    dc:identifier="http://defaria.com/blogs/Status/archives/000654.html"
    dc:subject="General Dynamics"
    dc:description=" Created auto install script for Linux..."
    dc:creator=""
    dc:date="2007-07-19T16:40:48-06:00" />
</rdf:RDF>
-->


   

   <script type="text/javascript" src="http://defaria.com/blogs/Status/mt-site.js"></script>
</head>
<body class="layout-one-column" onload="individualArchivesOnLoad(commenter_name)">
   <div id="container">
      <div id="container-inner" class="pkg">

         <div id="banner">
            <div id="banner-inner" class="pkg">
               <h1 id="banner-header"><a href="http://defaria.com/blogs/Status/" accesskey="1">Status for Andrew DeFaria</a></h1>
               <h2 id="banner-description">Searchable status reports and work log</h2>
            </div>
         </div>

         <div id="pagebody">
            <div id="pagebody-inner" class="pkg">
               <div id="alpha">
                  <div id="alpha-inner" class="pkg">

                     <p class="content-nav">
                        <a href="http://defaria.com/blogs/Status/archives/000653.html">&laquo; Deliver build changes</a> |
                        <a href="http://defaria.com/blogs/Status/">Main</a>
                        | <a href="http://defaria.com/blogs/Status/archives/000655.html">PHP Web/Clearquest install/cq_setup.csh &raquo;</a>
                     </p>

                     <a id="a000654"></a>
                     <div class="entry" id="entry-654">
                        <h3 class="entry-header">Automating Clearcase Installs</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Created auto install script for Linux</li>
</ul>
                           </div>
                           <div id="more" class="entry-more">
                              <h2>Automating Clearcase Installs</h2>

<p>Often you want to easily and quickly be able to install Clearcase on systems. Of course, there are lots of considerations, hence lots of parameters to consider. IBM/Rational's solution to this is <i>install_release</i> which is really just a script that calls <i>inst_rls</i>, yet another Perl script, to do the installation. As it does it prompts for parameters and performs the install. But it would be nice to be able to run through the prompts once, answering all the questions for a batch of similarly configured machines, then run that install on those machines.</p>

<p>Now IBM/Rational even thought of this and <i>install_release</i> has a facility to perform multiple installs remotely to a bunch of machines. But you may not have all of those machines up and running nor identified.</p>

<p>Or you may wish to automate the process yourself, scripting a solution that queries other things to determine exactly which type of install to do.</p>

<h3>Running install_release with -echo_cmd_only</h3>

<p>While no longer documented, running <i>install_release</i> with the parameter  -echo_cmd_only causes <i>install_release</i> to run through all of the prompts and then it just spits out the full command line that will perform the install as specified. This command line can then be used as the basis for your own automation.</p>

<p>The following is a quick script to install Clearcase 6.x on Redhat systems:</p>

<div class=code><pre>
#!/bin/bash
#
# Quick script to install Clearcase 6.x on Redhat x86 64 bit
#
# Andrew@DeFaria.com

if [ $(id -u) != 0 ]; then
  echo "ERROR: You must be root to install Clearcase"
  exit 1
fi

# Define some parameters that might be changing
registry_region=cclinux
registry_host=cclinux
license_host=cclic
release_path=/net/cclinux/opt/clearcase/ccrel6.0_pXX_rhat/2003.06.00/rhat_x86
release_area=$release_path/clearcase/install
logfile=/tmp/Rational_install.$(date +%y%m%d.%M.%S)

cd $release_area

# Now install
./install_release      \
  -nlog                \
  -rbh Unknown         \
  -comp
ratl_perl,atria_perl,atria_install,atria_basement,atria_cplus_shlib,
atria_base,CC_base,atria_X11_base,CC_client,atria_server,
atria_cplus_base,atria_gui,CC_doc,CC_bld_client,CC_vob_svr,
CC_view_svr,CC_int_client,CC_gui_client,CC_cnv_client,CC_MIN_STD,
CC_ONLY_SERVER,MS_shipping_server,CC_FULL,MS_all,MS_FULL   \
  -rr $registry_region \
  -to /opt/rational    \
  -rebuild_vnode 0     \
  -log $logfile        \
  -level 5             \
  -from $release_path  \
  -patch_kernel 0      \
  -rh $registry_host   \
  -local               \
  -model full          \
  -lh $license_host    \
  -no_query
</pre></div>

<h3>Notes:</h3>

<ol>
  <li>I inserted a little check at the top to make sure you're root when you run this script. You need to be root to install Clearcase</li>

  <li>I've defined a few variables that might change like the release area, registry host, registry region, etc.</li>

  <li>Needed to add -no_query to get this install script to not stop querying for further options. This has been observed on Linux only.</li>

  <li>All -comp components need to specified on one line, separated by comma with no spaces. It has been broken up above for readability purposes only.</li>
</ol>

                           </div>
                        </div>
                        <p class="entry-footer">
                           <span class="post-footers">Posted by  on July 19, 2007  4:40 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000654.html">Permalink</a>
                        </p>
                     </div>

                     
                     <div class="trackbacks">
                        <h3 id="trackback" class="trackbacks-header">TrackBack</h3>
                        <div id="trackbacks-info">
                           <p>TrackBack URL for this entry:<br />http://defaria.com/mt/mt-tb.cgi/41</p>
                        </div>
                        <div class="trackbacks-content">
                           
                        </div>
                     </div>
                     

                     
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</body>
</html>
