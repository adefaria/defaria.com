<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <meta name="generator" content="Movable Type 5.2.3" />

   <link rel="stylesheet" href="http://defaria.com/blogs/Status/styles-site.css" type="text/css" />
   <link rel="alternate" type="application/atom+xml" title="Atom" href="http://defaria.com/blogs/Status/atom.xml" />
   <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://defaria.com/blogs/Status/index.xml"$>" />

   <title>Status for Andrew DeFaria: June 2004 Archives</title>

   <link rel="start" href="http://defaria.com/blogs/Status/" title="Home" />
   <link rel="prev" href="http://defaria.com/blogs/Status/archives/2004_05.html" title="May 2004" />
   <link rel="next" href="http://defaria.com/blogs/Status/archives/2004_07.html" title="July 2004" />
</head>
<body class="layout-one-column">
   <div id="container">
      <div id="container-inner" class="pkg">

         <div id="banner">
            <div id="banner-inner" class="pkg">
               <h1 id="banner-header"><a href="http://defaria.com/blogs/Status/" accesskey="1">Status for Andrew DeFaria</a></h1>
               <h2 id="banner-description">Searchable status reports and work log</h2>
            </div>
         </div>

         <div id="pagebody">
            <div id="pagebody-inner" class="pkg">
               <div id="alpha">
                  <div id="alpha-inner" class="pkg">
                     
                     <p class="content-nav">
                        <a href="http://defaria.com/blogs/Status/archives/2004_05.html">&laquo; May 2004</a> |
                        <a href="http://defaria.com/blogs/Status/">Main</a>
                        | <a href="http://defaria.com/blogs/Status/archives/2004_07.html">July 2004 &raquo;</a>
                     </p>
                     
                     
                     

                     <h2 class="date-header">June 25, 2004</h2>
                     <a id="a000205"></a>
                     <div class="entry" id="entry-205">
                        <h3 class="entry-header">Finished backup script</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>The backup script is ready for deployment. It was determined to lock all vobs at once, back them all up then unlock the vobs. I also implemented the 7 days of history option. History is stored under d:\vobstore\backup as numbered directories (0-6 for Sun-Sat). The script now manages that area by first moving the current backup under d:\backup -> d:\vobstore\backup\<current day #> after first clearing out d:\vobstore\backup\<current day #> (if it existed). It was decided to put the history stuff under vobstore because this way we can tell the backup people "Just exclude d:\vobstore but get everything else".</p>

<p>I was experiencing "Access denied" errors irradically until I found out that there may be .being-deleted files as described <a href="http://www-1.ibm.com/support/docview.wss?rs=0&q1=being-deleted&uid=swg21129318&loc=en_US&cs=utf-8&cc=us&lang=en">here</a>. To solve this I implemented exclusions on the xcopy command (/exclude:d:\backup\exclude.strings) which tells xcopy to exclude things in the "c" directory - i.e. the cleartext pool - which Clearcase can easily recreate without data loss. This also has the effect of reducing the backup copy size in some cases significantly (e.g. \ASAP_Docs goes from 2.1 gig down to 1 gig!).</p>

<p>Here's a rough psuedo code of what the script does:</p>

<div id="code">
<pre>
Obtain a list of all vobs
Lock all vobs
foreach @vobs
  if d:\vobstore\backup\$current_day\$vob exists then
    remove it
  end if
  move d:\backup\$vob -> d:\vobstore\backup\$current_day\$vob
  copy $vob's storage area -> d:\backup\$vob
Next
Unlock all vobs
</pre>
</div>
<p>Cutting out the copying of cleartext pool has reduced the current backup time from 56 minutes (yes it grew) to 33 minutes.</p>

<p>Now, where are we WRT the SQL backup scripts?....</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  3:37 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000205.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June 23, 2004</h2>
                     <a id="a000202"></a>
                     <div class="entry" id="entry-202">
                        <h3 class="entry-header">Multisite/backup.pl</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Spent some time trying to multisite a test vob (\defaria). Realized that we will have a problem in that we will need a machine (server or client) dedicated to handling the multisite region in order to lock vobs and backup things.</p>

<p>Had a meeting WRT multisite approach. It was determined that will we switch to using a script to make a copy of the vobs and back up from there. Started writing script...</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  9:21 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000202.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June 21, 2004</h2>
                     <a id="a000204"></a>
                     <div class="entry" id="entry-204">
                        <h3 class="entry-header">XML</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Spent most of the day investigating XML and XSL.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  9:29 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000204.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June 18, 2004</h2>
                     <a id="a000201"></a>
                     <div class="entry" id="entry-201">
                        <h3 class="entry-header">XML</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Spent most of the day studying XML</li>

<li>Added debugging code to LogActivity trigger</li>

<li>Worked on problem Sujay's people had with 0 length document</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  1:55 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000201.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June 16, 2004</h2>
                     <a id="a000199"></a>
                     <div class="entry" id="entry-199">
                        <h3 class="entry-header">AD/CC Registry</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Activated reporting of Active Directory groups</li>

<li>Cleaned up Clearcase Registry</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  2:17 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000199.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June 15, 2004</h2>
                     <a id="a000200"></a>
                     <div class="entry" id="entry-200">
                        <h3 class="entry-header">BUCS/VOB Snapshots/RequistePro</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>More working with Babu re: BUC$ build script</li>

<li>Investigated and prototyped vob_snapshot backups</li>

<li>Incorporated Requisite Pro into a FAQ web page</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  2:21 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000200.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     
                     <a id="a000198"></a>
                     <div class="entry" id="entry-198">
                        <h3 class="entry-header">Clearcase Web Server</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>The Clearcase web service died today. I don't know why but the following is what I did to get it back up and running. </p>

<p>Server is back up.</p>

<p>Problem analysis:</p>

<p>Not really sure where things went wrong however when I looked at it the Rational Web Platform (rwp - which is really just Apache with Tomcat under the hood) was not running. rwp creates error logs but they are hard to parse because there are many of them with apparently random numbers tacked on. I believe these numbers represent the date in some form but haven't figured out how to decode them.</p>

<p>Anyway, I tried moving them aside and to restart the rwp server so that it would be clear what the error file was. Couldn't move all the log files out of the way because some were busy. Wish I had a good tool to figure out who has a file open.</p>

<p>The error message when trying to start rwp was "The Rational Web Platform HTTP Service Terminated with Service-Specific Error 1". Searching the Rational Support site yielded that the reason the service could not start was because some other process was using port 80. Typically this is due to somebody else runnig IIS. No IIS running. Tried netstat but could not find who was using port 80. Tried telneting to port 80 and got "Connection failed" so whoever was using port 80 did not want to talk to me! :-)</p>

<p>Finally I tried running rwp.exe from the command line with --help hoping for help about rwp's possible command line opts. Instead rwp started and ran! Clearcase web was back up but I did not like having rwp running in a console window and if I were to log out I feared that the rwp process would end. So I went to the Services applet and tried to start (since there was no stop) rwp. It started and the rwp running in the console ended. For safety's sake I restarted the rwp service through the Services applet. I believe Clearcase web is OK for now and we are doign server maintainance tonight anyway...<br />
</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 10:44 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000198.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June  9, 2004</h2>
                     <a id="a000197"></a>
                     <div class="entry" id="entry-197">
                        <h3 class="entry-header">PB/ASAP VOB Moves</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Joined PowerBuilder newsgroup to try to find out how to solve the Orca Script problems. Looks like I'm gonna learn way more about PB than I wanted to</li>

<li>Tested moving PVOB and Src vob from vobstore to ASAP_VOBS. Works OK.</li>

<li>Learned that we can use the DOS command MOVE which moves the VOBs simply by manipulating the directory entries. This means moving a large vob takes no longer than a small vobs. This is probably possible because we are on the same filesystem</li>

<li>WRT these ASAP vobs, we need to <tt>ct find -all -exec "cleartool protect -chown &lt;owner&gt; %CLEARCASE_PN%"</tt></li>

</ul>

                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:08 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000197.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June  8, 2004</h2>
                     <a id="a000196"></a>
                     <div class="entry" id="entry-196">
                        <h3 class="entry-header">ActiveState Perl</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Spent most of the day installing a Networked ActiveState Perl. Had permission problems with making elements in my dynamic view! Don't know why? Tried a clearfsimport and that caused the Perl to fail. I think it didn't properly copy permissions. So I ended up having to <b>Add to Source Control</b> all the files by hand (since I don't have scripting tools)</li>

<li>Consulted with Subba about ASAP VOB Move test</li>

<li>Babu gave me an assignment to learn <i>OrcaScript</i> which is a scripting language for PowerBuidlder. Oh boy!</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:07 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000196.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June  4, 2004</h2>
                     <a id="a000195"></a>
                     <div class="entry" id="entry-195">
                        <h3 class="entry-header">AD Groups</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Worked on getccgroups.vbs most of the day. Managed to get it to recurse for groups within groups and to sort the arrays of names. Need to implement the email portion though.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:43 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000195.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June  3, 2004</h2>
                     <a id="a000194"></a>
                     <div class="entry" id="entry-194">
                        <h3 class="entry-header">More meetings</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Yet even more meetings</li>

<li>Documented installation scripts. Fixed them to dynamically mktag for \ccverify</li>

<li>Helped Rick Cunneen with VOB questions</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:23 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000194.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June  2, 2004</h2>
                     <a id="a000193"></a>
                     <div class="entry" id="entry-193">
                        <h3 class="entry-header">Meetings, Bloody Meetings</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Attended several (3) meetings today so not much got done</li>

<li>Fixed some minor problems with verification scripts</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:10 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000193.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June  1, 2004</h2>
                     <a id="a000192"></a>
                     <div class="entry" id="entry-192">
                        <h3 class="entry-header">CMVerify</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Worked mostly on [cm|cc|cq]verify scripts. Got them checked in as working</li>

<li>Worked a little bit on the GetCCGroups vbs scripts</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:34 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000192.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</body>
</html>
