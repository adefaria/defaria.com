<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <meta name="generator" content="Movable Type 5.2.3" />

   <link rel="stylesheet" href="http://defaria.com/blogs/Status/styles-site.css" type="text/css" />
   <link rel="alternate" type="application/atom+xml" title="Atom" href="http://defaria.com/blogs/Status/atom.xml" />
   <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://defaria.com/blogs/Status/index.xml"$>" />

   <title>Status for Andrew DeFaria: August 2004 Archives</title>

   <link rel="start" href="http://defaria.com/blogs/Status/" title="Home" />
   <link rel="prev" href="http://defaria.com/blogs/Status/archives/2004_07.html" title="July 2004" />
   <link rel="next" href="http://defaria.com/blogs/Status/archives/2004_09.html" title="September 2004" />
</head>
<body class="layout-one-column">
   <div id="container">
      <div id="container-inner" class="pkg">

         <div id="banner">
            <div id="banner-inner" class="pkg">
               <h1 id="banner-header"><a href="http://defaria.com/blogs/Status/" accesskey="1">Status for Andrew DeFaria</a></h1>
               <h2 id="banner-description">Searchable status reports and work log</h2>
            </div>
         </div>

         <div id="pagebody">
            <div id="pagebody-inner" class="pkg">
               <div id="alpha">
                  <div id="alpha-inner" class="pkg">
                     
                     <p class="content-nav">
                        <a href="http://defaria.com/blogs/Status/archives/2004_07.html">&laquo; July 2004</a> |
                        <a href="http://defaria.com/blogs/Status/">Main</a>
                        | <a href="http://defaria.com/blogs/Status/archives/2004_09.html">September 2004 &raquo;</a>
                     </p>
                     
                     
                     

                     <h2 class="date-header">August 30, 2004</h2>
                     <a id="a000239"></a>
                     <div class="entry" id="entry-239">
                        <h3 class="entry-header">Informatica/CLEARCASE_PRIMARY_GROUP</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Rearranged Informatica script code to be more oriented to what Don needs</li>

<li>Helped William Dean with issues regarding Clearcase. I think we are all OK now so I closed the Paragrine ticket for this. This has, however, opened up the issue that CLEARCASE_PRIMARY_GROUP needs to be set in some cases</li>

</ul>
                              
                              <p>In order to make the pushing of Rational Tools more automatic it's important to either eliminate all user specific settings or to come up with a way to determine the setting for the user at login time. As such I have been researching if the CLEARCASE_PRIMARY_GROUP needs to be set at all. In most cases it doesn't need to be. (It was thought that mkelem would make the element and that the protect trigger would -chgrp &lt;<i>vob group owner</i>&gt; of the element. But if the user does not have CLEARCASE_PRIMARY_GROUP set then they are often considered part of <i>Domain Users</i> which isn't usually on the vob's group list). However today I found out a case where it needs to be. <a href="http://www.ibm.com/support/docview.wss?rs=0&q1=CLEARCASE_PRIMARY_GROUP&uid=swg21135509&loc=en_US&cs=utf-8&cc=us&lang=en">According to What is the CLEARCASE_PRIMARY_GROUP variable used for?</a></p>

<blockquote>
  <p>If the vob is owned by <b>more than one group</b> and a user is a 
  member of <b>more than one</b> of those groups and the user's group list 
  does <b>not</b> exceed 32,  they need the CLEARCASE_PRIMARY_GROUP 
  variable set in order to create elements in that vob.</p>

  <p>If the vob is owned by <b>more than one</b> group and a user is a 
  member of <b>more than one</b> of those groups and the user's group list 
  <b>does</b> exceed 32, they need the CLEARCASE_PRIMARY_GROUP & 
  CLEARCASE_GROUPS variable set in order to create elements in that vob. 
  </p>
</blockquote>

<p>Unfortunately this is the situation that we have. In particular Core_automation is owned by more than one group and users are members of more than one of those groups. Thus CLEARCASE_PRIMARY_GROUP needs to be set.</p>

<p>Also, we tend to have many groups and if we have more than 32 groups we can run into problems. Setting CLEARCASE_GROUPS helps narrow the problem down but a user can only be a member of at the maximum 33 Clearcase oriented groups or else they will need to be shifting around CLEARCASE_GROUPS in order to operate.</p>

<p>So what I'm proposing is that the Clearquest Tools database functionality be expanded yet again to provide for associating a userid to the appropriate CLEARCASE_PRIMARY_GROUP and appropriate CLEARCASE_GROUPS. Some of this functionality is already present in the Tools database. What it lacks is the ability to designate which of the groups is the users primary group.</p>

<p>There's also the issue of backfilling the Tools database and filling out the necessarily information for the users currently entered into the Tools database as well as filling the Tools database from that Access database...</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:11 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000239.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 26, 2004</h2>
                     <a id="a000237"></a>
                     <div class="entry" id="entry-237">
                        <h3 class="entry-header">Permissions problems</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Spent most of the day wrestling with permissions problems. Anje was having problems as vobadm with EAG vobs in a UCM view. Attempted to recreate the problem and understand why it's not allowing her to create elements. Seems the EAG_VMS vob is owned by AsapAdm and group CC-EAG-VMS but vobadm is not the owner. vobadm is in the group and the group has write permission but vobadm can't write.</li>

<li>Started writing WSH keystroke module for the Informatica process that Don is working on</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:21 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000237.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 25, 2004</h2>
                     <a id="a000238"></a>
                     <div class="entry" id="entry-238">
                        <h3 class="entry-header">Implementing Groups</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Noticed the CC-TTE-EMP-* groups have been created. One has the wrong name (should be CC-TTE-EMP-SCR but is CC-TTE-EMP-SRC. My fault! Typo when I requested the group). Applied these groups to the folders in Core_automation</li>

<li>Changed protect trigger to set group owner to that of the parent directory. This is needed for this fix</li>

<li>Removed Permissions trigger. This trigger was ineffective and is no longer needed</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:28 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000238.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 23, 2004</h2>
                     <a id="a000236"></a>
                     <div class="entry" id="entry-236">
                        <h3 class="entry-header">cmverify/protect</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Changed cmverify to report username in the logfile name and in report itself</li>

<li>Changed protect trigger to use the parent directoy's group as the group owner for new elements</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 11:19 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000236.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 19, 2004</h2>
                     <a id="a000235"></a>
                     <div class="entry" id="entry-235">
                        <h3 class="entry-header">Group Permissions/mktriggers</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Started documenting usage of groups within groups</li>

<li>Helped John with mktriggers modifications</li>

<ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:10 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000235.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 18, 2004</h2>
                     <a id="a000234"></a>
                     <div class="entry" id="entry-234">
                        <h3 class="entry-header">Group Permissions/cmconfig</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Wrapped up the 3 things we want to do to configure during install into a cmd script - cmconfig.cmd</lI>

<li>Performed a lot of investigation regarding group permissions problem - writing web page for this</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:06 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000234.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 17, 2004</h2>
                     <a id="a000233"></a>
                     <div class="entry" id="entry-233">
                        <h3 class="entry-header">cqverify/TOOLS</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Submitted a few task for improvements with the TOOLS database</li>

<li>Changed cqverify to deliniate between username not found and password wrong. Changed return status such that if the username is not in the Clearquest database that's an error. But if the user is in the Clearquest database but the password is not default then that's just a warning</li>

<li>Assisted TTE member to add ASAP_WinRunner to his view</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:42 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000233.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 16, 2004</h2>
                     <a id="a000232"></a>
                     <div class="entry" id="entry-232">
                        <h3 class="entry-header">Setregion/c[qc]verify</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Implemented setregion.vbs. This command will set the region for the passed in region name. Or, if no region is given, it uses the users ID and the TOOLS database to determine that user's home region</li>

<li>Requested SQL folk to allow monitoring of SQL service</li>

<li>Changed cqverify to attempt connecting to Clearquest database using the user's username and password</li>

<li>Changed ccverify to not consider an empty CLEARCASE_PRIMARY_GROUP as an error</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  1:27 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000232.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 13, 2004</h2>
                     <a id="a000231"></a>
                     <div class="entry" id="entry-231">
                        <h3 class="entry-header">What'sUP/set region</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Worked on setting up What's Up alarms and alerts</li>

<li>Created setregion.vbs. This script will set the region to the passed in region. If nothing is passed in it will attempt to find the region associated with the project for the currently logged in user through the CQ TOOLS database. If it can't find it then it will leave the registry setting alone</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:31 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000231.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 12, 2004</h2>
                     <a id="a000230"></a>
                     <div class="entry" id="entry-230">
                        <h3 class="entry-header">Tools Push</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Spent most of the day investigating how best to solve the issue of supplying Desktop Support a group/region for a user. Started writing VBScript to interrogate the CQ TOOLS database. Have the code functionally working but we need to add Region to a Project in CQ TOOLS. Also need to orient all of our <group>.reg files to be <region>.reg files.</li>

<li>Implemented COMMENT_SQL_CODE trigger for BUCS_SRC</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  8:47 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000230.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 11, 2004</h2>
                     <a id="a000229"></a>
                     <div class="entry" id="entry-229">
                        <h3 class="entry-header">Cron problems/Server Problems/CC Groups</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Had problems with cron not being able to find scripts</li>

<li>Spent much of the day researching whether or not we need to use CLEARCASE_PRIMARY_GROUP at all</li>

<li>View server needed rebooting</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:48 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000229.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 10, 2004</h2>
                     <a id="a000228"></a>
                     <div class="entry" id="entry-228">
                        <h3 class="entry-header">AD Groups/setup</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Worked on trying to sort out the differences between AD groups/groups.dat and the .reg files. Need to investigate if all this is required in the first place.</li>

<li>Finished up setup_cygwin. Added links for .inputrc, .Xdefaults and .vimrc. Added stuff for verbose and debug</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:56 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000228.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August  9, 2004</h2>
                     <a id="a000227"></a>
                     <div class="entry" id="entry-227">
                        <h3 class="entry-header">Env/CQ Down/Groups</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Added more of an environment into CM_TOOLS</li>

<li>Clearquest has been down all day. Server threw a shoe. Won't be up 'til tomorrow</li>

<li>Seems we may not have a 1-to-1 correspondance between groups.dat/AD Groups and .reg files. Trying to work out the problems here</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:04 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000227.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August  5, 2004</h2>
                     <a id="a000226"></a>
                     <div class="entry" id="entry-226">
                        <h3 class="entry-header">CC-TTE/CommentSQLCode/whosin</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Had problems with the Permissions trigger. Something we forgot or didn't think about. If the user attempts to add elements to source control they should be permitted in folders that have .perms. However part of adding to source control checks out the parent directory first. At the parent directory level there is no .perms to permit the user to check out the parent directory! This causes Add to Source Control to fail. Solution was to change the algorithm to account for this</li>

<li>Finished up CommentSQLCode trigger. Added stuff to triggers.dat and documented things in CM_DOCS. Waiting for code review.</li>

<li>Got this bright idea to take GetCCGroups.vbs and make another script that will simply dump the users for the given groups. Useful command line tool called whois</li>

<li>Worked on trying to get PC to install the new Rational Web Server for John</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:38 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000226.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August  4, 2004</h2>
                     <a id="a000225"></a>
                     <div class="entry" id="entry-225">
                        <h3 class="entry-header">CommentSQLCode Trigger</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<p><li>Implemented CommentSQLCode Trigger - need to do code review, triggers.dat, and documentation</li></p>

<p><li>Assisted Loren, Padma and William in getting the Permisisons working</li></p>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:35 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000225.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August  3, 2004</h2>
                     <a id="a000224"></a>
                     <div class="entry" id="entry-224">
                        <h3 class="entry-header">New Trigger</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Here are the requirements as I understand them for the trigger that Steve Lipson wants for the SQL checkins. Basically he desires a trigger that will capture the checkin comment and other information and insert that information in the form of a comment at the top of the checked in element. This trigger will:</p>

<ul>
  <li>Be a postop trigger for the checkin action</li>
  <li><b>Not</b> be an all element trigger rather it will be attached to certain file elements in the vob</li>
  <li>Be made for the &lt;<i>fill in vob name here</i>&gt; vob</li>
  <li>Only work on file elements - directory elements are to be skipped</li>
  <li>Only work on file elements that have an extension of .sql - other elements will be skipped</li>
</ul>

<p>Roughly the psuedo code for this trigger will be:</p>

<div class="code"><pre>
# Get name of element and its type
$pname        = $ENV{CLEARCASE_PN};
$element_type = $ENV{CLEARCASE_ELTYPE};

# Skip directories and elements that aren't .sql
exit if $element_type =~ /directory/i || $pname !~ /\.sql$/i;

# Get comment and user
$comment   = $ENV{CLEARCASE_COMMENT};
$userid    = $ENV{CLEARCASE_USER};

# Format timestamp
$timestamp = getCurrentTime;

# Parse output of lsactivity -cact -long
($activity_id, $activity_title, $activity_owner) = parseLSActivity;

# Open up $pname for reading and $pname.trig for writting
open PNAME_IN, $pname
  or die "Unable to open $pname for reading - $!\n";

open PNAME_OUT, ">$pname.trig"
  or dir "Unable to open $pname.trig for writing - $!\n";

# Add comment to top of file
print $PNAME_OUT &lt;&lt;END;
-- Date:	    $timestamp
-- Activity: $activity_id: $activity_title
-- Owner:    $activity_owner ($userid)
-- Comment:  $comment
END

# Append $pname
while (<PNAME_IN>) {
  print PNAME_OUT $_;
} # while

close PNAME;
close PNAME_OUT;

# Switch $pname.trig -> $pname
unlink $pname;
rename "$pname.trig", $pname;

# Allow checkin to proceed
exit 0;
</pre></div>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:54 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000224.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August  2, 2004</h2>
                     <a id="a000223"></a>
                     <div class="entry" id="entry-223">
                        <h3 class="entry-header">Server move (cont)</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>OK, licenses are all OK now. BTW hostid is not a combination of IP address and MAC address - it's simply MAC address of the NIC card. Problem appears to be that during the server move the NIC card changed! I verified this with the Rational rep this morning. The current MAC address of the NIC card as shown by ipconfig /all (it's the Physical Address) is 00-0f-20-6d-09-97. I gave the old license strings to the rep and she determined our old MAC address of the NIC card was 00-0b-cd-9b-f4-27.</p>

<p>Looking at the Device Manager on the servers I notice that we have two Network Adapters listed:</p>

<ol>
  <li>HP NC7781 Gigabit Server Adapter</li>
  <li>HP NC7781 Gigabit Server Adapter #2</li>
</ol>

<p>Why we have 2 NIC cards I don't know (perhaps merely for the ability to be multihomed). Normally I see #1 being disabled and #2 being enabled. Rtnlprod01 is like this. Rtnlprod02 has #1 enabled and #2 disabled. For the vob and view servers this does not matter. Either card will work. For rtnlprod03 however, since licenses are tied to the NIC card's MAC address, switching from #1 -> #2 (or #2 -> #1 as I suspect has happened here) will invalidate all licenses. We need to insure that the network adapter for rtnlprod03 remains nailed at either #1 or #2.</p>

<p>Since it appears that the network adapter has changed and since I have obtained a new set of licenses for this new network adapter and still have the old set, I have installed both sets so that in the event that the network adapter switches again we'll be covered. However, if we order additional licenses for say card #1 and somehow we get switched to card #2, those additional licenses will not be represented, hence the desire to nail the NIC card to either one or the other.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:47 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000223.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</body>
</html>
