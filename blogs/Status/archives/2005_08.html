<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <meta name="generator" content="Movable Type 5.2.3" />

   <link rel="stylesheet" href="http://defaria.com/blogs/Status/styles-site.css" type="text/css" />
   <link rel="alternate" type="application/atom+xml" title="Atom" href="http://defaria.com/blogs/Status/atom.xml" />
   <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://defaria.com/blogs/Status/index.xml"$>" />

   <title>Status for Andrew DeFaria: August 2005 Archives</title>

   <link rel="start" href="http://defaria.com/blogs/Status/" title="Home" />
   <link rel="prev" href="http://defaria.com/blogs/Status/archives/2005_07.html" title="July 2005" />
   <link rel="next" href="http://defaria.com/blogs/Status/archives/2005_09.html" title="September 2005" />
</head>
<body class="layout-one-column">
   <div id="container">
      <div id="container-inner" class="pkg">

         <div id="banner">
            <div id="banner-inner" class="pkg">
               <h1 id="banner-header"><a href="http://defaria.com/blogs/Status/" accesskey="1">Status for Andrew DeFaria</a></h1>
               <h2 id="banner-description">Searchable status reports and work log</h2>
            </div>
         </div>

         <div id="pagebody">
            <div id="pagebody-inner" class="pkg">
               <div id="alpha">
                  <div id="alpha-inner" class="pkg">
                     
                     <p class="content-nav">
                        <a href="http://defaria.com/blogs/Status/archives/2005_07.html">&laquo; July 2005</a> |
                        <a href="http://defaria.com/blogs/Status/">Main</a>
                        | <a href="http://defaria.com/blogs/Status/archives/2005_09.html">September 2005 &raquo;</a>
                     </p>
                     
                     
                     

                     <h2 class="date-header">August 26, 2005</h2>
                     <a id="a000415"></a>
                     <div class="entry" id="entry-415">
                        <h3 class="entry-header">portgd, 3.0.0 TOT build again</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Portgd still not working well</li>

  <li>Build 3.0.0 TOT again</li>

  <li>Added package of pdn to 2.1.0. Somehow I missed it</li>

  <li>Repackaged cdklinux</li>
</ul>
                              
                              <h3>Portgd's continuing woes</h3>

<p>Turns out the problem is that we are attempting to do a cvs add from outside of the repository. Portgd works from one directory and checks out an los178.from and an los178.to. Then from that directory it attempts to cvs add los178.to/&lt;path&gt;/&lt;dir&gt;. This will not work. We need, instead, to cd los178.to then do cvs add &lt;path&gt;/&lt;dir&gt;.</p>

<p>But portgd was also having a problem trying to recursively add the directories above new files. How to debug/test this is the question...</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:00 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000415.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 25, 2005</h2>
                     <a id="a000414"></a>
                     <div class="entry" id="entry-414">
                        <h3 class="entry-header">portgd, NetSNMP</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Changed portgd script to attempt to handle new CVS files/li>

  <li>Changed package.sh for 3.0.0 to package NetSNMP</li>

  <li>Release LOS178 2.1.0. Still working on building GDB on Windows</li>

  <li>Built and released LOS178 3.0.0 20050825. Turns out the toolchain I was using does indeed have the latest!</li>

  <li>Port of GD from LOS178 has some missing CRs. Will work on this tomorrow</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 12:43 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000414.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 24, 2005</h2>
                     <a id="a000413"></a>
                     <div class="entry" id="entry-413">
                        <h3 class="entry-header">3.0.0 build, GD build</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Performed a TOT 3.0.0 build. More stuff coming in...</li>

  <li>Struggling with 2.0 GD build. Turns out I was missing some CRs. Finally building!</li>

  <li>GDB Server build on Solaris is OK now but it fails on Linux. I suspect a packaging problem</li>

  <li>The portgd script has issues</li>
</ul>
                              
                              <h3>Portgd Challenges</h3>

<p>One of the problems with portgd is that the from CVS repository really needs to be set to HEAD because you want the latest but you're gonna pull the CRs by number and individual file revisions. This may cause problems sometimes (think ordering of CR numbers where pulling one CR overwrites a previous one in the wrong way. BTW This is why branching is good!)</p>

<p>Additionally portgd has a problem where the CR introduces new elements (Clearcase term - think new files and/or directories). When portgd attempts to cp the file to the to CVS repository it may fail because the parent directory did not previously exist and is not in the to CVS repository.</p>

<p>The portgd script can be updated to check to insure that each directory in the path of the file revision to be "ported" exists and if not then to create it and add it to CVS. It should also check to see if the file is new and again copy it but also add it to CVS.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 11:32 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000413.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 22, 2005</h2>
                     <a id="a000411"></a>
                     <div class="entry" id="entry-411">
                        <h3 class="entry-header">Linux ABI build failure/GDB Build failure</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Linux ABI build fails. Reported to vlad</li>

  <li>GDB build failed. Rebuilding...</li>
</ul>
                              
                              <h3>Linux ABI build failure</h3>

<p>The Linux ABI fails to build on yellowdog Linux.</p>

<div class="code"><pre>
    + DebugFlags=
    + export GLIBC_LOCATION LYNX_PREFIX LIBLYNXPTHREAD_PREFIX
    + export LYNXOS_VERSION_MAJOR LYNXOS178_VERSION_MAJOR
    + '[' 1 '!=' 0 ']'
    + '[' '!' -r /home/int/LOS178-300/20050822/linuxabi/glibc-2.3.3/../liblynxpthrea
    d/Makefile ']'
    + echo ======================= BUILD - LIBLYNXPTHREAD ==========================
    ===========
    ======================= BUILD - LIBLYNXPTHREAD =================================
    ====
    + cd /home/int/LOS178-300/20050822/linuxabi/glibc-2.3.3/../liblynxpthread
    + make PLATFORM=ppc
    make: *** No rule to make target `include/itimer.h', needed by `all'.  Stop.
    + exit 1
</pre></div>

<p>itimer.h has been removed. There are other problems too.</p>

<h3>GDB Build Failure</h3>

<p>For some reason it turns out that several libraries such as libc.a appear in the dev area as if they were built as production. IOW the size of libc.a(dev) == libc.a(pdn). Don't know why this happened because the install.log for dev seems to indicate that it was built in dev mode. May be a problem in the build_los178 script. Rebuilding...</p>

<p>Also, due to hardcoding of bison's location we must build in /usr/los178/2.1.0/ppc_dev.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:10 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000411.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 19, 2005</h2>
                     <a id="a000410"></a>
                     <div class="entry" id="entry-410">
                        <h3 class="entry-header">2.1.0 GDB Build</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Continuing with LOS178 2.1.0 build... Built CDK on Solaris, Linux and Windows</li>

  <li>Worked out a bug with files4[e]cr where it has problems with newly created files</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  3:13 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000410.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 18, 2005</h2>
                     <a id="a000409"></a>
                     <div class="entry" id="entry-409">
                        <h3 class="entry-header">3.0.0 & GD 2.0 builds</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Built and release LOS178 3.0.0 20050818</li>

  <li>Built and release HybridOS 2.0 20050818</li>

  <li>Need to build LOS178 2.1.0. There's also a a GDB 6.0 build coming up</li>

  <li>Need to learn how to build KDI. This will become the last step - a sanity check for the build</li>
</ul>


                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:48 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000409.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 17, 2005</h2>
                     <a id="a000408"></a>
                     <div class="entry" id="entry-408">
                        <h3 class="entry-header">Ada build/20050817</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Built Ada compiler with a 20050623 devos base</li>

  <li>Built and released LOS178 3.0.0 20050817</li>

  <li>Changed build_los178_343 to have a new option that allows the build to continue if the CDK build fails. Sometimes we still allow some CDK build failures</li>
</ul>
                              
                              <h3>Ada Build</h3>

<p>I managed to get Ada built (with a few procedural errors that Jesse's looking into) on hornet using the 20050623 devos. Note that the process requires a 3.4.3 or greater native toolchain. Luckily there is one available on t3, however the following symlinks were required:</p>

<div class="code"><pre>
    $ mkdir -p /usr/products/compilers
    $ cd /usr/products/compilers
    $ ln -s /net/t3/export/tools_prod/products/compilers/FSF FSF
    $ ln -f /net/t3/export/tools_prod/products/compilers/FSF/gcc-3.4.3 latest
</pre></div>

<p>Also note the usage and reliance on amd and the -hosts map. Finally the build process expects the "latest" link but the compiler itself expects FSF.</p>

<p>Jesse is also looking into what would be required to build utilizing a later devos.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:59 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000408.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 16, 2005</h2>
                     <a id="a000407"></a>
                     <div class="entry" id="entry-407">
                        <h3 class="entry-header">Build scritps/web</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Changed error handling in build_los178_343 to be more resilient</li>

  <li>Worked with Jesse on Ada build problems</li>

  <li>Added some documentation to mirage/docs</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:54 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000407.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 15, 2005</h2>
                     <a id="a000406"></a>
                     <div class="entry" id="entry-406">
                        <h3 class="entry-header">portgd/3.0.0 build</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Ported changes from LOS178 20050801/20050806 -> GD</li>

  <li>Built TOT for LOS178 3.0.0</li>
</ul>
                              
                              <h3>portgd</h3>

<p>Was asked to port the changed from LOS178 -> GD again. As this is a frequent occurance it screams for automation. As I had already coded a verifycrs, which essentially automates verification of ported [E}CRs from one repository to another, it seems a simple case to derive as script to do the porting. Coded up portgd. Note that portgd does not perform automatic building - just porting of the files associated with the passed in [E}CRs.</p>

<h3>build_los178_343</h3>

<p>Changed build_los178_343 to go back to using scp to obtain the toolchain tarball. This is still kludgy because it entails hardcoding the location (which is date based) of the source tarball. However, using NFS requires that the NFS area is accessible and in the past it was an automount point to an assumed -hosts map location. That doesn't work on Linux systems using autofs (an investigation of using amd instead of autofs has not yet been performed). As such, from a Linux system, the toolchain tarball was not easily accessible via NFS. So we're back to using scp, which has it's own problems, namely the assumption that passwordless scp access has been set up.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 11:50 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000406.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 12, 2005</h2>
                     <a id="a000405"></a>
                     <div class="entry" id="entry-405">
                        <h3 class="entry-header">build_los178 scripts</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Rebuilt LOS178 2.1.0 with tar file from Sergey</li>

  <li>Moved a few more functions into BuildProcs.pm so that both build_los178 and build_los178_343 can share them</li>

  <li>Filled out build_los178 to do packaging, tagging and the like that build_los178_343 does</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:13 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000405.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 11, 2005</h2>
                     <a id="a000403"></a>
                     <div class="entry" id="entry-403">
                        <h3 class="entry-header">2.1.0 TOB build</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Built 2.1.0 TOB. Production still fails but dev builds so we packaged that</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  8:09 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000403.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 10, 2005</h2>
                     <a id="a000404"></a>
                     <div class="entry" id="entry-404">
                        <h3 class="entry-header">Web server setup</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>After setting up much of Mirage we had problems with the disk. Luckily Vinnie was able to recover it.</li>

  <li>Setup Ecrdig on Mirage. For some reason Mirage lacks Net/Sockets.php. Copied from Saturn. It works!</li>

  <li>Setup CVS Reports on Mirage</li>

  <li>Added some content and arranged things a bit</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  8:16 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000404.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August  9, 2005</h2>
                     <a id="a000402"></a>
                     <div class="entry" id="entry-402">
                        <h3 class="entry-header">Mirage is a mirage!</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Started installing things like cvsadm, cvsreport and phpfaq on Mirage when poof! the /home filesystem got corrupted! Looks like we might need to start over again!</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  3:25 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000402.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August  8, 2005</h2>
                     <a id="a000401"></a>
                     <div class="entry" id="entry-401">
                        <h3 class="entry-header">Cleaning up build_los178_343 & new web server</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Cleaned up some more on build_los178_343. Basically expanding Logger.pm such that it logs the detailed output to the logfile but echos out just the execution of the command line to stdout if verbose. This allows the logfile itself to contain more detailed output such as the output from make install and cvs tag's etc but the screen isn't overrun if one does a build_los178_343 -v.</li.

  <li>New webserver finally here! Moving stuff over there and configuring things</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  8:23 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000401.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August  5, 2005</h2>
                     <a id="a000400"></a>
                     <div class="entry" id="entry-400">
                        <h3 class="entry-header">More build_los178_343/Ada</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Moved some routines from build_los178[_343] -> BuildProcs.pm.</li>

  <li>Need to build LOS178 with Toolchain 3.4.3 first or else build of Ada doesn't even try</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 12:55 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000400.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August  4, 2005</h2>
                     <a id="a000399"></a>
                     <div class="entry" id="entry-399">
                        <h3 class="entry-header">build_los178_343/Ada Build</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Moved mail_log -> Logger.pm as a method named mail. Now you can easily have a log object mail itself!</li>

  <li>Added Logger::logcmd which runs a command logging output into the log file</li>

  <li>Changed build_los178_343 to checkout toolbox and tst since we need them for packaging anyway</li>

  <li>Got packaging and renaming to work</li>

  <li>Changed chdir's to use $base to make getting around easier</li>

  <li>Worked with Adam and Jesse on building the Ada compiler in HybridOS</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:11 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000399.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August  3, 2005</h2>
                     <a id="a000398"></a>
                     <div class="entry" id="entry-398">
                        <h3 class="entry-header">build_los178_343</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Added tagging to build_los178_343</li>

  <li>Started looking into building gnat on HybridOS</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:52 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000398.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August  2, 2005</h2>
                     <a id="a000397"></a>
                     <div class="entry" id="entry-397">
                        <h3 class="entry-header">build_los178_343</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Started converting build_los178 -> build_los178_343 as the 3.4.3 toolchain based build works differently</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:59 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000397.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August  1, 2005</h2>
                     <a id="a000396"></a>
                     <div class="entry" id="entry-396">
                        <h3 class="entry-header">LOS178 3.0.0 200508012</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Following Vinnie's instructions, built and released LOS178 3.0.0 20050801</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:29 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000396.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</body>
</html>
