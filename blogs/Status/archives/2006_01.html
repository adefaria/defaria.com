<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <meta name="generator" content="Movable Type 5.2.3" />

   <link rel="stylesheet" href="http://defaria.com/blogs/Status/styles-site.css" type="text/css" />
   <link rel="alternate" type="application/atom+xml" title="Atom" href="http://defaria.com/blogs/Status/atom.xml" />
   <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://defaria.com/blogs/Status/index.xml"$>" />

   <title>Status for Andrew DeFaria: January 2006 Archives</title>

   <link rel="start" href="http://defaria.com/blogs/Status/" title="Home" />
   <link rel="prev" href="http://defaria.com/blogs/Status/archives/2005_12.html" title="December 2005" />
   <link rel="next" href="http://defaria.com/blogs/Status/archives/2006_02.html" title="February 2006" />
</head>
<body class="layout-one-column">
   <div id="container">
      <div id="container-inner" class="pkg">

         <div id="banner">
            <div id="banner-inner" class="pkg">
               <h1 id="banner-header"><a href="http://defaria.com/blogs/Status/" accesskey="1">Status for Andrew DeFaria</a></h1>
               <h2 id="banner-description">Searchable status reports and work log</h2>
            </div>
         </div>

         <div id="pagebody">
            <div id="pagebody-inner" class="pkg">
               <div id="alpha">
                  <div id="alpha-inner" class="pkg">
                     
                     <p class="content-nav">
                        <a href="http://defaria.com/blogs/Status/archives/2005_12.html">&laquo; December 2005</a> |
                        <a href="http://defaria.com/blogs/Status/">Main</a>
                        | <a href="http://defaria.com/blogs/Status/archives/2006_02.html">February 2006 &raquo;</a>
                     </p>
                     
                     
                     

                     <h2 class="date-header">January 31, 2006</h2>
                     <a id="a000527"></a>
                     <div class="entry" id="entry-527">
                        <h3 class="entry-header">Final MobMM Issues</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Resolved issue with MsgBox not being executed for the web</li>

  <li>Still have problem with IE and certain drop down boxes</li>

  <li>Worked with John Luu to get the web server running on nt-irva-0458. We need to have a database instance created and to move this schema and user databases to that server. Why is the web server in Ivrine when the group is in San Jose?</lI>
                              
                              <h2>IE and drop down boxes</h2>

<p>Jean had reported that certain fields on the Resolution tab did not work. They do work, in the client and using Firefox but indeed don't work in IE. At first I thought that this was a problem with the JRE so I tried installing the latest. That did not solve the problem.</p>

<p>IE seems to have a bona fide problem with the new CQJW and certain fiels. I scoured the Rational Formus to no avail. A defect will need to be submitted to Rational for this. I did not submit one because the follow up would be to me and probably should be to John.</p>

<p>It is not just the fields on the Resolution tab that are causing problems, fields on the Verification tab as well as some fields on the Submission tab (e.g. Hardware Platform).</p>


                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  3:30 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000527.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">January 30, 2006</h2>
                     <a id="a000526"></a>
                     <div class="entry" id="entry-526">
                        <h3 class="entry-header">MobMM Completion</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Reached code completion level for MobMM</li>
</ul>
                              
                              <h2>Remaining issues</h2>

<p>I see only a few remaining issues to be code complete and that is to implement the CC list. I'm trying to implement it as a box with a "..." button that has a dialog that walks you through entering lines of text. Not sure if I can validate those lines to &lt;user&gt;@&lt;domain&gt;.&lt;tld&gt;. Once that's done I just need to add code to SendEmail to parse CC, separate by newlines and push the email addresses onto the recipients array. The rest of the code will already handle sending out email. (Note there's currently a flag field there called Testing which is set to true. Having it set to true says "Send out email only to  adefaria@broadcom.com". I didn't think it wise to be sending out test email to real people right yet - it'd only confuse them. We just need to either set Testing = false or remove the test code for production).</p>

<p>There is also the issue of a script, triggered to run when a Perforce user checks in, to update changeset. I could write a Perl module that has a simple function to update MobMM's changeset (e.g. UpdateMMChangeset (&lt;id&gt;, &lt;changeset&gt;)) then the implementer for the Perforce trigger need only use the module and call the procedure. Ray let me know if you want that.</p>

<p>Other than that this project would be "code complete". Things that still need to be done for production would be:</p>

<ol>
  <li>Set up production server (I believe this is in progress)</li>

  <li>Create production DBs</li>

  <li>Upgrade DBs with user accounts</li>

  <li>Setup CQ Web</li>

  <li>Disseminate Clearquest software to those who wish to use Clearquest Client</li>
</ol>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 10:07 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000526.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">January 27, 2006</h2>
                     <a id="a000525"></a>
                     <div class="entry" id="entry-525">
                        <h3 class="entry-header">MobMM email</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Implemented Email notifications in MobMM</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:01 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000525.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">January 26, 2006</h2>
                     <a id="a000524"></a>
                     <div class="entry" id="entry-524">
                        <h3 class="entry-header">More MobMM Progress</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Separated MobMM to its own Schema Repository</li>

  <li>Renamed MobileCom -&gt; MobMM</li>

  <li>Removed Visibility from submission form</li>

  <li>I've created all Modules and all Submodules but linked only some of them. A lot are owned by Vinod. Try entering a defect with a module of Display Manager and you should see Owner set to "node". Change that to OLG and it should switch to cswilson.</li>

  <li>Created users as defined above. Gave admin privileges to my userid</li>

  <li>Created Administrators, Managers and Users groups. My userid and admin are in all three groups. Jean, your user is in the Manager and Users group. Other users are just in the Users group.</li>

  <li>Gave Dynamic List Admin privileges to Jean and Vinod. This means that you can add/change/delete entries in dynamic lists (Select <b>Edit: Named Lists</b> to manage dynamic lists such as <i>Software_Version</i>)</li>

  <li>Populated Dynamic lists</li>

  <li>Created Public Queries for Defects, Modules, Submodules and Module-Submodule Cross Reference.</li>

  <li>Changes some drop downs to be bigger.</li>
</ul>

                              
                              <h2>More MobMM Progress</h2>

<p>I have separated the MobMM design from the old PQA Schema Repository.
By being in it's own schema repository MobMM now has a separate, distinct set of user accounts. You really don't want PQA users being able to log into your database. This separation required essentially replicating all of my work over into this new schema repository.</p>

<p>The Schema Repository is called MobMM_Schema. The administrative user
for the database is MobMM_Admin with a password of ru4real. Normally nobody sees this username except people who are using MS/SQL Enterprise Manager to create databases or using the CQDesigner to create schemas, user databases, etc. IOW Jean, you wouldn't be using this user account but Ray and others will need that info.</p>

<p>There is, by default, and "admin" user that you can use to log into CQDesigner or Clearquest Client. Its password is also ru4real. Again, Jean, I don't think that you would be using this user account either, rather a CQDesigner would use it.</p>

<p>As we have a new user account database I had to create some users. There's admin and I made myself a user (adefaria). I also made user accounts for you Jean (jfan - password jfan - you can log in and change that - I would suggest your Windows domain password but that's just me) as well as the Module owners of Vinod Prasad (username: node; password: node), Rick Howarth (rhowarth:rhowarth), Chris Wilson (cswilson:cswilson) and Bhupesh Khawa (bhupesh:bhupesh).</p>

<h3>Work Performed</h3>

<ul>
  <li>Separated MobMM to its own Schema Repository</li>

  <li>Renamed MobileCom -&gt; MobMM</li>

  <li>Removed Visibility from submission form</li>

  <li>I've created all Modules and all Submodules but linked only some of them. A lot are owned by Vinod. Try entering a defect with a module of Display Manager and you should see Owner set to "node". Change that to OLG and it should switch to cswilson.</li>

  <li>Created users as defined above. Gave admin privileges to my userid</li>

  <li>Created Administrators, Managers and Users groups. My userid and admin are in all three groups. Jean, your user is in the Manager and Users group. Other users are just in the Users group.</li>

  <li>Gave Dynamic List Admin privileges to Jean and Vinod. This means that you can add/change/delete entries in dynamic lists (Select <b>Edit: Named Lists</b> to manage dynamic lists such as <i>Software_Version</i>)</li>

  <li>Populated Dynamic lists</li>

  <li>Created Public Queries for Defects, Modules, Submodules and Module-Submodule Cross Reference.</li>

  <li>Changes some drop downs to be bigger.</li>
</ul>

<p>Jean, to access this new schema repository from the CQ Web login as usual but make sure to select the Schema Repository of MobMM.</p>

<h3>Issues</h3>

<ul>
  <li>Still don't know what to do with CC. I remember that this is for an arbitrary list of email addresses however when and how are they used? IOW when is email sent? When a defect changes state? Which states? IOW if a defect is entered it's in an Assigned state. If it gets resolved then I suspect that's when email is sent. Similarly when verified. What about when deferred? etc. Is the real purpose of CC to allow for separate distinct lists of people to alert via email? I need to read up more on the Email package that Clearquest offers and see if it can do all of this for us in a more standard and already debugger manner.</li>

  <li>Changeset: This should be made a larger field, perhaps on the Management tab because I would think that it will contain file/revision information in a multiline tabular format. I suspect that the editing of this field will be only done from the yet to be written Perforce -&gt; Clearquest connector... IOW will Clearquest users be able to modify that field through Clearquest Client or Clearquest Web?</li>

  <li>Testcase ID &amp; Testplan Version: Any info on what these are or should be? Just text strings? When are they entered in the transition of states...</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:24 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000524.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">January 25, 2006</h2>
                     <a id="a000523"></a>
                     <div class="entry" id="entry-523">
                        <h3 class="entry-header">MobileMultimedia Release</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Completed a pass of MoblleMultimedia and handed off to Jean for a quick review and input to the next release in the design cycle</li>
</ul>
                              
                              <h2>Trail version of MobMM</h2>

<p>I've been working feverishly on your Clearquest database and have made some good progress. Following the Open Source motto of <i>Release Early, Release Often</i> I would like to have you take a look at what I have so far. Many things work. Some things have yet to be implemented. Play with it. Pay particular attention to stepping through the states and which fields are available for editing on the various tabs at various stages through the state transition matrix.</p>

<p>For now you can access this through http://p4test/cqweb/login then login as guest:guest and set the DB to MM. This is a test/play database so feel free to add, change or delete defects and other records.</p> 

<h3>Things that work</h3>

<p>The following things I have working:</p>

<ol>
  <li><b>Module/Submodule:</b> In order to implement this I needed 3 stateless records. One is the Module record which contains the module name, owner and a description field (use description for anything you'd like). Another stateless record is the Submodule record. Here we have only Submodule name and description. To tie these two things together I have a ModSub_XRef stateless record. It has a drop down for Modules (referencing the Module stateless record - IOW if you don't see a module name in the drop down then that's because you haven't added a record for it in the Module stateless record). Similarly there's a Submodule drop down (referencing the Submodule stateless record). The purpose of this ModSub_XRef stateless record is to tie together a module with a set of submodule(s). These two fields are concatenated together separated with a ":" to form the ModSub field which is set as the unique key for the record (Currently this ModSub field is shown when creating a ModSub_XRef record but eventually it will be hidden). Setting up modules and submodules then tying them together will be a setup kind of a thing. You may need to occasionally set up a new submodule or  module and make the ModSub_XRef record to tie things together.</p>

<p>The result is when you enter a defect you toggle the Module drop down and the Submodule gets populated correctly. Additionally you'll see that the Owner field gets set to Module.Owner automatically.</p></li>

  <li><b>Assigned Date:</b> Gets automatically set to the current date</li>

  <li><b>Visibility:</b> Gets set to "Broadcom Only" - no other values are available yet and this field is essentially read only at this time.</li>

  <li><b>Notes:</b> If you change the state of an Assigned defect to Resolved you'll need to fill out the Resolved tab. When the Resolved Note gets changed it is populated into the Notes field in the Notes tab. Similarly if you go to Verified, the Verified Notes field also populates the Notes field. If either Resolved Notes or Verified Notes are not yet specified then Note will say so.</li>

  <li><b>Audit Log:</b> Has been taken from PQA and implemented. As fields are changed the Audit Log is updated.</li>

  <li><b>Time From &lt;state&gt; to &lt;state&gt;</b>: On the Management tab there are the Time From... Assigned -&gt; Resolve and Assigned -&gt; Verified. When a defect goes to Resolved then the former is set. When a defect goes to Verified then the later is set. Time is in days. (Please note that it is possible to later modify the defect and change the Resolved Date. In such cases these Time From fields are <b>not</b> recalculated. Additionally there are currently no checks to insure that Verified_Date &gt; Resolved_Date, for example).</li>
</ol>

<h3>Things not yet working</h3>

<p>There are several things I have not yet implemented in this design. These are:</p>

<ol>
  <li><b>CC:</b> Although present in the Submission tab the CC list currently does nothing</li>

  <li><b>Changeset:</b> Listed on the Resolution tab Changeset is just a short string right now. I believe we need a multiline string down the road. This field is supposed to be filled in by a hook from CVS (IIRC) that will record the files and revisions. Ray you might want to look at what I did in SCM/cvsbin/cvsism and adapt it to Jean's Clearquest database. You can look at SCM/cq/pqamerge for examples of how to update Clearquest databases through Perl.</li>

  <li><b>Other  Notes:</b> Entering data here does not update the Notes field above it (yet).</li> 

  <li><b>Testcase ID &amp; Testplan Version:</b> Currently do nothing.</li>

  <li><b>Duplicate IDs, Related IDs and Notes: </b>On the Broadcom Notes tab also do nothing yet. The whole issue of how to hand Duplicate and Related IDs has not been designed. I think we should look into how IBM/Rational handles duplicates in it's default package and use that as well as change it to handle related ids too.</li>
</ol>

<p>Again, look for whatever you see as wrong: Process flow, spelling errors, alignment, move a field to a different form, add a field, whatever and let me know. You're input will be used for the next rendition of this.</p>

<p>You may want to eventually install Clearquest Client on your machine. You can follow the instructions at <a  href="http://intranet.broadcom.com/%7Eadefaria/Clearquest/CQ2003.06.14.php">
Installing 2003.06.15</a>. Those instructions were for PQA but installing Clearquest is the same for everybody. Do not continue on to the instructions for setting up your profile - the profile is specific to the different projects. I'll have to get a profile file set up for you later.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:09 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000523.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">January 24, 2006</h2>
                     <a id="a000522"></a>
                     <div class="entry" id="entry-522">
                        <h3 class="entry-header">PQA Email issue/Mobile Multimedia</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Contacted Rational regarding PQA email problem</li>

  <li>Changed Mobile Multimedia to set default owner, assigned date</li>

  <li>Fixed MM to handle Module/Submodule relationships</li>
</ul>
                              
                              <h2>PQA Email Problem</h2>

<p>Turns out there is a known problem with email sent date that is patched in 2003.06.15. Problem is that the server is 2002.05.20! Waiting for the patch so we can patch p4test and 2003.06.15 clients. Luckily the new server is in so we should set that up with the patched 2003.06.15. John Luu will do that.</p>

<h2>Mobile Multimedia</h2>

<p>Got most of the submission form working. Managed to get the Module/Submodule and ModSub_Xref working. Still some more to do...</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:37 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000522.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">January 23, 2006</h2>
                     <a id="a000521"></a>
                     <div class="entry" id="entry-521">
                        <h3 class="entry-header">More CQ Web Email Problems (GetSMTPHost)</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Implemented and tested GetSMTPHost</li>
</ul>
                              
                              <p>Actually I was on vacation but still trying to work on the problem. Sorry but the ski cabin in Vermont didn't have Internet access...</p>

<p>We are very sensitive to the critical nature of this bug. <a href="/blogs/Status/archives/000520.html#more">Here's what I found out on Friday</a>.</p>

<p>I've implemented a solution to option #2 and have tested it. However, the way it works is to use ipconfig to get the IP address of the current machine then nslookup to change that to a hostname. After that I've found that nbu-cqweb is actually known as nt-irva-1521.broadcom.com. So I have it hard coded to return an SMTP host of mms.broadcom.com if it's running on nt-irva-1521.broadcom.com otherwise return smtphost.broadcom.com. There are a couple of things I don't like about this solution:</p>

<ol>
  <li>Hard coding of machine names. Will nbu-cqweb always be known as nt-irva-1521.broadcom.com? Also, such a fix will break if we implement a new web server for you which will presumably have a different machine name...</li>

  <li>I'm not sure how this works in the context of CQ Web as opposed to CQ Client. It seems to work on p4test's Web Server.</li>

  <li>I've only addressed the Submit notify action. Turns out there are other notify actions (e.g. Assign, Resolve, Verify) which are still using the older PAINET object. I would have thought that all of the email sending would be done through one routine but it turns out the code was essentially duplicated in many places. (Note PAINET is an object that IBM/Rational cooked up for CQ only). I have not changed these and I would assume that they are as likely as Submit to send email with a send date of 2001. Again, we've never determined why the old code stopped working correctly.</li>
</ol>

<p>I have this fix ready to go but I'll wait for your OK before applying it to production.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 11:00 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000521.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">January 20, 2006</h2>
                     <a id="a000520"></a>
                     <div class="entry" id="entry-520">
                        <h3 class="entry-header">CQ Web Email Problem</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Worked on problem with CQ Web sending email</li>
</ul>
                              
                              <h2>CQ Web Email Problem when in the DMZ</h2>

<p>OK, here's what's going on. As you know we were having a problem with the email being sent out with a date of 2001. I looked into this the best I could but could not figure out what was causing this. I don't claim to be an expert on VB or VB objects like the PAINET object that was being used to send email. I looked on the web for clues and saw somebody saying that they switched to using the CDO object for sending email as it was better. I also remembered that I had done some VBS at Ameriquest and I had sent email from those scripts. When I looked at it I saw that I too was using the CDO object.</p>

<p>Next I tried replacing the usage of the PAINET object to send email with the CDO object and the send date problem seemed to have corrected itself.</p>

<p>Now it's not working in one very specific and unfortunately one very critical place - nbu-cqweb!</p>

<p>Another thing I could not figure out with the PAINET object is that it never seemed to specify an SMTP server to use to send the email. It just did it somehow. (Turns out it actually uses the client's settings and is exactly the reason why the user must set these!) The CDO object, however, needs to have an SMTP server specified so I used one I thought was guaranteed to be available - smtphost.broadcom.com. This works... while in Broadcom but it does not work when in the DMZ and nbu_cqweb is in the DMZ.</p>

<p>I see two options at this point:</p>

<ol>
  <li>Revert back to the old PAINET object and live with the send date of 2001 until we can figure out why that's happening (Considering that it's now known that it's the clients settings as to which SMTP server is used, it's quite possible that one user may generate email with a send date in the year 2001 while another user wouldn't) or</li>

  <li>Figure out an SMTP host in the DMZ and implement code to use it when in the DMZ or use smtphost.broadcom.com when not in the DMZ.</li>
</ol>

<p>For the second approach the problem is that I need to dynamically use mms.broadcom.com while in the DMZ and smtphost.broadcom.com when not in the DMZ. How does one tell? I thought I could simply check the hostname or domainname but I don't see any easy ways of getting this information in VB. Does anybody else?</p>

                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:57 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000520.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">January 17, 2006</h2>
                     <a id="a000519"></a>
                     <div class="entry" id="entry-519">
                        <h3 class="entry-header">Mobile Multimedia Clearquest Design</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Created initial mock up of MM CQ</li>
</ul>
                              
                              <h2>Mobile Multimedia Clearquest Design</h2>

<p>I've been working today coming up with a prototype/mock up of what Jean has proposed so far. Please remember this is a rough prototype and is
(very) subject to change. IOW things like state flow, requiredness of the fields, automatic and other action hooks and scripts are not in place. Also, after developing this for the Clearquest client I made it available on CQ Web so you can see it. Then I noticed that the alignment and fonts don't translate well to the web.</p>

<p>Feel free to play with this through the web and give me your initial impressions, but remember there's still a lot of work to be done - this is by no means polished.</p>

<p>To access it go to http://p4test/cqweb/login. Login as guest:guest and
then select the MM database.</p>

                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:24 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000519.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">January 16, 2006</h2>
                     <a id="a000518"></a>
                     <div class="entry" id="entry-518">
                        <h3 class="entry-header">PQA CDO.Message</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Updated PQA to use CDO.Message to fix date/timestamp problem</li>

  <li>Researched Clearquest: Help problem with Rational and came up with a fix. Turns out that the original solution I sent may have solved the problem as the problem exists on the Citrix server which is probably too tightly configured security-wise. Wish the user would have told me about that to start with...</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  3:41 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000518.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">January 13, 2006</h2>
                     <a id="a000516"></a>
                     <div class="entry" id="entry-516">
                        <h3 class="entry-header">Perl test</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Ray wanted an easy/medium/hard Perl test</li>
</ul>
                              
                              <h2>Perl Test</h2>

<h3>Easy</h3>
<ol>
  <li>What does Perl stand for?</li>

<p><font color="red">Practical Extraction and Reporting Language</font></p>

  <li>What basic datatypes does Perl support?</li>

<p><font color="red">Scalar, Array, Hash, Typeglob</font></p>

  <li>What does the following do:</li>

<div class="code"><pre>
my @output = &lt;STDIN&gt;;

foreach (@output) {
  print "$_\n" if /\d+/;
}
</pre></div>

<p><font color="red">Echoes lines that have numbers in them)</font></p>

</ol>

<h3>Medium</h3>

<ol>
  <li>What is <tt>use strict</tt> and why is it important to use?</li>

<p><font color="red">Strict requires that variable references are scoped - e.g. my $var)</font></p>

  <li>What does the following code do:</li>

<div class="code"><pre>
sub d {
  my %p = @_;

  print "\np:\n";

  foreach (sort (keys (%p))) {
    if (/password/) {
      print "$_: &lt;password&gt;\n";
    } else {
      print "$_: ${p {$_}}\n";
    } # if
  } # foreach
} # d
</pre></div>

<p><font color="red">Displays the contents of the passed in hash %p substituting "&lt;password&gt;" if the hash happens to have a key of password</font></p>

  <li>What do you do to enable Perl to find user written modules?</li>

<p><font color="red">You need to modify the @INC array to include the path to your modules)</font></p>
</ol>

<h3>Hard</h3>

<ol>
  <li>What is the difference between <tt>require</tt> and <tt>use</tt>?</li>
 
<p><font color="red">See <a href="/blogs/Status/archives/000492.html">this article</a> for the answer</font></p>

  <li>What is a better way to do the following and why:</li>

<div class="code"><pre>
undef $/;
</pre></div>

<p><font color="red">See <a href="/blogs/Status/archives/000492.html">this article</a>) for the answer</font></p>

  <li>What does the following print out when executed:</li>

<div class="code"><pre>
sub foo {
  my ($x, $y) = @_;

  my @z = `$x 2&gt;&amp;1`; chomp @z;
  my $s = $?;

  if ($s ne 0) {
    if (defined $y) {
      print "$_\n" foreach (@z);
    }
  }

  return ($y, @z);
} # foo

my @a;
my $c="ls /temp";
my $d;

($d, @a) = foo $c;
print "Worked!\n" if !$d;
</pre></div>

<p><font color="red">(It will output:</p>

<div class="code"><pre>
Worked!
</pre></div>

<p>Yet nothing really worked at all! Key issues are:</p>

<ul>
    <li>Passing parameters to subroutines. Two parameters are passed in</li>

    <li>Parameter return: Two parameters are returned</li>

    <li>Evaluation of parameters: $y in foo is not passed in thus the print... foreach doesn't execute></li>

    <li>Evaluation of true/false: foo returns $y which is errno,
which is not 0 thus not true but the !$d evaluates to true and the
print "Worked!\n" gets executed.</li>
</font></ul>
</ol>

                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 11:59 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000516.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">January 12, 2006</h2>
                     <a id="a000517"></a>
                     <div class="entry" id="entry-517">
                        <h3 class="entry-header">Clearcase Merging/CQ Time Stamp problem/CQ Help problem</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Consulted with Ann Wisotzky regarding Clearcase Merging</li>

  <li>Investigated email time stamp problem with PQA</li>

  <li>Worked with Rational regarding Clearquest: Help problem</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 10:25 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000517.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">January 11, 2006</h2>
                     <a id="a000515"></a>
                     <div class="entry" id="entry-515">
                        <h3 class="entry-header">Stglocs/replicating perftest</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Investigated stglocs</li>

  <li>Replicated /vobs/perftest and set up log_activity, stats and pulse for all of:</li>
    <ul>
      <li>ccase-rmna-3</li>

      <li>ccase-sj1-1</li>

      <li>ccase-sj1-2</li>

      <li>ccase-irva-2</li>
    </ul>
</ul>
                              
                              <p>Chris, if you can spare a Windows machine to host the views (meaning to run the view_server processes on) then I believe the following stgloc would be your best answer:</p>

<div class="code"><pre>
$ your_filer=&lt;your_filer&gt;
$ your_share=&lt;your_share&gt;
$ your_windows_view_server=&lt;your_windows_view_server&gt;
$ p=\\\\$your_filer\\$your_share\\viewstore
$ cleartool mkstgloc -view -force -host $your_windows_view_server \
&gt; -hpath $p -gpath $p viewstore $p
</pre></div>

<p>This would create a "stgloc" which can be used in mkview:</p>

<div class="code"><pre>
$ cleartool mkview -tag &lt;tag&gt; -stgloc viewstore (or -auto)
</pre></div>

<p>Users can also select this stgloc in the Clearcase Explorer GUI. Views will be placed on $your_filer and served by $your_windows_view_server (meaning view_server processes will run there and that that machine should have a static IP).</p>

<p>Views can be cross tagged into the Linux region with:</p>

<div class="code"><pre>
$ cleartool mktag -view -tag defaria2 -host 10.136.65.5 -hpath \\\\fs-rmna-01\\ccstgloc-cabu\\viewstore\\BROADCOM\\adefaria\\defaria2.vws -gpath /projects/ccstgloc-cabu/viewstore/BROADCOM/adefaria/defaria2.vws
/projects/ccstgloc-cabu/viewstore/BROADCOM/adefaria/defaria2.vws
cleartool: Warning: Storage pathname "/projects/ccstgloc-cabu/viewstore/BROADCOM/adefaria/defaria2.vws"
may not reside on host "10.136.65.5".
</pre></div>

<p><b>Notes:</b></p>

<ul>
  <li>I specified host as an IP address because the test "server" I was using was using DHCP (IOW nslookup pcrmna-ccrmt02 doesn't work from Unix)</li>

  <li>Backslashes are doubled because bash collapses them</li>

  <li>The host path (-hpath) must be a valid path <b>from the host's point of view</b>. The host (pcrmna-ccrmt02 in this case) is a Windows box thus a UNC style path is used for -hpath.</li>

  <li>The global path (-gpath) must be a valid path <b>from the client's point of view</b>. Since we are cross tagging to Linux the path is a Unix style path (in the automount map) of /projects/ccstgloc-cabu/viewstore... You're directory under /projects would be different.</li>

  <li>View creation and serving on Windows machines is Windows domain aware. What they do is create a directory for the domain (e.g. BROADCOM) then a directory for the user (e.g. adefaria) then the view directory is created (defaria2) with an  appended .vws. This is Windows specific behavior, hence you see and additional
.../BROADCOM/adefaria/defaria2.vws.</li>

  <li>You need not use the name or directory "viewstore". This is just an example. I've seen others user the directory name of say vws. Also the stgloc need not be named viewstore - you might use bt-filer-views or whatever.</li>
</ul>

<p>Now you can similarly create a Unix oriented stgloc if you want:</p>

<div class="code"><pre>
$ your_share=&lt;your_share&gt;
$ your_linux_view_server=&lt;your_linux_view_server&gt;
$ p=/projects/$your_share/viewstore
$ cleartool <span>mkstgloc</span> -view -force -host $your_linux_view_server \
&gt; -hpath $p -gpath $p viewstore $p
</pre></div>

<p>And then your users can cross tag them into the Windows region using the Region Synchronize tool (Note: It will fail initially as it cannot determine what the UNC path needs to be so the users will have to specify that) or by the command line:</p>

<div class="code"><pre>
$ your_filer=&lt;your_filer&gt;
$ your_share=&lt;your_share&gt;
$ your_linux_view_server=&lt;your_windows_linux_server&gt;
$ p=\\\\$your_filer\\$your_share\\viewstore
$ cleartool mktag -view -tag adefaria_linux -host $your_linux_view_server \
&gt; -hpath /projects/$your_share/viewstore/adefaria_linux.vws \
&gt; -gpath $p\\adefaria_linux.vws $p\\adefaria_linux.vws
</pre></div>

<p>The advantages here are:</p>
<ul>
  <li>Your Linux server bears the brunt of serving views since the view_server processes run there</li>
</ul>

<p>The disadvantages are:</p>

<ul>
  <li>Users can't create views using this stgloc from Windows</li>

  <li>Users must cross tag views to their Windows region</li>

  <li>Windows users don't like the command line.</li>
</ul>

                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  3:01 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000515.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">January 10, 2006</h2>
                     <a id="a000514"></a>
                     <div class="entry" id="entry-514">
                        <h3 class="entry-header">Getting log_activity/stats and pulse to work</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Re-wrote most Clearcase modules to utilize Clearcase::cleartool and for Clearcase.pm to work out where cleartool resides</li>

  <li>Changed Mail.pm to only attempt to use MIME:Entity and others if html is requested</li>

  <lI>Got pulse working for /vobs/preftest. If the vob is not present it simply logs that and exists</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:42 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000514.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">January  9, 2006</h2>
                     <a id="a000513"></a>
                     <div class="entry" id="entry-513">
                        <h3 class="entry-header">Mail.pm/pulse</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Worked on Mail.pm</li>

  <li>Incorporated Mail.pm into Logger</li>

  <li>Created Element.pm</li>

  <li>Added code to pulse to mkelem and rmelem</li>
</li>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:41 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000513.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">January  6, 2006</h2>
                     <a id="a000512"></a>
                     <div class="entry" id="entry-512">
                        <h3 class="entry-header">Mail.pm/ccase-rman-3 crisis</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Further developed Mail.pm. Added code to send HTML mail. HTML mail not completely working yet</li>

  <li>Worked on problems with ccase-rmna-3</li>

  <li>Assisted Ray in some Perl coding issues</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:48 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000512.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">January  5, 2006</h2>
                     <a id="a000511"></a>
                     <div class="entry" id="entry-511">
                        <h3 class="entry-header">Mail.pm/CQ Web</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Developed Mail.pm module</li>

  <li>Working with Rational about CQ Web hang problem</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:56 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000511.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">January  4, 2006</h2>
                     <a id="a000510"></a>
                     <div class="entry" id="entry-510">
                        <h3 class="entry-header">More module coding</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Standardized some modules a little bit</li>

  <li>Added much more functionality to Clearcase modules and tied that into stats and log_activity</li>

  <li>Changed the startup of many scripts to be more standard</li>

  <li>Implemented much more functionality in stats</li>
</ul>
                              
                              <h2>Odd characters in view tags</h2>

<p>I found this odd view tag in the <span>SanJoseNT</span> region: 

<div class="code"><pre>
ccase-sj1-1:ct lsview -long -region SanJoseNT helenay_PIRelease_12022002_7031RC\)
Tag: helenay_PIRelease_12022002_7031RC)
  Global path: \\Pc-1ubrv\Myview\helenay.v.vws
  Server host: Pc-1ubrv
  Region: SanJoseNT
  Active: NO
  View tag uuid:132d6e50.0eee11d7.a7a4.00:b0:d0:20:ba:8a
View on host: Pc-1ubrv
View server access path: F:\Myview\helenay.v.vws
View uuid: 132d6e50.0eee11d7.a7a4.00:b0:d0:20:ba:8a
View attributes: snapshot
View owner: BROADCOM\helenay
</pre></div>

<p>Note the trailing ")" in the view tag. Alas this screws up Perl scripts when one may take a view tag and include it in a cleartool cmd:</p>

<div class="code"><pre>
`cleartool lsview -long -region SanJoseNT $view_tag 2&gt; /dev/null`
</pre></div>

<p>when $view_tag is the above results in:</p>

<div class="code"><pre>
sh: -c: line 1: syntax error near unexpected token `)'
sh: -c: line 1: `cleartool lsview -long -region SanJoseNT helenay_PIRelease_12022002_7031RC) 2&gt; /dev/null'
</pre></div>

<p>I don't think I should write code to escape such characters but what else can I do? We could ask this user to rename their view but apparently  Clearcase does not disallow such strange characters in view tag names (and perhaps other objects...).</p>

<h2>DNS Issues</h2>

<p>Kerrynn De Roche wrote:</p>

<blockquote type="cite">
  <p>I just checked the etc/hosts and it seems we had last set the entries to 128.34 instead of 128.37. I changed them to 128.37 and it seems to be working now...</p>
</blockquote>

<p>10.136.128.37 has always been the IP address of ccase-rmna-4. If you
had previously had 10.138.128.34 then that was what was wrong (with
that workaround).</p>

<blockquote type="cite">
  <p>I would rather not have to worry about having to check the hosts file  whenever the IP address changes though.</p>
</blockquote>

<p>You see that's the difference between desktops and servers - server IP
addresses never (or at least rarely) change. In fact in the administration business, keeping the servers IP address static is always a consideration - even if the machine is being swapped. We'll swap the IP addresses in DNS to the new machine to keep them the same precisely because of these issues. ccase-rmna-4's IP address will not change!</p>

<blockquote type="cite">
  <p>What is the method you use to not have to worry about hosts file?</p>
</blockquote>

<p>As I said, in my environment it works without /etc/hosts:</p>

<div class="code"><pre>
<font color="#3333ff"><b>Local:</b></font><u>cat /etc/hosts</u>
# Copyright (c) 1993-1999 Microsoft Corp.
#
# This is a sample HOSTS file used by Microsoft TCP/IP for Windows.
#
# This file contains the mappings of IP addresses to host names. Each
# entry should be kept on an individual line. The IP address should
# be placed in the first column followed by the corresponding host name.
# The IP address and the host name should be separated by at least one
# space.
#
# Additionally, comments (such as these) may be inserted on individual
# lines or following the machine name denoted by a '#' symbol.
#
# For example:
#
#      102.54.94.97     rhino.acme.com          # source server
#       38.25.63.10     x.acme.com              # x client host
127.0.0.1       localhost laptop
#10.136.128.37  ccase-rmna-4
</pre></div>

<p>Note ccase-rmna-4's entry is commented out. Additionally I do not have
ca.broadcom.com on the DNS Suffix Search List:</p>

<div class="code"><pre>
<font color="#3333ff"><b>Local:</b></font><u>ipconfig /all</u>

Windows IP Configuration

        Host Name . . . . . . . . . . . . : LTSJCA-ADEFARIA
        Primary Dns Suffix  . . . . . . . : corp.ad.broadcom.com
        Node Type . . . . . . . . . . . . : Hybrid
        IP Routing Enabled. . . . . . . . : No
        WINS Proxy Enabled. . . . . . . . : No
        <font color="#ff0000"><b>DNS Suffix Search List. . . . . . : corp.ad.broadcom.com
                                            broadcom.com</b></font>

Ethernet adapter Wireless:

        Media State . . . . . . . . . . . : Media disconnected
        Description . . . . . . . . . . . : Broadcom 802.11g Network
Adapter
        Physical Address. . . . . . . . . : 00-10-18-90-1D-11

Ethernet adapter Secondary:

        Media State . . . . . . . . . . . : Media disconnected
        Description . . . . . . . . . . . : 3Com 3C920 Integrated Fast Ethernet        Controller (3C905C-TX Compatible) #2
        Physical Address. . . . . . . . . : 00-08-74-95-4A-24

Ethernet adapter Primary:

        Connection-specific DNS Suffix  . : broadcom.com
        Description . . . . . . . . . . . : 3Com 3C920 Integrated Fast Ethernet        Controller (3C905C-TX Compatible)
        Physical Address. . . . . . . . . : 00-B0-D0-0E-A2-71
        Dhcp Enabled. . . . . . . . . . . : Yes
        Autoconfiguration Enabled . . . . : Yes
        IP Address. . . . . . . . . . . . : 10.16.65.219
        Subnet Mask . . . . . . . . . . . : 255.255.240.0
        Default Gateway . . . . . . . . . : 10.16.64.1
        DHCP Server . . . . . . . . . . . : 10.16.192.15
        DNS Servers . . . . . . . . . . . : 10.16.64.11
                                            10.16.64.12
                                            10.16.64.13
        Primary WINS Server . . . . . . . : 10.16.192.15
        Secondary WINS Server . . . . . . : 10.16.192.16
        Lease Obtained. . . . . . . . . . : Tuesday, January 03, 2006 8:29:46 PM
        Lease Expires . . . . . . . . . . : Friday, January 06, 2006 8:29:46 PM
</pre></div>

<p>So I don't have any kind of workaround any more. It just works. By that
I mean the following command used to fail stating a  WINSOCK error trying to contact ccase-rman-4:</p>

<div class="code"><pre>
<font color="#3333ff"><b>Local:</b></font><u>ct lsstream -invob \\rmna_projects</u>
</pre></div>

<p>(Note ct is aliased to cleartool and since I'm using Cygwin "\\" collapses to a single "\"). Now this command works for me. Note that nslookup of a bare ccase-rmna-4 still fails for me:</p>

<div class="code"><pre>
<font color="#3333ff"><b>Local:</b></font><u>nslookup ccase-rmna-4</u>
*** dns-sj1-1b.sj.broadcom.com can't find ccase-rmna-4: Non-existent domain
Server:  dns-sj1-1b.sj.broadcom.com
Address:  10.16.64.11
</pre></div>

<p>This is because ccase-rmna-4 (and  case-rmna-4.corp.ad.broadcom.com and ccase-rmna-4.broadcom.com from the DNS Suffix Search List) don't exist - it should be  case-rmna-4.ca.broadcom.com. But a FQDN works:</p>

<div class="code"><pre>
<font color="#3333ff"><b>Local:</b></font><u>nslookup ccase-rmna-4.ca.broadcom.com</u>
Non-authoritative answer:
Server:  dns-sj1-1b.sj.broadcom.com
Address:  10.16.64.11

Name:    ccase-rmna-4.ca.broadcom.com
Address:  10.136.128.37
</pre></div>

<p>The way resolver(3) (DNS's name resolution) works is to look at files like /etc/hosts and/or apply DNS Suffix Search Lists. So if DNS found ccase-rmna-4 in /etc/hosts it would have it's IP address. Otherwise it'll take a bare hostname of ccase-rmna-4 and append the suffixes. So if you added ca.broadcom.com to the list that also should work.</p>

<p>However the whole reason that Clearcase is using ccase-rmna-4 is
because that's what <b>was</b> listed in the vob tag:</p>

<div class="code"><pre>
<font color="#3333ff"><b>Local:</b></font><u>llvob \\rmna_projects</u>
Tag: \rmna_projects
  Global path: \\cc-rmna-storage\ccstgloc-cabu\vobstore\rmna_projects.vbs
  Server host: ccase-rmna-4.ca.broadcom.com
  Access: public
  Mount options: 
  Region: rmnaNT
  Active: NO
  Vob tag replica uuid: 088b79e0.0b0c11d9.9204.00:01:80:c8:b5:2d
  <font color="#ff0000"><b>Vob on host: ccase-rmna-4.ca.broadcom.com</b></font>
Vob server access path: /projects/ccstgloc-<span>cabu</span>/vobstore/rmna_projects.vbs
Vob family uuid:  09d0e19e.8b6611d5.b03b.00:01:80:c8:b5:2d
Vob replica uuid: 088b79e0.0b0c11d9.9204.00:01:80:c8:b5:2d
Vob registry attributes: ucmvob,replicated
</pre></div>

<p>but as you can see we fully qualified ccase-rmna-4 to ccase-rmna-4.ca.broadcom.com. This means that this <b>should</b> work
without an /etc/host workaround or an "add to DNS Suffix Search List"
workaround. Why that's not working remains a mystery.
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:19 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000510.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">January  3, 2006</h2>
                     <a id="a000509"></a>
                     <div class="entry" id="entry-509">
                        <h3 class="entry-header">More Clearcase modules</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Started creating a Clearcase.pm module to hold site specific Clearcase information</li>

  <li>Created OSDep.pm</li>

  <li>Worked with the Help Desk to attempt to fix problem with Windows Update</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:09 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000509.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">January  2, 2006</h2>
                     <a id="a000508"></a>
                     <div class="entry" id="entry-508">
                        <h3 class="entry-header">cvsims/Vobs</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Documented set up of <a href="http://intranet.broadcom.com/~adefaria/CVS/">CVS SCP connector</a></li>

  <li>Added more functionality to Clearcase::Vob</li>

  <li>Coded up a preliminary stats script</li>
</ul>
                              
                              <h2>CVS CSP Connector</h2>

<p>I've updated <a href="http://intranet.broadcom.com/~adefaria/CVS/">CVS CSP Connector</a> documentation to add a description of the CVS administrative files that need to be changed. You'll note at the bottom that the only issues that remain are where to apply this <i>CVS CSP C<span>onnector</span></i> to. I believe we were waiting for David to respond as to the design.</p>

<p>The other issue that I noted was about how to handle branches. IOW do we need to include the branch name in the change set that we append. With the <i>Clearcase CSP Connector</i> the view extended pathname is what is put into the change set. As you know,  Clearcase's view extended pathname will include branch names. In CVS such branch names are not included. Instead CVS relies on extending the revision number with extra digits. So a revision number of 1.1 would represent something on the main branch while 1.1.2.1 would be on some branch. There is no branch name information in there - one must do a cvs status or log command to find a branch name such as:</p>

<div class="code"><pre>
Sticky Tag:          andrew-branch (branch: 1.1.2)
</pre></div>

<p>then make the association between all 1.1.2.x revisions and andrew-branch above.</p>

<p>If David is OK with a 4, 6, 8, etc. revision number being enough to denote that this file's revision is branched and doesn't need the branch name then cvsims is effectively functionally complete. We just need to perform the CVS Setup described at <a href="http://intranet.broadcom.com/~adefaria/CVS/">CVS CSP Connector</a> on the repositories and directories under those repositories that David or others want to enforce the CVS CSP Connector on.</p>

<h2>stats</h2>

<p>Ray Tran wrote:</p>
 
<blockquote type="cite">
  <p>Statistic logs - This is a script that would create two logs - one general data for each site, one for each VOB of each site.</p>

  <p>The general data should have at the least - date_time;site;number of VOBs; number of total VOB size; number of snapshot views; number of dynamic views; number of file elements; number of directory element;...</p>
</blockquote>

<p>I need a little clarification about some of the above...</p>

<ul>
  <li>How do you define "site"? I take it that in general we have Clearcase region of &lt;site&gt;NT and &lt;site&gt;UNIX. Is that always the case?</li>

  <li>As for #vobs - skip private vobs?</li>

  <li>As for #vobs, #snapshot views and #dynamic views: Which region is that for? As you know most of our stuff is actually in the NT region not the Unix region. Yet I expect that this script will run from the Unix region. I could -region however often that doesn't work. For example, if I'm on Unix and I do the following to interrogate the NT region it fails:<br>
    <br>
    <div class="code"><pre>
<font color="#3333ff"><b>ccase-rmna-3:</b></font><u>ct lsview -region rmnaNT adefaria_dynamic</u>
  adefaria_dynamic     \\<span>ltsjca</span>-adefaria\Views\adefaria_dynamic.vws
<font color="#3333ff"><b>ccase-rmna-3:</b></font><u>ct lsview -full -properties -region rmnaNT 
adefaria_dynamic</u>
  adefaria_dynamic     \\ltsjca-adefaria\Views\adefaria_dynamic.vws
cleartool: Error: Unknown host 'ltsjca-adefaria': Host not found
cleartool: Error: Unable to get view handle: error detected by ClearCase subsystem.
  </pre></div>

    <p>This is our familar "it fails because ltsjca-adefaria does not resolve in DNS" problem. But I need to do this with -full and -properties to determine if the view is a snapshot or dynamic (and/or a ucmview)!</p>

    <p>Normally this would be the result of an lsview with -full and -properties:</p>

    <div class="code"><pre>
    <font color="#3333ff"><b>ccase-rmna-3:</b></font><u>ct lsview -full -properties phonex_3.0</u>
  phonex_3.0           /projects/ccstgloc-cabu/viewstore/nnalluri/phonex_3.0.vws
Created 29-Dec-04.16:48:19 by nnalluri.clearusers@ccase-rmna-3
Last modified 29-Dec-04.16:48:20 by nnalluri.clearusers@ccase-rmna-3
Last accessed 29-Dec-04.16:48:20 by nnalluri.clearusers@ccase-rmna-3
Last config spec update 29-Dec-04.16:48:20 by nnalluri.clearusers@ccase-rmna-3
Text mode: unix
Properties: dynamic ucmview readwrite shareable_dos
Owner: richmond/nnalluri : rwx (all)
Group: richmond/clearusers : r-x (read)
Other:                  : r-x (read)
Additional groups: richmond/brcm richmond/users
richmond/ccadmin richmond/clearcase richmond/cc_ecan richmond/rmna180qa
    </pre></div>
    
    <p>Also should I do attempt to somehow combine the NT and Unix regions? If so then I'd need to figure out any vobs/views that are tagged in both regions. Or should I only consider the NT region?</p></li>

  <li>As for #element, how does one determine this? I mean it is possible for somebody to create a new vob, check out the vob root directory to a specific branch, do a clearfsimport of
thousands of elements and check in the root directory. From the perspective of a default view (just CHECKEDOUT and main/LATEST) I would not see nor be able to tabulate those thousands of elements... That's an extreme however the point is, with directories being  versioned it is really quite difficult to be able to get an accurate count of #elements.</li>

  <li>BTW: It seems the majority of views are hosted on the individuals desktop or laptop and most of the time getting information about such views is near impossible. Often I get a winsock error saying it can't connect to the machine or an "unable to contact albd_server on host...".</li>
</ul>

<blockquote type="cite">
  <p>The VOB specific data - date_time;site;VOB_name;size of database;size of source pool; size of devired object; size of cleartext; size of admin data.</p>

  <p>The directory structure that I envisioned is as such</p> 

  <p>/projects/scm_tools_logs</p>

  <blockquote>-cc
    <blockquote>- 2005
      <blockquote>- 12
        <blockquote>- 01
        </blockquote>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>

<p>I have a preliminary version of this working (Need to code up something to get the current site) at SCM/cc/stats. Output for rmna site looks like:</p>

<div class="code"><pre>
################################################################################<br>
#
# File:         vob.log
# Description:  This file contains a list of all vobs at rmna along with some
#               statistical information.
# Format:       The format of this file is:
#
# date/time;site;VOB name;db size;src size;do size;<span>clrtxt</span>
size;adm size
#
################################################################################<br>
20060102@18:23;rmna;A1;0.3;0.0;0.00.0;0.1;0.4
20060102@18:23;rmna;<span>CommEngine</span>;1569.3;2920.2;0.064.3;0.1;4553.8
20060102@18:23;rmna;<span>NewTest</span>;0.2;0.0;0.00.0;0.1;0.2
20060102@18:23;rmna;<span>OnePhone</span>;1226.7;3007.9;0.0321.0;0.1;4555.7
20060102@18:23;rmna;<span>SpiceBoxSW</span>;114.3;169.3;0.00.0;0.1;283.7
20060102@18:23;rmna;<span>TrainCommEngine</span>;1.6;10.7;0.00.0;0.1;12.4
20060102@18:23;rmna;adm;0.6;277.8;0.0547.0;0.1;825.5
20060102@18:23;rmna;alpha_video;115.9;205.9;0.00.0;0.1;321.8
</pre></div>

<p>and</p>

<div class="code"><pre>
#################################################################################<br>
# File:         rmna.log
# Description:  This file contains statistical information about the vobs/views
#               at this site.
# Format:       The format of this file is:
#
# date/time;site;nbr vobs;total vob size;nbr snapshot;nbr dynamic;nbr ucm;nbr file elements;nbr dir elements
#
################################################################################<br>
20060102@19:58;rmna;57;54222.1;0;10;5;&lt;To be determined&gt;;&lt;To be determined&gt;
</pre></div>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  2:56 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000508.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</body>
</html>
