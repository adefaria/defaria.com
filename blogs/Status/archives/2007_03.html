<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <meta name="generator" content="Movable Type 5.2.3" />

   <link rel="stylesheet" href="http://defaria.com/blogs/Status/styles-site.css" type="text/css" />
   <link rel="alternate" type="application/atom+xml" title="Atom" href="http://defaria.com/blogs/Status/atom.xml" />
   <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://defaria.com/blogs/Status/index.xml"$>" />

   <title>Status for Andrew DeFaria: March 2007 Archives</title>

   <link rel="start" href="http://defaria.com/blogs/Status/" title="Home" />
   <link rel="prev" href="http://defaria.com/blogs/Status/archives/2007_01.html" title="January 2007" />
   <link rel="next" href="http://defaria.com/blogs/Status/archives/2007_04.html" title="April 2007" />
</head>
<body class="layout-one-column">
   <div id="container">
      <div id="container-inner" class="pkg">

         <div id="banner">
            <div id="banner-inner" class="pkg">
               <h1 id="banner-header"><a href="http://defaria.com/blogs/Status/" accesskey="1">Status for Andrew DeFaria</a></h1>
               <h2 id="banner-description">Searchable status reports and work log</h2>
            </div>
         </div>

         <div id="pagebody">
            <div id="pagebody-inner" class="pkg">
               <div id="alpha">
                  <div id="alpha-inner" class="pkg">
                     
                     <p class="content-nav">
                        <a href="http://defaria.com/blogs/Status/archives/2007_01.html">&laquo; January 2007</a> |
                        <a href="http://defaria.com/blogs/Status/">Main</a>
                        | <a href="http://defaria.com/blogs/Status/archives/2007_04.html">April 2007 &raquo;</a>
                     </p>
                     
                     
                     <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://defaria.com/blogs/Status/archives/2007_03.html#entry-000628"
    trackback:ping="http://defaria.com/mt/mt-tb.cgi/17"
    dc:title="DLPActivity.pl/YELL"
    dc:identifier="http://defaria.com/blogs/Status/archives/2007_03.html#entry-000628"
    dc:subject="Texas Instruments"
    dc:description=" Rewrote DLPAcctivity.pl, a Clearquest reporting tool that emails DLP engineers about Clearquest defects Look into YELL scripts..."
    dc:creator=""
    dc:date="2007-03-30T17:07:21-06:00" />
</rdf:RDF>
-->


                     <h2 class="date-header">March 30, 2007</h2>
                     <a id="a000628"></a>
                     <div class="entry" id="entry-628">
                        <h3 class="entry-header">DLPActivity.pl/YELL</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Rewrote DLPAcctivity.pl, a Clearquest reporting tool that emails DLP engineers about Clearquest defects</li>

  <li>Look into YELL scripts</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:07 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000628.html">Permalink</a>
                                 
                                 | <a href="http://defaria.com/blogs/Status/archives/000628.html#trackback">TrackBacks (0)</a>
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://defaria.com/blogs/Status/archives/2007_03.html#entry-000627"
    trackback:ping="http://defaria.com/mt/mt-tb.cgi/16"
    dc:title="mkview_linked/GPDB Login"
    dc:identifier="http://defaria.com/blogs/Status/archives/2007_03.html#entry-000627"
    dc:subject="Texas Instruments"
    dc:description=" Finished work on mkview_linked for MySQL databasse Implemented login for GPDB with cookies..."
    dc:creator=""
    dc:date="2007-03-28T17:03:40-06:00" />
</rdf:RDF>
-->


                     <h2 class="date-header">March 28, 2007</h2>
                     <a id="a000627"></a>
                     <div class="entry" id="entry-627">
                        <h3 class="entry-header">mkview_linked/GPDB Login</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Finished work on mkview_linked for MySQL databasse</li>

  <li>Implemented login for GPDB with cookies</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:03 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000627.html">Permalink</a>
                                 
                                 | <a href="http://defaria.com/blogs/Status/archives/000627.html#trackback">TrackBacks (0)</a>
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://defaria.com/blogs/Status/archives/2007_03.html#entry-000626"
    trackback:ping="http://defaria.com/mt/mt-tb.cgi/15"
    dc:title="GPDB Login"
    dc:identifier="http://defaria.com/blogs/Status/archives/2007_03.html#entry-000626"
    dc:subject="GPDB"
    dc:description=" Started implementing a login facility for GPDB..."
    dc:creator=""
    dc:date="2007-03-26T16:57:06-06:00" />
</rdf:RDF>
-->


                     <h2 class="date-header">March 26, 2007</h2>
                     <a id="a000626"></a>
                     <div class="entry" id="entry-626">
                        <h3 class="entry-header">GPDB Login</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Started implementing a login facility for GPDB</li>
</ul>
                              
                              <p>Just about the time we were getting the <em>Single Signon</em> working I realized that we also have command line or a script based API in which we allow others to call GPDB functionality. Part of that functionality is logging in with gpdb_login. Well since we didn't come through Single Signon nro a web page how do we get the authorization to log into the database? Answer is we don't. Single Signon is only good for web apps where the <b>only</b> way into the application is through the web.</p>

<p>The security guys did mention something about a command line alternative but it didn't seem like it would fit the bill. I believe that it only allows you to authenticate as your currently logged in user. What if, for example, user A wished to connect to GPDB as user B and knows user B's username and password? What when a script wished to login as an admin on behalf of all users. These questions need to be answered.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:57 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000626.html">Permalink</a>
                                 
                                 | <a href="http://defaria.com/blogs/Status/archives/000626.html#trackback">TrackBacks (0)</a>
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://defaria.com/blogs/Status/archives/2007_03.html#entry-000625"
    trackback:ping="http://defaria.com/mt/mt-tb.cgi/14"
    dc:title="GPDB Web Update/Oracle testing"
    dc:identifier="http://defaria.com/blogs/Status/archives/2007_03.html#entry-000625"
    dc:subject="Texas Instruments"
    dc:description=" Added menus to GPDB web Tested and documented access of Oracle databases, such as GPDB, using standard Perl and standard Oracle libraries from various architectures..."
    dc:creator=""
    dc:date="2007-03-21T16:52:37-06:00" />
</rdf:RDF>
-->


                     <h2 class="date-header">March 21, 2007</h2>
                     <a id="a000625"></a>
                     <div class="entry" id="entry-625">
                        <h3 class="entry-header">GPDB Web Update/Oracle testing</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Added menus to GPDB web</li>

  <li>Tested and documented access of Oracle databases, such as GPDB, using standard Perl and standard Oracle libraries from various architectures</li>
</ul>
                              
                              <p>Joe Ramey had worked on getting the Oracle Linux client API library to work with Perl. I am trying to validate that this works on all supported architectures where <i>all supported architectures</i> is considered the subset of:</p>
<ol>
  <li>Solaris (e.g. Stashu)</li>
  <li>Linux 32-bit (e.g. Fad01)</li>
  <li>Linux 64-bit AMD Opteron processor (e.g. DrTeeth)</li>
  <li>Linux 64-bit Intel processor (e.g. Fad11)</li>
</ol>

<h3>How to properly code Perl to access an Oracle DB</h3>

<p>Normal access to SQL databases in Perl usually consists of use'ing two different Perl modules. First a DBI.pm module which is the<i> <b>D</b>ata<b>B</b>ase <b>I</b>ndependent</i> interface and the DBD or <b><i>D</i></b><i>ata<b>B</b>ase <b>D</b>river</i> module for the particular SQL database involved. We are interested in Oracle here but others include mSQL, MySQL, etc.</p>

<p>Couple this with the fact that we wish to use the standard Perl (e.g. /apps/perl/5.8.3/bin/perl) and standard Perl modules (/apps/perl/modules-&lt;<i>datecode</i>&gt; where <i>datecode</i> is some combination of a year/month date code whose apparent LCD seems to be modules-0412).</p>

<p>So first our Perl script should start with:</p>

<div class=code><pre>
<font color="#3333ff">#!/apps/perl/5.8.3/bin/perl</font>
<font color="#ff0000">use strict</font>;
<font color="#ff0000">use warnings</font>;

<font color="#3333ff"># Standard CDOE modules (Modules of the month!) - need this to pick up DBI.pm</font>
<font color="#ff0000">use lib</font> "<font color="#009900">/apps/perl/modules-0412/lib</font>";
</pre></div>

<p>So as the comment indicates we are picking up the DBI.pm module from here. Next, normally, we'd simply include the lib path for the Oracle DBD.pm (or in the special case of Oracle, the Oracle.pm file) as well as the supporting shared library Oracle.so (which is architecturally dependent) by coding the following:</p>

<div class=code><pre>
<font color="#3333ff"># Perl/Oracle libraries</font>
<font color="#ff0000">use lib</font> "<font color="#009900">/apps/oracle/perl/10.2.0.1.0/lib</font>";
</pre></div>

<p>However, since Linux client support is not included in /apps/oracle/perl/10.2.0.1.0/lib (yet) we need to pick up Joe's stuff:</p>

<div class=code><pre>
<font color="#3333ff"># Linux API is in Ramey's home dir...</font>
<font color="#ff0000">use lib</font> "<font color="#009900">/home/ramey/oracle/perl/10.2.0.1.0/lib</font>";
</pre></div>

<p>The next excerpt from my code, shown in it's entirety later, shows a lib path I used to use that allows Solaris clients to work correctly, however we wish to move away from this special cased library thus it's commented out here:</p>

<div class=code><pre>
<font color="#3333ff"># This is a non standard Oracle</font>
<font color="#3333ff">#use lib "/apps/perl/5.8.0/lib/perl5/site_perl/5.8.0";</font>
</pre></div>

<p>As the full code listing that follows shows I then use my current development libraries and attempt to log into the development version of GPDB, and Oracle database, and retrieve and display some rudimentary data:</p>

<p><font color="#999999">Entire code listing of ~x0062320/testgpdb.pl</font></p>

<div class=code><pre>
<font color="#3333ff">#!/apps/perl/5.8.3/bin/perl</font>
<font color="#ff0000">use strict</font>;
<font color="#ff0000">use warnings</font>;

<font color="#3333ff"># Standard CDOE modules (Modules of the month!) - need this to pick up DBI.pm</font>
<font color="#ff0000">use lib</font> "<font color="#009900">/apps/perl/modules-0412/lib</font>";

<font color="#3333ff"># Perl/Oracle libraries</font>
<font color="#ff0000">use lib</font> "<font color="#009900">/apps/oracle/perl/10.2.0.1.0/lib</font>";

<font color="#3333ff"># Linux API is in Ramey's home dir...</font>
<font color="#ff0000">use lib</font> "<font color="#009900">/home/ramey/oracle/perl/10.2.0.1.0/lib</font>";

<font color="#3333ff"># This is a non standard Oracle</font>
<font color="#3333ff">#use lib "/apps/perl/5.8.0/lib/perl5/site_perl/5.8.0";

# Current development GPDB modules</font>
<font color="#ff0000">use lib</font> "<font color="#009900">/web/gpdb/cgi-bin</font>";

<font color="#ff0000">use GPDB::gpdb</font>;

<font color="#3333ff"># Log into GPDB - read only</font>
gpdb_login (<font color="#33cc00">undef</font>, <font color="#33cc00">undef</font>, "<font color="#009900">OracleDevelopment</font>");

<font color="#3333ff"># Get a project</font>
<font color="#ff0000">my</font> <font color="#3333ff"><b>@projects</b></font> = gpdb_getProject ("<font color="#009900">uma</font>");

<font color="#3333ff"># Play with it a little bit...</font>
<font color="#ff0000">my</font> <i><font color="#ff0000">%project</font></i> = %{<font color="#3333ff"><b>$projects</b></font> [0][0]};

<font color="#33cc00">print</font> "<font color="#009900">Project: ${project {PROJECT}{NAME}}\n</font>";
<font color="#33cc00">print</font> "<font color="#009900">Site: ${project {PROJECT}{SITE_NAME}}\n</font>";

<font color="#33cc00">print</font> "<font color="#009900">Vobs:\n</font>";

<font color="#ff0000">foreach</font> (@{<font color="#ff0000">$project</font> {CLEARCASE}}) {
<font color="#ff0000">my</font> <i><font color="#ff0000">%cc</font></i> = %{$_};

<font color="#33cc00">print</font> "<font color="#009900">\t${cc {VOB_TAG}}\n</font>";
} <font color="#3333ff"># foreach</font>

<font color="#33cc00">print</font> "<font color="#009900">done\n</font>";
</pre></div>

<h3>Results</h3>

<p>Here's the results running on the target architectures:</p>

<div class=code><pre>
$ ssh stashu testgpdb.pl
DBI connect('host=dflorad01.itg.ti.com;sid=flddsync;port=1521','cm_gpdb_readonly',...) failed: ERROR OCIEnvNlsCreate. Check ORACLE_HOME env var, NLS settings, permissions, etc. at /web/gpdb/cgi-bin/GPDB/DBHelper.pm line 136
Could not connect to database. Check $ORACLE_HOME. at /web/gpdb/cgi-bin/GPDB/primitive.pm line 81
$ ssh fad01 testgpdb.pl
Project: uma
Site: Dallas
Vobs:
        /cdb/dspumatdl
        /cdb/uma
        /cdb/uma_2.2
        /cdb/uma_2.6a
done
$ ssh drteeth testgpdb.pl
Project: uma
Site: Dallas
Vobs:
        /cdb/dspumatdl
        /cdb/uma
        /cdb/uma_2.2
        /cdb/uma_2.6a
done
$ ssh fad11 testgpdb.pl
Can't load
'/home/ramey/oracle/perl/10.2.0.1.0/lib/i686-linux-thread-multi/auto/DBI/DBI.so' for module DBI: /lib/libc.so.6: version `GLIBC_2.3' not found (required by
/home/ramey/oracle/perl/10.2.0.1.0/lib/i686-linux-thread-multi/auto/DBI/DBI.so) at /apps/perl/5.8.3/lib/5.8.3/i686-linux-thread-multi/DynaLoader.pm line 229.
at /home/ramey/oracle/perl/10.2.0.1.0/lib/i686-linux-thread-multi/DBI.pm line 259
BEGIN failed--compilation aborted at /home/ramey/oracle/perl/10.2.0.1.0/lib/i686-linux-thread-multi/DBI.pm line 259.
Compilation failed in require at /web/gpdb/cgi-bin/GPDB/primitive.pm line 24.
BEGIN failed--compilation aborted at /web/gpdb/cgi-bin/GPDB/primitive.pm line 24.
Compilation failed in require at /web/gpdb/cgi-bin/GPDB/gpdb.pm line 38.
BEGIN failed--compilation aborted at /web/gpdb/cgi-bin/GPDB/gpdb.pm line 38.
Compilation failed in require at ./testgpdb.pl line 20.
BEGIN failed--compilation aborted at ./testgpdb.pl line 20.
</pre></div>

<p>So as we can see this is <b>not</b> working for Solaris or Linux 64-bit Intel.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:52 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000625.html">Permalink</a>
                                 
                                 | <a href="http://defaria.com/blogs/Status/archives/000625.html#trackback">TrackBacks (0)</a>
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://defaria.com/blogs/Status/archives/2007_03.html#entry-000624"
    trackback:ping="http://defaria.com/mt/mt-tb.cgi/13"
    dc:title="MySQL Client Libraries"
    dc:identifier="http://defaria.com/blogs/Status/archives/2007_03.html#entry-000624"
    dc:subject="Texas Instruments"
    dc:description=" Worked on solutions for MySQL client library problem..."
    dc:creator=""
    dc:date="2007-03-16T17:32:56-06:00" />
</rdf:RDF>
-->


                     <h2 class="date-header">March 16, 2007</h2>
                     <a id="a000624"></a>
                     <div class="entry" id="entry-624">
                        <h3 class="entry-header">MySQL Client Libraries</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Worked on solutions for MySQL client library problem</li>
</ul>
                              
                              Andrew DeFaria wrote:
<blockquote type="cite"> Chris Davey
wrote:
  <blockquote type="cite">
<p>Andrew</p>
    
<p>have update the /apps/cmpackages as per the web page ane try the new version of mkview_linked but faile to run:</p>

<h3>sunos</h3>

<div class=code><pre>
warmflash,a0741187&gt; ./mkview_linked 
install_driver(mysql) failed: Can't load
'/apps/cmpackages/perl/lib/site_perl/5.8.0/sun4-solaris-thread-multi/auto/DBD/mysql/mysql.so'
for module DBD::mysql: ld.so.1: mkview_linked: fatal:
libmysqlclient.so.12: open failed: No such file or directory at
/apps/cmpackages/perl/lib/5.8.0/sun4-solaris-thread-multi/DynaLoader.pm
line 229.
at (eval 1) line 3
Compilation failed in require at (eval 1) line 3.
Perhaps a required shared library or dll isn't installed where expected
at ./mkview_linked line 54

warmflash,a0741187&gt; ls -l
/apps/cmpackages/perl/lib/site_perl/5.8.0/sun4-solaris-thread-multi/auto/DBD/mysql
total 712
-r--r--r-- 1 amemgr ameadm 0 Mar 16 09:05 mysql.bs
-r-xr-xr-x 1 amemgr ameadm 360080 Mar 16 09:05 mysql.so*
</pre></div>

<h3>linux</h3>

<div class=code><pre>
ace.tiuk.ti.com,a0741187&gt; ./mkview_linked
install_driver(mysql) failed: Can't load
'/apps/cmpackages/perl/lib/site_perl/5.8.0/i686-linux-thread-multi/auto/DBD/mysql/mysql.so'
for module DBD::mysql: libmysqlclient.so.12: cannot open shared object
file: No such file or directory at
/apps/cmpackages/perl/lib/5.8.0/i686-linux-thread-multi/DynaLoader.pm
line 229.
at (eval 1) line 3
Compilation failed in require at (eval 1) line 3.
Perhaps a required shared library or dll isn't installed where expected
at ./mkview_linked line 54
ace.tiuk.ti.com,a0741187&gt; ls -l
/apps/cmpackages/perl/lib/site_perl/5.8.0/sun4-solaris-thread-multi/auto/DBD/mysql
ls:
/apps/cmpackages/perl/lib/site_perl/5.8.0/sun4-solaris-thread-multi/auto/DBD/mysql:
No such file or directory
</pre></div>
  </blockquote>

<p>The problem seems to be that you lack /apps/mysql/&lt;version&gt; which is what we used to build the DBD::mysql package. We are working on alternate solutions. Meantime could you try the following:</p>

  <ul>
    <li>mkdir /apps/mysql</li>
    <li>On Solaris (warmflash): rsync -rlz
stashu.dal.design.ti.com:/apps/mysql/4.0.16 /apps/mysql</li>
    <li>On Linux (ace): rsync -rlz
drteeth.dal.design.ti.com:/apps/mysql/4.0.17 /app/mysql</li>
  </ul>

<p>Try mkview_linked. Let us know.</p>

</blockquote>

<h1>Meantime back at the lab...</h1>

<h2>Short version:</h2>

<p>Nix the rsyncing of /apps/mysql and redo the rsync of /apps/cmpackages. We're put a copy of mysql under /apps/cmpackages. After refreshing your /apps/cmpackages area you should see an /apps/cmpackages/mysql directory. Then test mkview_linked again.</p>

<h2>Long version (AKA the gory details...)</h2>

<p>In order to get mkview_linked to use DBD::mysql, the Perl package of mysql must be compiled and installed. Perl packages often glue some subsystem's API (in this case MySQL), normally written in C or something like that to a Perl package (i.e. a .pm file). So on the one
end we have architecturally dependent code (usually a .a or .so library) and on the other we have (hopefully) architecturally neutral and interpreted Perl code (the .pm module). Therefore the process usually involves a makefile, execution of gcc to compile the <i>glue code</i> between the Perl and the subsystem's API as well as installing into the proper place, all of these files.</p>

<p>When Perl then calls the module DynaLoader.pm gets involved to load the appropriate architecturally dependent libraries so that calls to the Perl subroutines flow through the glue code and the appropriate API is called.</p>

<p>Since architecturally dependent code is involved we need to build this for the different architectures that we support. Further, MySQL in particular, has it's own library, libmysqlclient.a, which contains the API itself. So the glue code (mysql.so) needs to locate and load the appropriate libmysqlclient.a before it can successfully call an API. Finally there are issues of the version number of the, in this case, client software and the server software. Suffice to say, this is not always easy stuff!</p>

<p>Oh and we need mention that we are also talking about a large corporation here with various sites and the like; in most cases MySQL's client libraries will <b>not</b> be available locally nor of the right version - IOW we cannot trust that the MySQL client libraries will be local.</p>

<p>Oh and did I mention that mysql is not officially supported by TI...</p>

<p>We had hoped that /apps/mysql/&lt;version&gt;, while not officially supported, would be widely available but on our first guinea pi... ah... test subject, TI UK, we found that not to be the case. It looked like we had two ways to go: either 1) copy the /apps/mysql/&lt;version&gt; over to the remote sites or 2) include the /apps/mysql/&lt;version&gt; trees under /apps/cmpackages as our own mini distribution. I've implemented the latter. Now refreshing your /apps/cmpackages tree will carry along the necessary MySQL client libraries necessary to support mkview_linked and friends in most situations.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:32 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000624.html">Permalink</a>
                                 
                                 | <a href="http://defaria.com/blogs/Status/archives/000624.html#trackback">TrackBacks (0)</a>
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://defaria.com/blogs/Status/archives/2007_03.html#entry-000623"
    trackback:ping="http://defaria.com/mt/mt-tb.cgi/12"
    dc:title="Remote sites/mkview"
    dc:identifier="http://defaria.com/blogs/Status/archives/2007_03.html#entry-000623"
    dc:subject="Texas Instruments"
    dc:description=" Gained access to a few new remote sites. Updated GPDB. Alas there&apos;s no DesignSync info at these sites and none of the vobs have vobstorage paths that indicate a project! Got access to cmmgr but was unable to publish..."
    dc:creator=""
    dc:date="2007-03-13T17:26:14-06:00" />
</rdf:RDF>
-->


                     <h2 class="date-header">March 13, 2007</h2>
                     <a id="a000623"></a>
                     <div class="entry" id="entry-623">
                        <h3 class="entry-header">Remote sites/mkview</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Gained access to a few new remote sites. Updated GPDB. Alas there's no DesignSync info at these sites and none of the vobs have vobstorage paths that indicate a project!</li>

  <li>Got access to cmmgr but was unable to publish new mysql from all architectures</li>

  <li>Started incorporating the UK changes into mkview. Need to replicate these to mkview_linked (?)</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:26 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000623.html">Permalink</a>
                                 
                                 | <a href="http://defaria.com/blogs/Status/archives/000623.html#trackback">TrackBacks (0)</a>
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://defaria.com/blogs/Status/archives/2007_03.html#entry-000622"
    trackback:ping="http://defaria.com/mt/mt-tb.cgi/11"
    dc:title="Clearcase License Graphs"
    dc:identifier="http://defaria.com/blogs/Status/archives/2007_03.html#entry-000622"
    dc:subject="Texas Instruments"
    dc:description=" Worked on Clearcase License Graphs web page..."
    dc:creator=""
    dc:date="2007-03-08T18:52:25-06:00" />
</rdf:RDF>
-->


                     <h2 class="date-header">March  8, 2007</h2>
                     <a id="a000622"></a>
                     <div class="entry" id="entry-622">
                        <h3 class="entry-header">Clearcase License Graphs</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Worked on Clearcase License Graphs web page</lI>
</ul>
                              
                              <p>Seems this set of scripts didn't like the additional of the Make licensing because Make licensing often had 0 usage. The 0 was being carried forward and used as a denominator for some divisions causing divide by zero errors. I fixed up these errors which then caused it to loop indefinitely. Seems a for loop didn't properly anticipate having a usage of 0. Fixed</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:52 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000622.html">Permalink</a>
                                 
                                 | <a href="http://defaria.com/blogs/Status/archives/000622.html#trackback">TrackBacks (0)</a>
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://defaria.com/blogs/Status/archives/2007_03.html#entry-000621"
    trackback:ping="http://defaria.com/mt/mt-tb.cgi/10"
    dc:title="Building DBD::MySQL"
    dc:identifier="http://defaria.com/blogs/Status/archives/2007_03.html#entry-000621"
    dc:subject="Texas Instruments"
    dc:description=" Built DBD::MySQL for Solaris Having problems building DBD::MySQL for Linux..."
    dc:creator=""
    dc:date="2007-03-07T17:44:17-06:00" />
</rdf:RDF>
-->


                     <h2 class="date-header">March  7, 2007</h2>
                     <a id="a000621"></a>
                     <div class="entry" id="entry-621">
                        <h3 class="entry-header">Building DBD::MySQL</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Built DBD::MySQL for Solaris</li>

  <li>Having problems building DBD::MySQL for Linux</li>
</ul>

                              
                              <h2>How to build DBD::MySQL</h2>

<p>After downloading DBD::mysql from
<a href="http://search.cpan.org/~capttofu/DBD-mysql-4.003/lib/DBD/mysql.pm">http://search.cpan.org/~capttofu/DBD-mysql-4.003/lib/DBD/mysql.pm</a> I encountered some problems. First one needs to use the appropriate perl, one that has a compatible DBI module already. I found this in /app/cmpackages/perl/bin/perl. The more standard perl, /apps/perl/5.8.3/bin/perl seems to have a newer DBI module that is not compatible with the DBD::mysql that I downloaded.</p>

<p>Then one needs to give the proper parameters to generate the Makefile:</p>

<div class=code><pre>
$ export PATH=$PATH:/apps/mysql/4.0.16/bin
$ /apps/cmpackages/perl/bin/perl Makefile.PL \
&gt;    --libs="-L/apps/mysql/4.0.16/lib/mysql -lmysqlclient -lz" \
&gt;    --cflags=-I/apps/mysql/4.0.16/include/mysql \
&gt;    --testhost=mysql01.dal.design.ti.com \&nbsp;&nbsp; <font
 color="#ff0000"><i>These will not always be the same</i></font>
&gt;    --testuser=ccprojects \&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#ff0000"><i>This will change</i></font>
&gt;    --testpassword=ccpr0jects &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#ff0000"><i>This will change (note the 0 not O)</i></font>
</pre></div>

<p>Note that we explicitly use /apps/cmpackages/perl/bin/perl here. I would rather use /apps/perl/5.8.3/bin/perl but it's DBI appears to be too new for this version of DBD::mysql (!).</p>

<p>This will produce a Makefile which you then do:</p>

<div class=code><pre>
$ make
$ make test
</pre></div>

<p>Alas, normally one would do a make install but that would attempt to install into /usr/local/perl, not something we wish to do. And there doesn't appear to be a way to pack into Makefile.PL where you want to eventually install this module when make install is run, so we need to actually modify the Makefile itself.</p>

<p>Turns out that perl Makefile.PL &lt;<i>options</i>&gt; specifies which perl to use thus the following appears in the generated Makefile:</p>

<div class=code><pre>
INSTALLPRIVLIB = /apps/cmpackages/perl/lib/5.8.0
INSTALLSITELIB = /apps/cmpackages/perl/lib/site_perl/5.8.0
INSTALLVENDORLIB = 
INSTALLARCHLIB = /apps/cmpackages/perl/lib/5.8.0/sun4-solaris-thread-multi
INSTALLSITEARCH = /apps/cmpackages/perl/lib/site_perl/5.8.0/sun4-solaris-thread-multi
INSTALLVENDORARCH = 
INSTALLBIN = /apps/cmpackages/perl/bin
INSTALLSITEBIN = /apps/cmpackages/perl/bin
INSTALLVENDORBIN = 
INSTALLSCRIPT = /apps/cmpackages/perl/bin
</pre></div>

<p>Thus this means a make install will install the module into whichever Perl installation we specified in the perl Makefile.PL &lt;<i>options</i>&gt;! Alas we cannot write to those areas yet...</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:44 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000621.html">Permalink</a>
                                 
                                 | <a href="http://defaria.com/blogs/Status/archives/000621.html#trackback">TrackBacks (0)</a>
                              </p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</body>
</html>
