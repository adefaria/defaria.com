<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <meta name="generator" content="Movable Type 5.2.3" />

   <link rel="stylesheet" href="http://defaria.com/blogs/Status/styles-site.css" type="text/css" />
   <link rel="alternate" type="application/atom+xml" title="Atom" href="http://defaria.com/blogs/Status/atom.xml" />
   <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://defaria.com/blogs/Status/index.xml" />

   <title>Status for Andrew DeFaria: Ameriquest Archives</title>
</head>
<body class="layout-one-column">
   <div id="container">
      <div id="container-inner" class="pkg">

         <div id="banner">
            <div id="banner-inner" class="pkg">
               <h1 id="banner-header"><a href="http://defaria.com/blogs/Status/" accesskey="1">Status for Andrew DeFaria</a></h1>
               <h2 id="banner-description">Searchable status reports and work log</h2>
            </div>
         </div>

         <div id="pagebody">
            <div id="pagebody-inner" class="pkg">
               <div id="alpha">
                  <div id="alpha-inner" class="pkg">
                     
                     <p class="content-nav">
                        <a href="http://defaria.com/blogs/Status/">Main</a>
                     </p>
                     
                     
                     

                     <h2 class="date-header">September 22, 2004</h2>
                     <a id="a000251"></a>
                     <div class="entry" id="entry-251">
                        <h3 class="entry-header">gs.vbs/Backups</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Coded up gs.vbs, which will dump out the group heirarchy, whenever that arrives</li>

<li>Resolved the lockvobs.pl for backup issue - now working!</li>

<li>Spoke with server guy about new server's configuirations. Rtnlprod04 & 5 should be available by Monday!</li>

<li>Worked with Adam trying to get his login working</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:33 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000251.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">September 21, 2004</h2>
                     <a id="a000249"></a>
                     <div class="entry" id="entry-249">
                        <h3 class="entry-header">Group structure/View Server Problems</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Finished designing group structure - about to make AD requests</li>

<li><p>View server had a problem again. More and more it seems to be a problem with the NIC card on rtnlprod02. Managed to log into rtnlprod02 and look around. Couldn't see any processes at all in the TaskManager even though the 4 CPUs were 70-90% busy! Couldn't look at the Network tab - said there was no network adapter. Additionally the following appeared in the System event log:</p>

<pre>
Event Type:	Error
Event Source:	NIC Agents
Event Category:	Service 
Event ID:	1285
Date:		9/21/2004
Time:		2:07:32 PM
User:		N/A
Computer:	RTNLPROD02
Description:
NIC Agent: Connectivity has been lost for the NIC in slot 0, port 1. [SNMP TRAP: 18006 in CPQNIC.MIB]
Data:
0000: 00 00 06 00 00 00 00 00   ........
0008: 01 00                     ..      
</pre>

</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:18 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000249.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">September 20, 2004</h2>
                     <a id="a000250"></a>
                     <div class="entry" id="entry-250">
                        <h3 class="entry-header">cmconfig.vbs</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Held code review for cmconfig.vbs. Spent the rest of the day implementing changes. Some changes were minor while a few others were good catches of possible problems.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:19 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000250.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">September 16, 2004</h2>
                     <a id="a000248"></a>
                     <div class="entry" id="entry-248">
                        <h3 class="entry-header">Finished up populate_groups.vbs</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Investigated the group structure to document that is it not really heirarchical. We need to get it more tree like</li>

<li>Finished up coding populate_groups.vbs. Code now will walk the tree (that is when we get a tree!) and add users to the TOOLS database including their groups, gathered from walking the tree. If we do not have a tree to walk then the groups will be incomplete. Similarly if we tell populate_groups to populate from a node in the tree then only the groups in that node down will be gathered properly.</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:43 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000248.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">September 15, 2004</h2>
                     <a id="a000247"></a>
                     <div class="entry" id="entry-247">
                        <h3 class="entry-header">Populate users</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Worked mainly on a script to backfill and populate users into the TOOLS database</li>

<li>View server acted up again. Rebooted it but then it didn't come up!  Got the server guys involved and they booted it to the <i>Last Known Good Configuration</i>. This means that the Server Heap Size registry tweaks have been backed out. This also means that we'll probably have the view server having problems again soon. We need to schedule a maintainance period to reboot the view server with the proper registry tweaks. I can't imagine that that setting caused a problem with rebooting as it's the same setting as rtnlprod01 which is the same hardware. I looked at the event log a little bit and I think that rtnlprod02's problems may be a failing NIC card. I guess time will tell...</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  8:57 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000247.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">September 14, 2004</h2>
                     <a id="a000245"></a>
                     <div class="entry" id="entry-245">
                        <h3 class="entry-header">Code complete for cmconfig.vbs</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Working mainly on cmconfig.vbs. Solution for the env problem was to set both the user environment and the process environment then call cmverfiy.cmd from cmconfig.vbs. The code now does the folowing:</p>

<ol>
  <li>Configure Clearquest using installutil</li>

  <li>Verify connection to Clearquest</li>

  <li>Connect to the TOOLS database and verify that the user exists there</li>

  <li>Verify the user is in the proper Clearcase Active Directory group</li>

  <li>Set CLEARCASE_PRIMARY_GROUP and CLEARCASE_GROUPS properly for the user based on the users TOOLS record</li>

  <li>Set the Clearcase region as per the user's TOOLS record</li>

  <li>Configure user's Clearquest email settings</li>

  <li>Add registry entry to execute PMO-CM.cmd</li>

  <li>Add registry entry indicating the version of this script that was used</li>

  <li>Update the following fields in the user's record in the TOOLS database:

  <ul>
     <li>machineName (set to hostname if machineName was blank or set to "My Computer" or "Unknown")</li>

    <li>machineName2 (set to hostname if machineName was NOT blank or set to "My Computer" or "Unknown")</li>

    <li>idAddedtoCC (if #4 succeeds)</li>

    <li>isDeployed (if no other errors occur)</li>

    <li>isAddedtoCQ (if #3 succeeds)</li>
  </ul>

  <li>Runs cmverify to verify that all is OK</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:01 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000245.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">September 13, 2004</h2>
                     <a id="a000246"></a>
                     <div class="entry" id="entry-246">
                        <h3 class="entry-header">Env var problems</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>There is a slight problem with the "set everything and verify it" script cmconfig.cmd. The idea was that that one script would perform 3 separate actions:</p>

<ol>
  <li>Set up Clearquest configuration parameters (installutil)</li>

  <li>Set up Clearcase configuration parameters (as per the logged in user) (setccconf.vbs)</li>

  <li>Verify the installation (cmverify.cmd)</li>
</ol>

<p>The problem is with #2 being VBScript and #3 happening as a result of executing from the cmconfig.cmd script. While setccconf.vbs does indeed set the proper configuration environment variables as soon as it ends those settings are no longer set anymore by the evoking script only. All other (new) processes know about the change to the environment variables. To illustrate this odd phenomena:</p>

<div class="code">
<pre>
$ <u>type setenv_var.vbs</u>
Set sh  = WScript.CreateObject ("WScript.Shell")
Set env = sh.Environment ("USER")

env ("foo") = "bar"
$ <u>type senenv_var.cmd</u>
@echo off
set foo=bar
$ <u>echo foo = %foo%</u>
foo = %foo%
$ <u>cscript setenv_var.vbs</u>
$ <u>echo foo = %foo%</u>
foo = %foo%
$ <u>call setenv_var.cmd</u>
$ <u>echo foo = %foo%</u>
foo = bar
$ <u>cmd /c echo foo = %foo%</u>
foo = bar
</pre>
</div>

<p>Why it works for a .cmd script but not for a .vbs script I don't know.</p>

<p>So I will change cmconfig.cmd to do #1 and #2 above but skip #3. This means two things:</p>

<ol>
  <li>Customers will have to run cmconfig.cmd first, then cmverify.cmd second</li>

  <li>The running of cmverify.cmd must be done in a separate, new cmd session</li>
</ol>

<p>The reason for #2 is that even after cmconfig.cmd is run environment variables such as CLEARCASE_PRIMARY_GROUP and CLEARCASE_GROUPS will not have been "exported" into that cmd's environment (unless somebody can tell me how to set the parent's environment variables from VBScript...).</p>

<p>For the point and click crowd this should be OK. The email message you send the customer should have two links: one to cmconfig.cmd and one to cmverify.cmd. If the customer clicks the cmconfig.cmd link then cmconfig.cmd should run, in it's own process, and go away. Subsequently if the user clicks on cmverify.cmd that will run in it's own cmd process and it should pick up the appropriate environment variable settings.</p>

<p>There have been many requests for enhancements to the configuration scripts including updating the TOOLS database on successful verification and performing additional checks such as "is this user really in the AD group". I believe I will only be able to solve the above problem by having the setccconf.vbs script actually envoke the cmverify.cmd directly so that the environment variables that setccconf.vbs just set are exported into the cmverify.cmd's environment.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:07 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000246.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">September  9, 2004</h2>
                     <a id="a000244"></a>
                     <div class="entry" id="entry-244">
                        <h3 class="entry-header">Server Heap Size/Comment PINE code</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Investigated why the view server keeps needing a reboot. Found out that the server heap size was never increased. Fixed that.</li>

<li>Coded up a new trigger called COMMENT_PINE_CODE</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:57 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000244.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">September  8, 2004</h2>
                     <a id="a000243"></a>
                     <div class="entry" id="entry-243">
                        <h3 class="entry-header">Fixed corrupted SQL files for BUCS</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Fixed corrupted SQL files for BUCS</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:55 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000243.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">September  2, 2004</h2>
                     <a id="a000241"></a>
                     <div class="entry" id="entry-241">
                        <h3 class="entry-header">setccconf</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Found that there are situations where one needs to have CLEARCASE_PRIMARY_GROUP set. Worked with Mike to implement groups in the TOOLS database. Spent a large part of today implementing setccconfig.vbs. This command will replace setregion and sets 3 things:</p>

<ul>

<li>Region</li>

<li>CLEARCASE_PRIMARY_GROUP</li>

<li>CLEARCASE_GROUPS (if required)</li>

</ul>

<p>In order to do this the username is used to retrieve information from the TOOLS database. If the username is found then we get the project record and obtain the region. Next we check CC Primary Group and CC Groups. These fields will not always be filled in (previous entries lacked them but future entries should have them filled in. We then set CLEARCASE_PRIMARY_GROUP and CLEARCASE_GROUPS if there are any.</p>

<p>CC Groups in the TOOLS database will contain all Clearcase groups that the user belongs to - including their Primary group.  In a lot of cases the user's CC Groups will be only one and equal to the Primary group. In that case CLEARCASE_GROUPS is not set. If the user is a member of more than one group then it will be their Primary group and additional groups in the CC Groups field. In that case Primary group is removed from that list and the rest are set into CLEARCASE_GROUPS.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  2:57 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000241.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">September  1, 2004</h2>
                     <a id="a000242"></a>
                     <div class="entry" id="entry-242">
                        <h3 class="entry-header">CLEARCASE_PRIMARY_GROUP</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Worked on setccconf.vbs</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:05 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000242.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 30, 2004</h2>
                     <a id="a000239"></a>
                     <div class="entry" id="entry-239">
                        <h3 class="entry-header">Informatica/CLEARCASE_PRIMARY_GROUP</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Rearranged Informatica script code to be more oriented to what Don needs</li>

<li>Helped William Dean with issues regarding Clearcase. I think we are all OK now so I closed the Paragrine ticket for this. This has, however, opened up the issue that CLEARCASE_PRIMARY_GROUP needs to be set in some cases</li>

</ul>
                              
                              <p class="entry-more-link">
                                 <a href="http://defaria.com/blogs/Status/archives/000239.html#more">Continue reading "Informatica/CLEARCASE_PRIMARY_GROUP" &raquo;</a>
                              </p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:11 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000239.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 26, 2004</h2>
                     <a id="a000237"></a>
                     <div class="entry" id="entry-237">
                        <h3 class="entry-header">Permissions problems</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Spent most of the day wrestling with permissions problems. Anje was having problems as vobadm with EAG vobs in a UCM view. Attempted to recreate the problem and understand why it's not allowing her to create elements. Seems the EAG_VMS vob is owned by AsapAdm and group CC-EAG-VMS but vobadm is not the owner. vobadm is in the group and the group has write permission but vobadm can't write.</li>

<li>Started writing WSH keystroke module for the Informatica process that Don is working on</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:21 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000237.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 25, 2004</h2>
                     <a id="a000238"></a>
                     <div class="entry" id="entry-238">
                        <h3 class="entry-header">Implementing Groups</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Noticed the CC-TTE-EMP-* groups have been created. One has the wrong name (should be CC-TTE-EMP-SCR but is CC-TTE-EMP-SRC. My fault! Typo when I requested the group). Applied these groups to the folders in Core_automation</li>

<li>Changed protect trigger to set group owner to that of the parent directory. This is needed for this fix</li>

<li>Removed Permissions trigger. This trigger was ineffective and is no longer needed</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:28 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000238.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 23, 2004</h2>
                     <a id="a000236"></a>
                     <div class="entry" id="entry-236">
                        <h3 class="entry-header">cmverify/protect</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Changed cmverify to report username in the logfile name and in report itself</li>

<li>Changed protect trigger to use the parent directoy's group as the group owner for new elements</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 11:19 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000236.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 19, 2004</h2>
                     <a id="a000235"></a>
                     <div class="entry" id="entry-235">
                        <h3 class="entry-header">Group Permissions/mktriggers</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Started documenting usage of groups within groups</li>

<li>Helped John with mktriggers modifications</li>

<ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:10 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000235.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 18, 2004</h2>
                     <a id="a000234"></a>
                     <div class="entry" id="entry-234">
                        <h3 class="entry-header">Group Permissions/cmconfig</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Wrapped up the 3 things we want to do to configure during install into a cmd script - cmconfig.cmd</lI>

<li>Performed a lot of investigation regarding group permissions problem - writing web page for this</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:06 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000234.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 17, 2004</h2>
                     <a id="a000233"></a>
                     <div class="entry" id="entry-233">
                        <h3 class="entry-header">cqverify/TOOLS</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Submitted a few task for improvements with the TOOLS database</li>

<li>Changed cqverify to deliniate between username not found and password wrong. Changed return status such that if the username is not in the Clearquest database that's an error. But if the user is in the Clearquest database but the password is not default then that's just a warning</li>

<li>Assisted TTE member to add ASAP_WinRunner to his view</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:42 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000233.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 16, 2004</h2>
                     <a id="a000232"></a>
                     <div class="entry" id="entry-232">
                        <h3 class="entry-header">Setregion/c[qc]verify</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Implemented setregion.vbs. This command will set the region for the passed in region name. Or, if no region is given, it uses the users ID and the TOOLS database to determine that user's home region</li>

<li>Requested SQL folk to allow monitoring of SQL service</li>

<li>Changed cqverify to attempt connecting to Clearquest database using the user's username and password</li>

<li>Changed ccverify to not consider an empty CLEARCASE_PRIMARY_GROUP as an error</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  1:27 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000232.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 13, 2004</h2>
                     <a id="a000231"></a>
                     <div class="entry" id="entry-231">
                        <h3 class="entry-header">What'sUP/set region</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Worked on setting up What's Up alarms and alerts</li>

<li>Created setregion.vbs. This script will set the region to the passed in region. If nothing is passed in it will attempt to find the region associated with the project for the currently logged in user through the CQ TOOLS database. If it can't find it then it will leave the registry setting alone</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:31 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000231.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 12, 2004</h2>
                     <a id="a000230"></a>
                     <div class="entry" id="entry-230">
                        <h3 class="entry-header">Tools Push</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Spent most of the day investigating how best to solve the issue of supplying Desktop Support a group/region for a user. Started writing VBScript to interrogate the CQ TOOLS database. Have the code functionally working but we need to add Region to a Project in CQ TOOLS. Also need to orient all of our <group>.reg files to be <region>.reg files.</li>

<li>Implemented COMMENT_SQL_CODE trigger for BUCS_SRC</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  8:47 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000230.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 11, 2004</h2>
                     <a id="a000229"></a>
                     <div class="entry" id="entry-229">
                        <h3 class="entry-header">Cron problems/Server Problems/CC Groups</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Had problems with cron not being able to find scripts</li>

<li>Spent much of the day researching whether or not we need to use CLEARCASE_PRIMARY_GROUP at all</li>

<li>View server needed rebooting</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:48 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000229.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August 10, 2004</h2>
                     <a id="a000228"></a>
                     <div class="entry" id="entry-228">
                        <h3 class="entry-header">AD Groups/setup</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Worked on trying to sort out the differences between AD groups/groups.dat and the .reg files. Need to investigate if all this is required in the first place.</li>

<li>Finished up setup_cygwin. Added links for .inputrc, .Xdefaults and .vimrc. Added stuff for verbose and debug</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:56 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000228.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August  9, 2004</h2>
                     <a id="a000227"></a>
                     <div class="entry" id="entry-227">
                        <h3 class="entry-header">Env/CQ Down/Groups</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Added more of an environment into CM_TOOLS</li>

<li>Clearquest has been down all day. Server threw a shoe. Won't be up 'til tomorrow</li>

<li>Seems we may not have a 1-to-1 correspondance between groups.dat/AD Groups and .reg files. Trying to work out the problems here</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:04 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000227.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August  5, 2004</h2>
                     <a id="a000226"></a>
                     <div class="entry" id="entry-226">
                        <h3 class="entry-header">CC-TTE/CommentSQLCode/whosin</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Had problems with the Permissions trigger. Something we forgot or didn't think about. If the user attempts to add elements to source control they should be permitted in folders that have .perms. However part of adding to source control checks out the parent directory first. At the parent directory level there is no .perms to permit the user to check out the parent directory! This causes Add to Source Control to fail. Solution was to change the algorithm to account for this</li>

<li>Finished up CommentSQLCode trigger. Added stuff to triggers.dat and documented things in CM_DOCS. Waiting for code review.</li>

<li>Got this bright idea to take GetCCGroups.vbs and make another script that will simply dump the users for the given groups. Useful command line tool called whois</li>

<li>Worked on trying to get PC to install the new Rational Web Server for John</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:38 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000226.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August  4, 2004</h2>
                     <a id="a000225"></a>
                     <div class="entry" id="entry-225">
                        <h3 class="entry-header">CommentSQLCode Trigger</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<p><li>Implemented CommentSQLCode Trigger - need to do code review, triggers.dat, and documentation</li></p>

<p><li>Assisted Loren, Padma and William in getting the Permisisons working</li></p>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:35 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000225.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August  3, 2004</h2>
                     <a id="a000224"></a>
                     <div class="entry" id="entry-224">
                        <h3 class="entry-header">New Trigger</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Here are the requirements as I understand them for the trigger that Steve Lipson wants for the SQL checkins. Basically he desires a trigger that will capture the checkin comment and other information and insert that information in the form of a comment at the top of the checked in element. This trigger will:</p>

<ul>
  <li>Be a postop trigger for the checkin action</li>
  <li><b>Not</b> be an all element trigger rather it will be attached to certain file elements in the vob</li>
  <li>Be made for the &lt;<i>fill in vob name here</i>&gt; vob</li>
  <li>Only work on file elements - directory elements are to be skipped</li>
  <li>Only work on file elements that have an extension of .sql - other elements will be skipped</li>
</ul>

<p>Roughly the psuedo code for this trigger will be:</p>

<div class="code"><pre>
# Get name of element and its type
$pname        = $ENV{CLEARCASE_PN};
$element_type = $ENV{CLEARCASE_ELTYPE};

# Skip directories and elements that aren't .sql
exit if $element_type =~ /directory/i || $pname !~ /\.sql$/i;

# Get comment and user
$comment   = $ENV{CLEARCASE_COMMENT};
$userid    = $ENV{CLEARCASE_USER};

# Format timestamp
$timestamp = getCurrentTime;

# Parse output of lsactivity -cact -long
($activity_id, $activity_title, $activity_owner) = parseLSActivity;

# Open up $pname for reading and $pname.trig for writting
open PNAME_IN, $pname
  or die "Unable to open $pname for reading - $!\n";

open PNAME_OUT, ">$pname.trig"
  or dir "Unable to open $pname.trig for writing - $!\n";

# Add comment to top of file
print $PNAME_OUT &lt;&lt;END;
-- Date:	    $timestamp
-- Activity: $activity_id: $activity_title
-- Owner:    $activity_owner ($userid)
-- Comment:  $comment
END

# Append $pname
while (<PNAME_IN>) {
  print PNAME_OUT $_;
} # while

close PNAME;
close PNAME_OUT;

# Switch $pname.trig -> $pname
unlink $pname;
rename "$pname.trig", $pname;

# Allow checkin to proceed
exit 0;
</pre></div>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:54 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000224.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">August  2, 2004</h2>
                     <a id="a000223"></a>
                     <div class="entry" id="entry-223">
                        <h3 class="entry-header">Server move (cont)</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>OK, licenses are all OK now. BTW hostid is not a combination of IP address and MAC address - it's simply MAC address of the NIC card. Problem appears to be that during the server move the NIC card changed! I verified this with the Rational rep this morning. The current MAC address of the NIC card as shown by ipconfig /all (it's the Physical Address) is 00-0f-20-6d-09-97. I gave the old license strings to the rep and she determined our old MAC address of the NIC card was 00-0b-cd-9b-f4-27.</p>

<p>Looking at the Device Manager on the servers I notice that we have two Network Adapters listed:</p>

<ol>
  <li>HP NC7781 Gigabit Server Adapter</li>
  <li>HP NC7781 Gigabit Server Adapter #2</li>
</ol>

<p>Why we have 2 NIC cards I don't know (perhaps merely for the ability to be multihomed). Normally I see #1 being disabled and #2 being enabled. Rtnlprod01 is like this. Rtnlprod02 has #1 enabled and #2 disabled. For the vob and view servers this does not matter. Either card will work. For rtnlprod03 however, since licenses are tied to the NIC card's MAC address, switching from #1 -> #2 (or #2 -> #1 as I suspect has happened here) will invalidate all licenses. We need to insure that the network adapter for rtnlprod03 remains nailed at either #1 or #2.</p>

<p>Since it appears that the network adapter has changed and since I have obtained a new set of licenses for this new network adapter and still have the old set, I have installed both sets so that in the event that the network adapter switches again we'll be covered. However, if we order additional licenses for say card #1 and somehow we get switched to card #2, those additional licenses will not be represented, hence the desire to nail the NIC card to either one or the other.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:47 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000223.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">July 30, 2004</h2>
                     <a id="a000222"></a>
                     <div class="entry" id="entry-222">
                        <h3 class="entry-header">TTE/Server move to Cartwright</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Had AD groups created in one day!</li>

<li>Supported the server move to Cartwright. The move invalidated all Clearcase/Multisite licenses! Got emergency licenses</li>

<ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:42 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000222.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">July 29, 2004</h2>
                     <a id="a000221"></a>
                     <div class="entry" id="entry-221">
                        <h3 class="entry-header">Nag/TTE/Print CSS</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Finished nag. Started nagging David Chu and TTE-EMP people. Worked well with TTE-EMP people....</li>

<li>Requested creation of AD groups for TTE-EMP. Created in one day! Yippie!. Showed Loren how to make .perms files. Still need to address the issue of Empower people being in which CC group...</li>

<li>Changed web pages to use new print CSS</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:22 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000221.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">July 28, 2004</h2>
                     <a id="a000219"></a>
                     <div class="entry" id="entry-219">
                        <h3 class="entry-header">Tools push/Lockvobs</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Met with Victor Larson and William Fagerberg regarding tools push. We went over my install scripts and they will attempt to package up an msi file that will install Clearcase and TUP and add the appropriate registry entries for the user. We in CM just need to ensure that we have the appropriate reg file set up before the pushes occur.</li>

<li>Changed Lockvobs to use an exclusion list of vobs to not [un]lock vobs</li>

<li>Helped new guy, John Luu, with his set up</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  9:47 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000219.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">July 27, 2004</h2>
                     <a id="a000220"></a>
                     <div class="entry" id="entry-220">
                        <h3 class="entry-header">Nag</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<p><li>Implementing email reminder</li></p>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  9:56 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000220.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">July 23, 2004</h2>
                     <a id="a000218"></a>
                     <div class="entry" id="entry-218">
                        <h3 class="entry-header">Logger/Display modules - backups</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Attended backup meeting. It may be that we cannot use <b>diskpart</b> to break hardware mirrors! Spoke with a Rusty Young and he wants a copy of our requirements and may present us with other options like <i>Volume Shadow Copy</i>, SAN, etc.</li>

<li>Modified Display module to accept optional filehandle and to display errors and warnings to STDERR</li>

<li>Checked in initial Logger Object. Now uses Display module</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 11:49 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000218.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">July 22, 2004</h2>
                     <a id="a000217"></a>
                     <div class="entry" id="entry-217">
                        <h3 class="entry-header">Logger</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Worked on a Logger object</li>

<li>Resolved long standing <i>Compare does not work in snapshot view</i> issue. Turns out that certain vobs had forward slashes instead of backslashes in their storage paths for the vob tags. Changed to backslashes and compare works again. Strange! Bug in Rational code. Cleaned up all vob tags. View tags do not appear to be affected. May think about changing <i>tagit</i> to tag things with only backslashes...</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:26 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000217.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">July 21, 2004</h2>
                     <a id="a000216"></a>
                     <div class="entry" id="entry-216">
                        <h3 class="entry-header">Mktriggers/restoring view</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Finally got view restored. Recovered the triggers.dat file and the NoPBLs trigger</li>

<li>Implemented both the NoPBLs and Permissions triggers</li>

<li>Implemented vobsize</li>

</ul>


                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  3:15 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000216.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">July 20, 2004</h2>
                     <a id="a000215"></a>
                     <div class="entry" id="entry-215">
                        <h3 class="entry-header">Permissions Trigger</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Implemented Permissions trigger.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  3:12 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000215.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">July 19, 2004</h2>
                     <a id="a000214"></a>
                     <div class="entry" id="entry-214">
                        <h3 class="entry-header">Permissions Trigger</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>I've given the "permissions trigger" some thought and would like to formalize the requirements a bit. The new trigger will have the following characteristics:</p>

<ul>

<li>Since multiple groups will be allowed write access to the vob they will need to be added as additional groups on the vob group list. </li>

<li>Determination of what users get additional write capability will be on Active Directory groups. IOW you can grant write access to say the CC-PMO group but not specifically to Mike Hrenko who is a member of the CC-PMO group. Additionally CC-PMO would need to appear on the vob group list in this example.</li>
 
<li>The trigger will use CLEARCASE_PRIMARY_GROUP to determine what group the user is. This avoids having to do LDAP lookups and it's the way that Clearcase does it anyway. CLEARCASE_PRIMARY_GROUP will not be used verbatim - if it were then anybody would "fake" out the trigger by merely setting CLEARCASE_PRIMARY_GROUP. Instead "creds" will be called to ascertain the effective primary group.</li>

<li>A permissions element will be created that will contain a list of groups, one per line, that are allowed write access from this folder downward. The vob's initial or primary group owner (CC-TTE in the case of Core_automation) will always have write permission. Furthermore the permissions element should be secured such that only vob's primary group owner can modify it. Otherwise other groups could easily modify the permissions element thus granting write permissions to arbitrary groups.</li>

</ul>

<p>Let's see an example of how this will work and how the trigger will respond. Let's assume the following directory structure:</p>

<blockquote>
  Core_automation 
  <blockquote>
    Empower <font color="#eeeeee">CC-EAG-AS, CC-EAG-ESB</font>
    <blockquote>
      Functions <font color="#eeeeee">CC-EAG-VIP</font><br>
      Results <font color="#eeeeee">CC-EAG-VMS</font><br>
      Common
    </blockquote>
  </blockquote>
</blockquote>

<p>Further let's assume that the permissions element is at the Empower level and contains the groups CC-EAG-AS and CC-EAG-ESB. This says that those two groups (as well as CC-TTE as primary group owners of the vob) have write permission (the ability to checkout) elements from Core_automation/Empower downward. Additionally let's say that we have a permissions element at Empower/Functions that lists CC-EAG-VIP and Empower/Results has a permissions element that lists CC-EAG-VMS. The following can be said:</p>

<ul>

<li>Members of CC-EAG-AS and CC-EAG-ESB have write permissions to Empower, Empower/Functions, Empower/Results and Empower/Common. Further, if new folders are created under Empower, CC-EAG-AS and CC-EAG-ESB will have write permissions to those new folders as well (IOW the write permissions are inherited by new folders that are created)</li>

<li>Members of CC-EAG-VIP have write permissions to Empower/Functions and any new folders created under Functions, but they do not have write permissions to Empower/Results nor Empower/Common. Similarly CC-EAG-VMS has write permissions to Empower/Results but not to Empower/Functions nor Empower/Common</li>

</ul>

<p>The pseudo code for the trigger is roughly as follows. Note that the trigger gets fired during checkout of an element only (it is assumed if the user successfully checked out the element then, at the time, he had write permissions and should be allowed to check in the element):</p>

<div class="code">
<pre>
$vob_group_owner = GetGroupOwner (vob) 
$current_group   = GetCurrentGroup (CLEARCASE_PRIMARY_GROUP as per "creds") 

if (permissions element exists in the current folder) { 
  if (IsAMember (Parse ($permissions_element), $current_group) {
    &lt;<i>allow checkout</i>&gt;
  } else { 
    &lt;<i>recurse to check parent folder stopping at vob root</i>&gt; 
    &lt;<i>disallow checkout</i>&gt;
  } 
}
</pre>
</div>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  3:07 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000214.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">July 16, 2004</h2>
                     <a id="a000213"></a>
                     <div class="entry" id="entry-213">
                        <h3 class="entry-header">TTE/BUCS</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Helped Don with BUCS</li>

<li>Attended meeting with TTE regarding how to better use Clearcase. Need to create a trigger that allows or disallows write access to certain areas of their vob</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:47 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000213.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">July 15, 2004</h2>
                     <a id="a000212"></a>
                     <div class="entry" id="entry-212">
                        <h3 class="entry-header">tagit/findview/Clearquest Web</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Fixed tagit to tag into the current region</li>

<li>Adjusted findview to total views and accept multiple view search strings</li>

<li>Helped Anje, Timmie and Mike with new Clearquest web installation in the lab</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:50 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000212.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">July 12, 2004</h2>
                     <a id="a000211"></a>
                     <div class="entry" id="entry-211">
                        <h3 class="entry-header">Moving views</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Consulted with ASAP regarding moving of views from a desktop to the server</li>

<li>Helped Subba move a vob to the server</li>

<li>Consulted with Babu regarding designing of Multisite replacement scheme</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  9:06 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000211.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">July  8, 2004</h2>
                     <a id="a000210"></a>
                     <div class="entry" id="entry-210">
                        <h3 class="entry-header">Display.pm/ASAP View moves/Backups/Compare to Previous</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Created Display.pm Perl module</li>

<li>Consulted with ASAP Re: Moving views</li>

<li>Spoke with Rory Re: Backups</li>

<li>Worked some more with Rational regarding the <i>Compare to Previous</i> problem</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:21 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000210.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">July  7, 2004</h2>
                     <a id="a000209"></a>
                     <div class="entry" id="entry-209">
                        <h3 class="entry-header">mirror_backup coding/Compare to previous</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Started coding mirror_backup</li>

<li>Worked with Rational on <i>Compare to previous fails in snapshot view</i></li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:14 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000209.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">July  6, 2004</h2>
                     <a id="a000207"></a>
                     <div class="entry" id="entry-207">
                        <h3 class="entry-header">GetCCGroups.vbs/PowerBuilder</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Updated GetCCGroups.vbs to send email from servers</li>

<li>Documented PowerBuilder/Clearcase Performance.</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 10:56 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000207.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">July  5, 2004</h2>
                     <a id="a000208"></a>
                     <div class="entry" id="entry-208">
                        <h3 class="entry-header">PowerBuilder Testing</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Created various views to perform performance testing of PowerBuilder builds.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:09 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000208.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">July  1, 2004</h2>
                     <a id="a000206"></a>
                     <div class="entry" id="entry-206">
                        <h3 class="entry-header">BUCS Build Measurements</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Completed BUCS Build Measurements. Managed to cut some of the build time by using outofdate and exclude_checkout options. Performed builds on each of Local/Remote snapshot views and Local/Remote dynamic views. Remote dynamic views are by far still the slowest with most of the time being spent in refreshing elements from Clearcase.</li>

<li>The GetCCGroups.vbs email process failed today. Turns out the code cannot send email. Posted a question about this on the newsgroup. Need to change the VB Script to set the mail server apparently</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  2:34 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000206.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June 25, 2004</h2>
                     <a id="a000205"></a>
                     <div class="entry" id="entry-205">
                        <h3 class="entry-header">Finished backup script</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>The backup script is ready for deployment. It was determined to lock all vobs at once, back them all up then unlock the vobs. I also implemented the 7 days of history option. History is stored under d:\vobstore\backup as numbered directories (0-6 for Sun-Sat). The script now manages that area by first moving the current backup under d:\backup -> d:\vobstore\backup\<current day #> after first clearing out d:\vobstore\backup\<current day #> (if it existed). It was decided to put the history stuff under vobstore because this way we can tell the backup people "Just exclude d:\vobstore but get everything else".</p>

<p>I was experiencing "Access denied" errors irradically until I found out that there may be .being-deleted files as described <a href="http://www-1.ibm.com/support/docview.wss?rs=0&q1=being-deleted&uid=swg21129318&loc=en_US&cs=utf-8&cc=us&lang=en">here</a>. To solve this I implemented exclusions on the xcopy command (/exclude:d:\backup\exclude.strings) which tells xcopy to exclude things in the "c" directory - i.e. the cleartext pool - which Clearcase can easily recreate without data loss. This also has the effect of reducing the backup copy size in some cases significantly (e.g. \ASAP_Docs goes from 2.1 gig down to 1 gig!).</p>

<p>Here's a rough psuedo code of what the script does:</p>

<div id="code">
<pre>
Obtain a list of all vobs
Lock all vobs
foreach @vobs
  if d:\vobstore\backup\$current_day\$vob exists then
    remove it
  end if
  move d:\backup\$vob -> d:\vobstore\backup\$current_day\$vob
  copy $vob's storage area -> d:\backup\$vob
Next
Unlock all vobs
</pre>
</div>
<p>Cutting out the copying of cleartext pool has reduced the current backup time from 56 minutes (yes it grew) to 33 minutes.</p>

<p>Now, where are we WRT the SQL backup scripts?....</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  3:37 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000205.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June 23, 2004</h2>
                     <a id="a000202"></a>
                     <div class="entry" id="entry-202">
                        <h3 class="entry-header">Multisite/backup.pl</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Spent some time trying to multisite a test vob (\defaria). Realized that we will have a problem in that we will need a machine (server or client) dedicated to handling the multisite region in order to lock vobs and backup things.</p>

<p>Had a meeting WRT multisite approach. It was determined that will we switch to using a script to make a copy of the vobs and back up from there. Started writing script...</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  9:21 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000202.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June 21, 2004</h2>
                     <a id="a000204"></a>
                     <div class="entry" id="entry-204">
                        <h3 class="entry-header">XML</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Spent most of the day investigating XML and XSL.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  9:29 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000204.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June 18, 2004</h2>
                     <a id="a000201"></a>
                     <div class="entry" id="entry-201">
                        <h3 class="entry-header">XML</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Spent most of the day studying XML</li>

<li>Added debugging code to LogActivity trigger</li>

<li>Worked on problem Sujay's people had with 0 length document</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  1:55 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000201.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June 16, 2004</h2>
                     <a id="a000199"></a>
                     <div class="entry" id="entry-199">
                        <h3 class="entry-header">AD/CC Registry</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Activated reporting of Active Directory groups</li>

<li>Cleaned up Clearcase Registry</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  2:17 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000199.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June 15, 2004</h2>
                     <a id="a000200"></a>
                     <div class="entry" id="entry-200">
                        <h3 class="entry-header">BUCS/VOB Snapshots/RequistePro</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>More working with Babu re: BUC$ build script</li>

<li>Investigated and prototyped vob_snapshot backups</li>

<li>Incorporated Requisite Pro into a FAQ web page</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  2:21 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000200.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     
                     <a id="a000198"></a>
                     <div class="entry" id="entry-198">
                        <h3 class="entry-header">Clearcase Web Server</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>The Clearcase web service died today. I don't know why but the following is what I did to get it back up and running. </p>

<p>Server is back up.</p>

<p>Problem analysis:</p>

<p>Not really sure where things went wrong however when I looked at it the Rational Web Platform (rwp - which is really just Apache with Tomcat under the hood) was not running. rwp creates error logs but they are hard to parse because there are many of them with apparently random numbers tacked on. I believe these numbers represent the date in some form but haven't figured out how to decode them.</p>

<p>Anyway, I tried moving them aside and to restart the rwp server so that it would be clear what the error file was. Couldn't move all the log files out of the way because some were busy. Wish I had a good tool to figure out who has a file open.</p>

<p>The error message when trying to start rwp was "The Rational Web Platform HTTP Service Terminated with Service-Specific Error 1". Searching the Rational Support site yielded that the reason the service could not start was because some other process was using port 80. Typically this is due to somebody else runnig IIS. No IIS running. Tried netstat but could not find who was using port 80. Tried telneting to port 80 and got "Connection failed" so whoever was using port 80 did not want to talk to me! :-)</p>

<p>Finally I tried running rwp.exe from the command line with --help hoping for help about rwp's possible command line opts. Instead rwp started and ran! Clearcase web was back up but I did not like having rwp running in a console window and if I were to log out I feared that the rwp process would end. So I went to the Services applet and tried to start (since there was no stop) rwp. It started and the rwp running in the console ended. For safety's sake I restarted the rwp service through the Services applet. I believe Clearcase web is OK for now and we are doign server maintainance tonight anyway...<br />
</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 10:44 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000198.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June  9, 2004</h2>
                     <a id="a000197"></a>
                     <div class="entry" id="entry-197">
                        <h3 class="entry-header">PB/ASAP VOB Moves</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Joined PowerBuilder newsgroup to try to find out how to solve the Orca Script problems. Looks like I'm gonna learn way more about PB than I wanted to</li>

<li>Tested moving PVOB and Src vob from vobstore to ASAP_VOBS. Works OK.</li>

<li>Learned that we can use the DOS command MOVE which moves the VOBs simply by manipulating the directory entries. This means moving a large vob takes no longer than a small vobs. This is probably possible because we are on the same filesystem</li>

<li>WRT these ASAP vobs, we need to <tt>ct find -all -exec "cleartool protect -chown &lt;owner&gt; %CLEARCASE_PN%"</tt></li>

</ul>

                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:08 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000197.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June  8, 2004</h2>
                     <a id="a000196"></a>
                     <div class="entry" id="entry-196">
                        <h3 class="entry-header">ActiveState Perl</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Spent most of the day installing a Networked ActiveState Perl. Had permission problems with making elements in my dynamic view! Don't know why? Tried a clearfsimport and that caused the Perl to fail. I think it didn't properly copy permissions. So I ended up having to <b>Add to Source Control</b> all the files by hand (since I don't have scripting tools)</li>

<li>Consulted with Subba about ASAP VOB Move test</li>

<li>Babu gave me an assignment to learn <i>OrcaScript</i> which is a scripting language for PowerBuidlder. Oh boy!</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:07 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000196.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June  4, 2004</h2>
                     <a id="a000195"></a>
                     <div class="entry" id="entry-195">
                        <h3 class="entry-header">AD Groups</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Worked on getccgroups.vbs most of the day. Managed to get it to recurse for groups within groups and to sort the arrays of names. Need to implement the email portion though.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:43 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000195.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June  3, 2004</h2>
                     <a id="a000194"></a>
                     <div class="entry" id="entry-194">
                        <h3 class="entry-header">More meetings</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Yet even more meetings</li>

<li>Documented installation scripts. Fixed them to dynamically mktag for \ccverify</li>

<li>Helped Rick Cunneen with VOB questions</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:23 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000194.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June  2, 2004</h2>
                     <a id="a000193"></a>
                     <div class="entry" id="entry-193">
                        <h3 class="entry-header">Meetings, Bloody Meetings</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Attended several (3) meetings today so not much got done</li>

<li>Fixed some minor problems with verification scripts</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:10 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000193.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">June  1, 2004</h2>
                     <a id="a000192"></a>
                     <div class="entry" id="entry-192">
                        <h3 class="entry-header">CMVerify</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Worked mostly on [cm|cc|cq]verify scripts. Got them checked in as working</li>

<li>Worked a little bit on the GetCCGroups vbs scripts</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:34 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000192.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">May 28, 2004</h2>
                     <a id="a000191"></a>
                     <div class="entry" id="entry-191">
                        <h3 class="entry-header">Updated install scripts/started verification scripts</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Updated install scripts: Added running of PMO-CM.cmd to HKEY_LOCAL_MACHINE key Added checking of pre-existing installation of Clearcase and/or Clearquest and skipping the install if it's already installed.</li>

<li>Started putting together verfication scripts</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:23 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000191.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">May 27, 2004</h2>
                     <a id="a000190"></a>
                     <div class="entry" id="entry-190">
                        <h3 class="entry-header">VBScript/install command</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Worked most of the day learning VBScript for the LDAP thing</li>

<li>Modified PMO.cmd so that it implements new fucntionality</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:52 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000190.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">May 26, 2004</h2>
                     <a id="a000189"></a>
                     <div class="entry" id="entry-189">
                        <h3 class="entry-header">FlexLM/GetCCGroups</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Spent like 4 hours wrestling with FlexLM but finally got the thing to work and log license usage</li>

<li>Dustin gave me a VB Script that gets names for a group. Massaged it (read rewrote it) into GetCCGroups.vbs. This dumps out the names into files like CC-ASAP.grp, CC-PMO.grp, etc.</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:33 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000189.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">May 25, 2004</h2>
                     <a id="a000188"></a>
                     <div class="entry" id="entry-188">
                        <h3 class="entry-header">Evil Twin/LDAP/Diff</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Finished up coding evil twin and went through a quick review with Don. Need to setup some test cases before implementing</li>

<li>Received some info from Dustin Sauter regarding LDAP access. He was quite helpful and even provided me with a utility ot show the members of a group as well as shared the LDAP schema.</li>

<li>Submitted clearbugnt and sysinfo for the view/vob server for the problem about ct diff</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:42 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000188.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">May 24, 2004</h2>
                     <a id="a000187"></a>
                     <div class="entry" id="entry-187">
                        <h3 class="entry-header">Evil Twin</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Transformed Triggers document back into html</li>

<li>Worked on Evil Twin trigger</li>

<li>Consulted with Mike regarding moving ASAP to it's own share</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:16 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000187.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">May 21, 2004</h2>
                     <a id="a000186"></a>
                     <div class="entry" id="entry-186">
                        <h3 class="entry-header">tail/trigger</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Worked on implementing tail</li>

<li>Worked with Sujay a bit on the ASAP_BUS_REQ trigger. Need to get a testign environment</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:22 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000186.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">May 20, 2004</h2>
                     <a id="a000185"></a>
                     <div class="entry" id="entry-185">
                        <h3 class="entry-header">BUCS</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<p><li>Attended a few meetings which took up my time</li></p>

<p><li>Worked about 2 1/2 hours on rmelem'ing some files for BUCS</li></p>

<p><li>Added installation of TUP to install script for CCADMIN. Need to propogate this to the other install scripts. Involved adding stuff to HKLM RunOnce for TUP install</li></p>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:28 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000185.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">May 19, 2004</h2>
                     <a id="a000184"></a>
                     <div class="entry" id="entry-184">
                        <h3 class="entry-header">Diff Problem/Ant Build</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Worked a little on the problem with Core_automation and diff</li>

<li>Installed Ant and JDK into CM_TOOLS and performed a build of ASAP_Infrastructure!</li>

<li>Performed code review of <a href="/eviltwin.php">INHIBIT_DUPLICATE_ELE</a></li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:19 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000184.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">May 18, 2004</h2>
                     <a id="a000183"></a>
                     <div class="entry" id="entry-183">
                        <h3 class="entry-header">LogActivity/ASAP & ASAP_BUS_REQ/.reg files</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<p><li>Wrote LogActivity trigger which will log activity to an HTML log file. It requires one parameter, the path to where to put the log file. Thereafter it writes log files of the format <vob name>_yyyy-mm-dd.html.</li></p>

<p><li>Added LogActivity trigger to ASAP_Docs and ASAP_BUS_REQ vobs</li></p>

<p><li>Changed old ASAP_NOTIFY trigger to use the generic NotifyTrigger.pl script with a message file for ASAP and another one with a different message file for ASAP_BUS_REQ</li></p>

<p><li>Adjusted triggers.dat to reflect this</li></p>

<p><li>Modified etc/*.reg file to include Clearquest settings in an ASCII form</li></p>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:17 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000183.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">May 17, 2004</h2>
                     <a id="a000182"></a>
                     <div class="entry" id="entry-182">
                        <h3 class="entry-header">ASAP_NOTIFY/PMO view/Install Scripts</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Created new tools view named PMO</li>

<li>Installed ASAP_NOTIFY trigger</li>

<li>Created installation scripts</li>

</ul>

                              
                              <p class="entry-more-link">
                                 <a href="http://defaria.com/blogs/Status/archives/000182.html#more">Continue reading "ASAP_NOTIFY/PMO view/Install Scripts" &raquo;</a>
                              </p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:45 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000182.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">May 14, 2004</h2>
                     <a id="a000181"></a>
                     <div class="entry" id="entry-181">
                        <h3 class="entry-header">BUCS PVOB</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<p><li>Worked with Don on BUCS import. Problem was that the PVOB was not created with the proper name. Tried repairing the situation but was unable to. Don gave up is recreating the BUCS and BUCS_PVOB properly (again).</li></p>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  2:43 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000181.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">May 13, 2004</h2>
                     <a id="a000180"></a>
                     <div class="entry" id="entry-180">
                        <h3 class="entry-header">Lab/ASAP_NOTIFY Trigger</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Finished up the lab by reregistring the views properly. Also found and tagged the INDIA vobs and views. One thing left on the environment is the Clearquest stuff but I have no idea what the username/passwords might be. I would like to get Mike on this but he's out. Oh well, the licenses are stille expiring in two days anyhow...</li>

<li>Reworked the ASAP_NOTIFY trigger:</br>

<br>I have changed the trigger that you sent us to operate correctly in the Clearcase environment. This involved quite a few steps:

<ul>
<li>Changed to use the proper Perl conventions of -w and use strict.</li>
<li>Changed to work under ccperl, thus guaranteeing that it will work for all Clearcase clients</li>
<li>Changed to use Net::SMTP, which is already in ccperl, instead of requiring sendmail.pm</li>
<li>General code clean up. Also made a few subroutine to help logic flow.</li>
<li>Changed to write html logfiles to their web server</li>
<li>Changed to send link to html log file in the email.</li>
<li>Added this ASAP_NOTIFY trigger to the mktriggers mechanism.</li>
</ul>
</li>

<li>Started investigating Ant</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:58 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000180.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">May 12, 2004</h2>
                     <a id="a000179"></a>
                     <div class="entry" id="entry-179">
                        <h3 class="entry-header">Installs/Code Review/rgy_backup</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Used Altris to connect to Nash's computer to investigate her create view problem. Turns out her install was not done properly and she lacked MVFS. Instructed her to speak with Desktop folks to get a proper install</li>

<li>Installed licenses onto the lab machines. Clearcase and Multisite are now functioning in the lab... Well at least until May 15th! Also need to reregister vobs and views to have the new machine names in them. Haven't finished the views yet...</li>

<li>Assisted Rick Cunneen with some issues he had with the Evil Twin Trigger</li>

<li>Code reviewed ASAP's <a href="/Notification.php">Notification Trigger</a>.</li>

<li>Fixed rgy_backup on rtnlprod01. Don't know how it was broke nor how exactly I fixed it. I suspect that perhaps the backup registry server field in the Clearcase Control Panel Applet was mispelled. Sure looked right to me! Anyways I set it to blank thinking that might fix it but it didn't. When setting back I guess I typed it in correctly where it was incorrect before</li>

<li>Looked over Don's changed to the Evil Twin Trigger</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:07 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000179.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">May 11, 2004</h2>
                     <a id="a000178"></a>
                     <div class="entry" id="entry-178">
                        <h3 class="entry-header">Lab</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<p><li>Updated the lab to get Clearcase runnnig</li></p>

<p><li>Closed ASAP_BUS_REQ vob ticket</li></p>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:31 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000178.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">May 10, 2004</h2>
                     <a id="a000177"></a>
                     <div class="entry" id="entry-177">
                        <h3 class="entry-header">ASAP_BUS_REQ move</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              In trying to test this out before actually implementing this on the production vob I found that this does not appear to work as expected. Here's what I did:

<ol>

<li>Created a new share on the production server (rtnlprod01) named defaria</li>
<li>Set share permissions to Everyone: Full Control (for now).</li>
<li>Created a private vob defaria2 with a path of \\rtnlprod01\defaria\defaria2.vbs. This vob is owned by vobadm and the group is CC-PMO.</li>
<li>Mounted the vob on my desktop and through my already existing defaria view I copied some files into the vob root directory as well as made a subfolder with some files in there too.</li>
<li>Added all files and folders to source control. This is now my test vob.</li>
<li>Unmounted the \defaria2 vob from my desktop. (Note I also had to find and kill the vob_server, db_server and vobrpc_server processes on the vob server that were associated with this vob, \defaria2, as unmounting a vob does not stop these processes)</li>
<li>Changed the share permission on the \\rtnlprod01\defaria share by removing Everyone and adding two groups: CC-PMO, which I am a part of, which will serve as the read/write test group and CC-TTE, which I am not a part of, which will serve as the read only test group. These two groups were added with Full Control to the share. Since CC-TTE is not a member of the vob group list they will fall into using the "other" permissions setting for the vob, which will limit them to read only. CC-PMO, being part of the vob group list will use the "group" permissions setting which will provide read/write.</li>
<li>Next I remounted the vob on my desktop and checked out a file. So far so good. (I'm acting as a member of CC-PMO - a read/writer at this time)</li>
<li>When I went to check in this file, however, I received the following error: "mvfs: ERROR: view=defaria vob=\defaria2 - ClearCase vob error see view_log on host rtnlprod02 for more info"</li>
<li>Checking rtnlprod02 (the view server)'s view log shows me: 'view_server.exe(5684): Error: Unable to construct cleartext for object "0x46" in VOB "rtnlprod01:D:\defaria\defaria2.vbs": error detected by ClearCase subsystem' and 'text_file_delta: Error: Unable to open file  \\rtnlprod01\defaria\defaria2.vbs\s\sdft\1f\a\0-8d2a90ad41134b1e9cddf04d42034d38-tk": Permission denied'</li>
<li>Unmounted the vob again and went to the server and killed the vob_server/db_server/vobrpc_process again</li>
<li>Added Everyone: Full Control back to the share point (leaving both CC-PMO and CC-TTE)</li>
<li>Remounted the vob on my desktop. The first thing that I noticed was that the element did not have a checked out symbol next to it and it was accessible. Checked out and checked in the element again. No problems.</li>

</ol>

<p>So it seems that there is some process in the Clearcase Explorer that requires that the share point have Everyone: Full Control set (or at least something more than just CC-PMO and CC-TTE). Note that if I click somewhere out of the directory, like to the subfolder then go back I get the "mvfs: ERROR..." again. I see no errors in the cleartool command line - just in Clearcase Explorer.</p>

<p>Seems the answer to the problem is to add clearcase_albd to the share permissions. I also added vobadm and the CCADMIN group</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:10 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000177.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">May  7, 2004</h2>
                     <a id="a000174"></a>
                     <div class="entry" id="entry-174">
                        <h3 class="entry-header">ASAP_BUS_REQ</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<p><li>Responded to ASAP's request to move their vob in order to allow read only access to another group</li></p>

<p><li>Packed...</li></p>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 10:36 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000174.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">May  6, 2004</h2>
                     <a id="a000173"></a>
                     <div class="entry" id="entry-173">
                        <h3 class="entry-header">ASAP_BUS_REQ/Flex LM</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Worked on ASAP_BUS_REQ request to set up a read only group</li>

<li>Worked on Steve Nameroff's request to set up FlexLM monitoring</li>

</ul>
                              
                              <p class="entry-more-link">
                                 <a href="http://defaria.com/blogs/Status/archives/000173.html#more">Continue reading "ASAP_BUS_REQ/Flex LM" &raquo;</a>
                              </p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:50 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000173.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">May  5, 2004</h2>
                     <a id="a000172"></a>
                     <div class="entry" id="entry-172">
                        <h3 class="entry-header">Test web</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Spend most of my time setting up a test environment for the web pages. Problem is that the web server (Apache) cannot see the M drive when started as a service so it must refer to a snapshot view. Created webview for this purpose. But how does on test when in order to do so would require to publish your changes?</p>

<p>So I created another view, webtest. But how does Apache reference two different DocumentRoot's? We don't have the power of aliasing, and there's the two web servers to consider: c09-272-a and rtnlprod02.</p>

<p>Ended up configuring Apache to listen on two different ports at the same time using VirtualHosts on both servers.</p>

<p>Then I hit a problem with snapshot views not honoring symlinks properly - it copies the elements instead - and difficulty in updating such things. You see I was attempting to share css and images folders by means of a symlink. Abandoned that idea. Still need to hammer out where I have full URL's and pay attention to the different ports, etc...</p>

<p>Emailed Rory Valle regarding backups, he says they are being done. Also prodded James Portugal again about LDAP access. Finally attended the CM Staff meeting</p>

                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:45 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000172.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">May  4, 2004</h2>
                     <a id="a000171"></a>
                     <div class="entry" id="entry-171">
                        <h3 class="entry-header">Core_automation and web pages</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Worked hard with the TTE group to try to resolve the problem with comparing versions. Reproduced problem in a snapshot view. Seems there is still some permissions problem lurking. Can compare in dynamic view. Can compare in an ASCII fashion. Cannot compare in a GUI fashion with any other version than version 0 (or other empty data container. Tried fix_prot. Tried vob_sidwalk. Nothing is working. Contacted Rational. Working with Rational on this problem.</li>

<li>Moved web pages into CM_DOCS vob. Reconfigured web servers to point there. Changed LicenseMonitoring to work in this new context. Created webview snapshot view to access this with. Would like to use a dynamic view but Apache can't seem to see the M drive (Probably because it's running as a service).</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  8:59 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000171.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">May  3, 2004</h2>
                     <a id="a000170"></a>
                     <div class="entry" id="entry-170">
                        <h3 class="entry-header">Core_automation</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Helped Bruce Durbin create a dynamic view</li>

<li>Worked with Loren Gifford on a problem he was having comparing elements</li>

<li>Eventually needed to create new vob and import Core_automation to it</li>

<li>Went to get cell phone.</li>

<li>Wrote findview to search for views in all regions</li>

</ul>
                              
                              <p class="entry-more-link">
                                 <a href="http://defaria.com/blogs/Status/archives/000170.html#more">Continue reading "Core_automation" &raquo;</a>
                              </p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  3:09 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000170.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">April 30, 2004</h2>
                     <a id="a000169"></a>
                     <div class="entry" id="entry-169">
                        <h3 class="entry-header">rgy_backup and server upgrade</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Spent time trying to understand the Clearcase scheduler and why rgy_backup is not being performed. Apparently modifications were made to the Clearcase scheduler on rtnlprod01 in particular by Paul Kruchmer (or whoever). The net result was the cascading jobs were failing. This should be working more correctly on the new server</li>

<li><b>Dave & Busters</b> - Enuff said</li>

<li>Back at the farm for the server swap: Things went well in the beginning - didn't even need to run reregister script. Then some problems occurred. Eventually we nailed it down to only one real problem - the inability of plain users to create views. Mentioned we should create one plain user in each production group so we can "play" plain user. Eventually Mike discovered that Windows 2003 Server tighened up security on the Share Permissions (not the permissions of the shared folder but the permissions of the share itself) such that <b>Full Control</b> for <b>Everybody</b> is now by default off. Toggled that on and all is well</li>

<li>Added lockvobs jobs to new rtnlprod01. Script was failing due to recent relative path fixes. Works from the shell but not from the Clearcase Scheduler perspective. Backed out changes for now</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 11:14 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000169.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">April 28, 2004</h2>
                     <a id="a000168"></a>
                     <div class="entry" id="entry-168">
                        <h3 class="entry-header">Meetings/Script review/Backup Registry Service</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Attended 3 meetings today which, by far, occupied most of my time</li>

<li>Script review meeting was good. In particular I've implemented the following changes to reregister</li>

<ul>

<li>Script not loops through regions for vobs as well as views</li>

<li>Script now uses -host on lsvob and lsregion to restrict execution to the vob and view hosts only</li>

<li>Script mktag's for both public and private vobs</li>

</ul>

<li>Cleaned up the registry a little bit. Subba created some vobs in cs-nt that were:

<ol>

<li>Not public</li>

<li>Not in the pmo-nt region</li>

</ol><br>

Also cleaned up a vob or two that was tagged in another region as private while it was public in the pmo-nt region. This happens semi-silently in that if you mktag -vob -region &lt;<i>other region</i>&gt;... the mktag will prompt for registry password, giving you the <i>illusion</i> that it is making the tag in <i>other region</i> as public when it is not. <u>If you are mktag'ing into another region a public vob you must explicitly state -public!</u></li>

<li>Investigated backup registry service. It is not working in the current environment. Here's how I believe it is supposed to work:

<ul>

<li>You must, of course, configure backup registry server setting on all clients to point to the backup registry server properly. This we had already done.</li>

<li>You can manually take a snapshot of the registry by executing rgy_backup. If run on any machine other than the designated backup registry server it will merely ask the current registry server what the backup registry server is and set the backup registry server key in the Windows registry. If run on the backup registry server it will copy a snapshot of the registry files in $CCASE_DIR/var/rgy/backup. It appends a date timestamp to the file name and in the non timestamped filename, records a pointer to this file (e.g. the backup/vob_tag file contains the machine relative path to vob_tag_<timestamp>).</li>

<li>Clearcase relies on the Clearcase scheduler and the <b>Standard Daily Job</b> to perform daily snapshots of the registry via rgy_backup. There are two problems with this:

<ol>

<li>Currently the <b>Standard Daily Job</b> is not even scheduled by default!</li>

<li>One can envision crude developing in the backup directory after months of these daily jobs! I'm not sure how or if there is a mechanism for cleaning up such stuff</li>

</ol>

</ul>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:04 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000168.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">April 27, 2004</h2>
                     <a id="a000166"></a>
                     <div class="entry" id="entry-166">
                        <h3 class="entry-header">Server Swap Prep</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Sent email to Rory Valle for him to install the backup software and start backing up the new servers</li>

<li>Already tested the transfer of [un]lock vobs jobs. Need to have the new servers up and to activate this to test them</li>

<li>Scheduled review meeting for reregister script</li>

<li>Checked the local users/groups on the old and new servers and they appear to be OK</li>

<li>Re: Genius move: Verified that EntData_ARCH wants R/W access for others denied but Core_automation will go with the standard vob permissions</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:17 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000166.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">April 26, 2004</h2>
                     <a id="a000165"></a>
                     <div class="entry" id="entry-165">
                        <h3 class="entry-header">CRPS/Genius Move</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Recieved laptop today</li>
<li>Fixed problem with tables for IE</li>
<li>Worked on CRPS</li>
<li>Figured out how to move Genius vobs</li>
<li>Helped Subba with a vob import</li>

</ul>
                              
                              <p class="entry-more-link">
                                 <a href="http://defaria.com/blogs/Status/archives/000165.html#more">Continue reading "CRPS/Genius Move" &raquo;</a>
                              </p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 10:30 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000165.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">April 23, 2004</h2>
                     <a id="a000164"></a>
                     <div class="entry" id="entry-164">
                        <h3 class="entry-header">Genius move</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Attempted to move Core_automation and EntData_ARCH vobs to prod01 but failed</li>

<li> Worked with security people to get vobadm password back</li>

<li>Worked a little to configure RWP for Perl CGI</li>

</ul>

<h3> Vob move problems</h3>

<p>First problem with the move of these vobs was that vobadm's password had changed. Therefore I had to perform this vob move in an unfamilar environment. Also, ownerships and permissions on these vobs are odd as they were done before we started standardizing things. As ccadmin1 I was eventually able to copy the vob storage but was not able to register these vobs at the new location.  Attempts to do so would fail with </p>

<div class="code">
cleartool: Error: Failed to record hostname "rtnlprod01" in storage directory<br>
"D:\vobstore\EntData_ARCH.vbs". Check that root or the ClearCase<br> administrators group has permission to write to this directory.<br>
</div>

<p>Even after changing ownerships this was still failing. I suggest we take soem time to get the ownerships and permissions standardized on these vobs in the Genuis region before we attempt to move them again (that and perhaps doing some test moving...)</p>

<h3>Vobadm password problems</h3>

<p>AFAICT somebody changed the vobadm password. Now I'm not pointing any fingers however nobody in our group did and the only other group who knows the vobadm password is...  Well you fill in the rest! Anyways, for some reason at about 3 Pm that somebody must have changed the password back.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  3:11 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000164.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">April 22, 2004</h2>
                     <a id="a000163"></a>
                     <div class="entry" id="entry-163">
                        <h3 class="entry-header">Web views/register/Pauls Vob</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Removed web views from rtnlprod03</li>
<li>Worked with Timmie regarding move of Genius vobs</li>
<li>Fixed reregister to handle web views</li>
<li>Worked with Paul to create CM_Docs vob</li>
<li>Helped Subba import some code and setup stuff for cs-nt</li>
<li>Started Clearcase Problem Reporting System</li>

</ul>
                              
                              <p class="entry-more-link">
                                 <a href="http://defaria.com/blogs/Status/archives/000163.html#more">Continue reading "Web views/register/Pauls Vob" &raquo;</a>
                              </p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  2:31 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000163.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">April 21, 2004</h2>
                     <a id="a000162"></a>
                     <div class="entry" id="entry-162">
                        <h3 class="entry-header"></h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Requested LDAP access from James Portugal</li>
<li>Spoke to Tom regarding Niku. Says we'll only need to report time and that he'll hold a brown bag seminar for it</li>
<li>Requested that rtnlprod01/02 be renamed to 04/05</li>
<li>Converted web pages to new standard template</li>
<li>Set up RWP on prodfix01 so that it can access user FAQs</li>
<li>Checked that Clearcase web is working on prodfix02</li>
<li>Changed reregister to handle UCM PVOBS in a more intelligent way</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:56 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000162.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">April 20, 2004</h2>
                     <a id="a000161"></a>
                     <div class="entry" id="entry-161">
                        <h3 class="entry-header">M Drive problem, LDAP stuff, Installation Areas</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>M drive problem appears to be a networking problem at Eric's location</li>

<li>Condensed Client release areas to one release area</li>

<li>Attempted to access LDAP through Perl</li>

</ul>
                              
                              <p class="entry-more-link">
                                 <a href="http://defaria.com/blogs/Status/archives/000161.html#more">Continue reading "M Drive problem, LDAP stuff, Installation Areas" &raquo;</a>
                              </p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:29 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000161.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">April 19, 2004</h2>
                     <a id="a000160"></a>
                     <div class="entry" id="entry-160">
                        <h3 class="entry-header">reregister, ccperl, fix FAQ, view private files</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Finished reregister script. This script will reregister all vobs and views that were based on rtnlprod02. This is needed since the new server will not have the same IP address as the old server.</li>

<li>Changed mktriggers to use ccperl unqualified instead of fully qualifying it. This will allow the triggers to work on the servers as well as the clients</li>

<li>Added FAQ entry describing view private and derived objects</li>

<li>Fixed the FAQ pages. Mike had switched rtnlprod02 over to using rwp. This broke the FAQ pages since they used Apache under Cygwin. Reported rwp to the old FAQ pages.</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:21 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000160.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">April 16, 2004</h2>
                     <a id="a000159"></a>
                     <div class="entry" id="entry-159">
                        <h3 class="entry-header">Reregistering Clearcase objects</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Worked with Mike trying to get Clearcase web to function correctly</li>

<li>Since the IP address of the new servers will be different I worked on a script that will reregister views and vobs. This reregistering and retragging should fix up the IP address problem</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 10:34 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000159.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">April 15, 2004</h2>
                     <a id="a000158"></a>
                     <div class="entry" id="entry-158">
                        <h3 class="entry-header">Clearcase & Clearquest Web</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              Today...

<ul>

<li><p>Partitioned drive</p></li>
<li><p>Installed Windows XP</p></li>
<li><p>Attended Peregrine Training</p></li>
<li><p>Configured Clearquest web</p></li>
<li><p>Worked with Michael on Clearcase web problems</p></li>
<li><p>Worked on problem with accessing Clearcase due to outgrowing the lockmgr's limits</p></li>
<li><p>Implemented Heap Size fix and Lockmgr fix to new production servers</p></li>

</ul>
                              
                              <p class="entry-more-link">
                                 <a href="http://defaria.com/blogs/Status/archives/000158.html#more">Continue reading "Clearcase & Clearquest Web" &raquo;</a>
                              </p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:37 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000158.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">April 13, 2004</h2>
                     <a id="a000157"></a>
                     <div class="entry" id="entry-157">
                        <h3 class="entry-header">The new servers have arrived!</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>The new servers have arrived and I have been testing them today. Here's what I managed to do:</p>

<ul>

<li>Installed Clearcase server software on new machines.</li>
<li>Configured storage locations for vobs/views</li>
<li>Practiced moving a vob and view over to the new servers. The view even had a checked out file.</li>
<li>Once set up on the new servers accessed the view and insured that I could access it and that the checked out element was still accessible.</li>

</ul>

<p>In setting up prodfix01 as a the vob server I encountered some problems attempting to set the storage location. The default wizard was not the right way to go. Instead I had to:</p>

<div class="code">
cleartool> mkstgloc -vob -host prodfix01 -hpath D:\vobstore -gpath \\prodfix01\vobstore vobstore \\prodfix01\vobstore
</div>

<p>Naturally this will not due as this machine will eventually be renamed as rtnlprod01, not prodfix01. This will need to be adjusted during the downtime.
Just some notes from my testing session:</p>

<blockquote>

<p>After setting up the servers I had to create the storage locations as above. I called them vobstore and viewstore instead of ccvobstg/ccviewstg. Personally I find the former more descriptive.</p>

<p>I tried to simply mktag for the vob and view on the new server but that would not work. Instead I had to:</p>

<div class="code">
cleartool register -replace -view \\path\to\view<br>
cleartool register -replace -vob \\path\to\vob<br>
cleartool mktag -replace -view -tag <viewtag> \\path\to\view<br>
cleartool mktag -replace -vob -tag <vobtag> \\path\to\vob<br>
cleartool startview <viewtag><br>
cleartool mount <vobtag><br>
</div>

<p>Again, if we slide the server into place after changing the DNS/Machine name <-> IP address mapping this should not be an issue.</p>

</blockquote>

<p>We should be ready to go, perhaps this coming Thursday evening (sometime after 7 Pm). What we would need to do is:</p>

<ol>

<li>Announce to the Clearcase community that Clearcase will be down for a few hours Thursday night (7 Pm - 9 Pm)</li>
<li>At 7 Pm stop Clearcase on rtnlprod01 and rtnlprod02</li>
<li><tt>xcopy <rtnlprod01:/vobstore> <prodfix01:/vobstore> /e /i /f /h /k /x > C:\vobstore_xcopy.log 2>&1</tt></li>
<li><tt>xcopy <rtnlprod02:/viewstore> <prodfix02:/viewstore> /e /i /f /h /k /x > C:\viewstore_xcopy.log 2>&1</tt></li>
<li>Shutdown rtnlprod01 and rtnlprod02</li>
<li>Switch DNS so that prodfix01 -> rtnlprod01 and prodfix02 -> rtnlprod02</li>
<li>Test vob/view access from desktop clients.</li>
</ol>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:11 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000157.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">April  7, 2004</h2>
                     <a id="a000156"></a>
                     <div class="entry" id="entry-156">
                        <h3 class="entry-header">VIP Imports</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Imported source into many vobs today with Subba. Had some problems with the vob server (db_VISTA error -922). Ended up stopping and restarting Clearcase on rtnlprod01.</p>

<p>Was assigned to set up both Clearcase web and Clearquest web. Luckily Clearcase web is already up on rtnlprod03. Need to set up Clearquest web...</p>

<p>Modified protect trigger to use current owner instead of original creator of the VOB to change the ownership of new elements.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  1:59 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000156.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">April  6, 2004</h2>
                     <a id="a000155"></a>
                     <div class="entry" id="entry-155">
                        <h3 class="entry-header">Lockvobs</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Re-wrote the lock vobs script in Perl to be much more flexible. It now locks or unlocks (-u) vobs. Also you can supply an -smtphost which defaults to notesmail01. Finally you can specify either -to or -errors-to as a list of email addresses that the report is send to. The later, -errors-to, are for people who only want to be notified if there is an error (i.e. me! :-).</p>

<p>Changed bat files accordingly and tested out adding these to the Clearcase Job Scheduler on my machine. Have not yet added this to "production" (rtnlprod01). Perhaps tomorrow...</p>

<p>Also worked with Subba to clean up and clear out some UCM vobs.</p>

<p>Spend some time trying to get MySQL running under Cygwin.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:54 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000155.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">April  5, 2004</h2>
                     <a id="a000154"></a>
                     <div class="entry" id="entry-154">
                        <h3 class="entry-header">Lock Vobs jobs</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Came in today and noticed that Notes was complaining that a network operation had failed. Also saw a couple of messages that Clearcase was having problems so I started investigating. Apparently the albd_server was not running on rtnlprod01. Scanning the logs I found:</p>

<blockquote><tt>albd_log: Error: Unable to connect to SMTP server "172.16.101.56[6400]": Bad file descriptor.</tt></blockquote>

<p>Well 172.16.101.56 happens to be notesadmin01:</p>

<pre>
C09-272-A:nslookup 172.16.101.56
Server:  dhcp01.ameriquest.net
Address:  172.16.101.100

Name:    notesadmin01.ameriquest.net
Address:  172.16.101.56
</pre>

<p>Why are we trying to email through notesadmin01 instead of notesmail01?</p>

<p>Meantime I unlocked the vobs...</p>

<p>Looking at the SMTP setting in Control Panel: Clearcase: Options I find the SMTP Host set to appsmtp.ameriquest.net which is an alias to notestadmin01.ameriquest.net:</p>
<pre>
C09-272-A:nslookup appsmtp
Server:  dhcp01.ameriquest.net
Address:  172.16.101.100

Name:    notesadmin01.ameriquest.net
Address:  172.16.101.56
Aliases:  appsmtp.ameriquest.net
</pre>
<p>I guess the questions are:</p>

<ul>

  <li>What is the official SMTP host that we can rely on?</li>
  <li>Why does the [un]lock vobs job have problems and eventually kill the albd_server process simply because it cannot contact the SMTP host?</li>

</ul>

<p>Further investigation yields the following: The lock and unlock vobs scripts apparently appear in .../Rational/Clearcase/var/scheduler/tasks. There are 4 files involved:</p>

<ul>

  <li>ccase_lock_vobs.bat: Simple bat file that fires off Perl on...</li>
  <li>lock_vobs.pl: This locks the vobs and sends email</li>
  <li>ccase_unlock_vobs.bat: Simple bat file that fires off Perl on...</li>
  <li>unlock_vobs.pl: This unlocks the vob and sends email</li>

</ul>

<p>Additionally these Perl scripts use C:/Winnt/System32/blat.exe to send mail.</p>

<p>Finally the task_registry file was modified to add these custom jobs.</li>

<p>I believe that this was done by perhaps Paul and/or Brian and it is fine work and does the job. However, seeing as we are about to reburn this system to Windows 2003 Server such work would be lost! And who would remember where this blat came from and that it needed to be reinstalled?</p>

<h3>Suggestions:</h3>

<p>I think we should use the Rational supplied tool, notify, instead of blat. This way we would not need to remember to find and reinstall this blat thing. I think Brian had problems getting notify to work and instead fell back on something he knew, blat, to get this working. Additionally IMHO blat should not be in the Windows directory! If we must use blat then perhaps we should install it into CM_TOOLS/bin.</p>

<p>Additionally I suggest that we relocate the .bat files and Perl scripts to CM_TOOLS/bin also and task_registry file should be pointed to CM_TOOLS/bin.</p>

<p>Finally I think there should be a script set up to reproduce/reinstall this environment.</p>

<p>IOW our stuff should also be version controlled and scripts written to automate it's installation and workings.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:35 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000154.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">March 11, 2004</h2>
                     <a id="a000153"></a>
                     <div class="entry" id="entry-153">
                        <h3 class="entry-header">Ah comfort!</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Ah the comfort of being able to get through the firewall! It feels so good. Now I can read email from my home and use IM again! Yippie!</p>

<p>Alas my system will be moving in two days as I am moving too! Things will be hectic for the short term.</p>

<p>At work I worked on the script to add triggers to the vobs a bit more. Still need to convert it to Perl...</p>

<p>Started investigating adding storage to the servers. This may get a little tricky. Need to meet with Brian and Babu about this.</p>

<p>Played with the web server some more - now pointing it into the actual vob. Had a hell of time doing this as things were acting weird. Rebooted my system and wham! Everythings good now...</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  8:59 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000153.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">March 10, 2004</h2>
                     <a id="a000152"></a>
                     <div class="entry" id="entry-152">
                        <h3 class="entry-header">Web server</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>This afternoon, after returning from the training I did:

<ul>

<li><p>Worked on problem with case perserving MVFS. Two of the servers had case perserving set off so I fixed that. While working on another problem one of those servers rebooted. Oh well, at least that fixes it's case preserving. The other server was later rebooted. Still clients need to make sure that they have case preserving set on and need to reboot. Unfortunately this was not set properly during the rollout.</p></li>

<li><p>Worked on a problem view with no success. Unable to get it to work. Keep getting <i>unknown error in view server</i> - not very helpful.</p></li>

<li><p>Got my user ID finally! Was able to run Lotus Notes. Oh boy, what joy! Anyways I was able to send email via Ameriquest's email server. Still can't pop nor imap it though.</p></li>

<li><p>Installed Cygwin on some of the servers as well as set up my environment. Need to get my new user ID added into the Clearcase group. Can now ssh into some of the servers to perform actions.</p></li>

<li><p>Set up Apache under Cygwin on one server. Babu asked me to see if I could make a read only web server to view thing.</p></li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  8:57 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000152.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     
                     <a id="a000151"></a>
                     <div class="entry" id="entry-151">
                        <h3 class="entry-header">Back from San Jose</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Well I got an apartment! It's called <i>The Lake</i> and it sure has a large lake. The apartment is a 1 bedroom with a loft and it's 1000 square feet. I have the lake right off my patio. This means that I need to move in this coming weekend! Gotta get busy.</p>

<p>My car's transmission decided to die so I could not drive down and had to fly in instead. Well the flight was nice but it was too damn short! :-) Looks like I'll need a new car. Wonder if I can get the Eclipse back...</p>

<p>Today at work I get in and started downloading the tarball of <i>my stuff</i>. Wonder when I'll get my own userid? Then Babu tells me to come with him. Off to another Clearcase Training class that he's holding in another Ameriquest building (Apparently there are a lot of Ameriquest buildings and we might be moving to one of them. This other building was brand new and quite nice). The class was OK but they were not ready for us so we had to make due with a small conference room and just use Babu's laptop for class exercises. Then Babu cuts out and leaves me to finish up the training! It's only my 3rd day here and I'm supposed to train!?! Oh well. It wasn't that bad but I was not prepared for that.</p>

<p>Got a ton of things to do and to keep track of</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 12:45 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000151.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">March  5, 2004</h2>
                     <a id="a000149"></a>
                     <div class="entry" id="entry-149">
                        <h3 class="entry-header">Day 2</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Long day yesterday (9 Am - 11 Pm).</p>

<p>Today I:</p>

<ol>

<li><p>Attended the 9 Am meeting</p></li>
<li><p>Wasn't able to lock the old ASAP_Docs vob so I rm'ed the tag instead</p></li>
<li><p>Checked in the CheckinPre trigger</p></li>
<li><p>Setup web server on my deskctop</p></li>
<li><p>Removed a number of test vobs</p></li>

</ol>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 11:17 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000149.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">March  4, 2004</h2>
                     <a id="a000148"></a>
                     <div class="entry" id="entry-148">
                        <h3 class="entry-header">1st day at Ameriquest</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>Well made it here. We're on the 9th floor of this building. Argh, having to go through all of the <i>new things</i> like badges, user ids, etc. Apparently this shop is much more closed up than the old place. I cannot, for example, get through to my machine at home for email and the like. I can get to my home page. Guess I'm gonna have to implement that web mail thing after all!</p>

<p>Can't ftp home, can't use IM. No IMAP. No POP. Apparently they also restrict other web sites like sports related stuff, etc.</p>

<p>Interesting in that they apparently use Lotus Notes for email. Argh! This is gonna be a fight regarding tools and the like. </p>

<p>Created a vob, view, etc today. We are supposed to be doing a lot of client installs today and tomorrow.</p>

<p>Managed to install Cygwin partially and get some semblence of my environment.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 11:40 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000148.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</body>
</html>
