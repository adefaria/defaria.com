<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <meta name="generator" content="Movable Type 5.2.3" />

   <link rel="stylesheet" href="http://defaria.com/blogs/Status/styles-site.css" type="text/css" />
   <link rel="alternate" type="application/atom+xml" title="Atom" href="http://defaria.com/blogs/Status/atom.xml" />
   <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://defaria.com/blogs/Status/index.xml"$>" />

   <title>Status for Andrew DeFaria: November 16, 2003 - November 22, 2003 Archives</title>

   <link rel="start" href="http://defaria.com/blogs/Status/" title="Home" />
   <link rel="prev" href="http://defaria.com/blogs/Status/archives/week_2003_11_09.html" title="November  9, 2003 - November 15, 2003" />
   <link rel="next" href="http://defaria.com/blogs/Status/archives/week_2003_11_23.html" title="November 23, 2003 - November 29, 2003" />
</head>
<body class="layout-one-column">
   <div id="container">
      <div id="container-inner" class="pkg">

         <div id="banner">
            <div id="banner-inner" class="pkg">
               <h1 id="banner-header"><a href="http://defaria.com/blogs/Status/" accesskey="1">Status for Andrew DeFaria</a></h1>
               <h2 id="banner-description">Searchable status reports and work log</h2>
            </div>
         </div>

         <div id="pagebody">
            <div id="pagebody-inner" class="pkg">
               <div id="alpha">
                  <div id="alpha-inner" class="pkg">
                     
                     <p class="content-nav">
                        <a href="http://defaria.com/blogs/Status/archives/week_2003_11_09.html">&laquo; November  9, 2003 - November 15, 2003</a> |
                        <a href="http://defaria.com/blogs/Status/">Main</a>
                        | <a href="http://defaria.com/blogs/Status/archives/week_2003_11_23.html">November 23, 2003 - November 29, 2003 &raquo;</a>
                     </p>
                     
                     
                     

                     <h2 class="date-header">November 21, 2003</h2>
                     <a id="a000040"></a>
                     <div class="entry" id="entry-40">
                        <h3 class="entry-header">More sam4linux and 2.2.1.4</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ol>
<li>Set up and built 2.2.1.4</li>
<li>Got a little further on sam4linux (see extended entry)</li>
<li>Still battling with Samba 3.0</li>
</ol>
                              
                              <p>I have downloaded the sam4linux tarbar and have been attempting to get it running on sonslinux (running Mandrake 9.1). I unpacked the tgz file into /opt and tried running sam-startnms.sh. I was prompted for the license file and attempted to use the license file but it didn't work. The licenses have expired.

<p>Slight note here: I was not at all apparent to me that the sam-startnms.sh, sam-setEnv.sh, sam-startAppicationClient.sh scripts that were sitting along side the sam_linux.tgz file are useless. It was only later that I figured out that those scripts also appear under /opt/AdventNet/WebNMS/bin and that those scripts were the ones I should be using.

<p>Next I downloaded AdventNet_WebNMS again and applied for a evaluation license. This time when running NMS I entered the new license file and it accepted it. But, unfortunately it quickly died with:

<pre>java.sql.SQLException: Invalid authorization specification: Access denied for user: 'root@127.0.0.1' (Using password: NO)
        at org.gjt.mm.mysql.MysqlIO.init(MysqlIO.java:330)
        at org.gjt.mm.mysql.Connection.connectionInit(Connection.java:261)
        at org.gjt.mm.mysql.jdbc2.Connection.connectionInit(Connection.java:89)
        at org.gjt.mm.mysql.Driver.connect(Driver.java:167)
        at java.sql.DriverManager.getConnection(DriverManager.java:517)
        at java.sql.DriverManager.getConnection(DriverManager.java:177)
        at jdbc.CreateSchema.instantiateConnection(CreateSchema.java:145)
        at jdbc.CreateSchema.init(CreateSchema.java:83)
        at com.adventnet.nms.startnms.NmsMainBE.main(NmsMainBE.java:335)
        at com.adventnet.launcher.nms.StartNmsJdbc.run(StartNmsJdbc.java:240)
        at java.lang.Thread.run(Thread.java:484)
Exiting Web NMS
</pre>
<p>Analyzing... I have had MySQL installed and up and running for quite some time. The installation instructions said to create a database for WebNMS by:

<pre>
# mysqladmin create WebNMSdb
</pre>

<p>which I did. However after reinstalling AdventNet_WebNMS I noticed that it created a database of WebNmsDB (note capitalization is generally important in the Linux world). So I had dropped WebNMSdb in favor of the DB that AdventNet_WebNMS created. Still above it seems that it was unable to connect to the database. I tried:

<pre>
mysql> grant all privileges on WebNmsDB.* to root;
</pre>

and
<pre>
mysql> grant all privileges on WebNmsDB.* to root@127.0.0.1;
</pre>

<p>but I keep getting the same error. I suspect I need to supply a password but I'm not sure how to do that.

<p>Ah ha! The problem seems to be that I assigned a password to the user root for MySQL. Removing that caused more output...
<pre>
Created table ObjectTypes
Created table ManagedObject
Created table MapContainer
Created table TopoObject
Created table Node
Created table Network
Created table IpAddress
Created table SnmpNode
Created table SnmpInterface
Created table TL1Node
Created table TL1Interface
Created table TOPOUSERPROPS
Created table ALERTUSERPROPS
Created table EVENTUSERPROPS
Created table USERTABLE
Created table HOSTS
Created table PORTS
Created table ENGINES
Created table USERS
Created table POLLUSERPROPS
Created table ANNOTATION
Created table Alert
Created table MapDB
Created table MapSymbol
Created table MapLink
Created table MAPUSERPROPS
Created table Event
Created table PolledData
Created table ALERTLOGGER
Created table EVENTLOGGER
Created table CUSTOMMAPS
Created table DBINTERFACES
Created table DEFAULTMAPS
Created table TrapDisabledMO
Created table CHILDRENSTATUS
Created table CUSTOMPROPS
Created table OBJECTSTOLINK
Created table TOPODBSPECIALKEY
Created table DBMAP
Created table DBEVENT
Created table DBALERT
Created table DBPOLL
Created table ObjectSchedulerRUNNABLE
Created table MapGroup
Created table ManagedGroupObject
Created table GroupTable
Created table TaskAudit
Created table DeviceAudit
Created table AttributeAudit
Created table ConfigTasks
Created table ConfigTaskDetails
Created table ConfigAttributes
Created table PendingTasks
Created table PendingDevices
Created table DeviceList
Created table DeviceListDetails
Created table DeviceUserProps
Created table TaskToDeviceListMap
Created table PollingObjects
Created table ConfigProvider
Created table PollingAttributes
Created table Providers
Created table StatsTables
Created table ThresholdObjects
Created table CustomView
Created table CustomViewProps
Created table CustomViewColumns
Created table PanelTree
Created table PanelProps
Created table PollFilters
Created table GenericFaultTable
Created table TrapFilter
Created table TrapEventParser
Created table EventAlertFilter
Created table Reports
Created table DataCollectionAttributes
Created table UserPasswordTable
Created table UserGroupTable
Created table ViewPropertiesTable
Created table ViewsToGroupTable
Created table ViewToOperationsTable
Created table OperationsTreeTable
Created table NamedViewToAuthorizedViewTable
Created table AuthAudit
Created table NotificationLog
Created table VarBindLog
Created table AgentDefValObject
Created table PolicyObject
Created table PolicyActionCondition
Created table POLICYUSERPROPS
Created table DBPOLICY
Created table PolicyScheduleTime
Created table AlertPolicyObject
Created table ENGINETABLE
Exception in creating table
Statement being executed was :create table USMTABLE(  DBKEY  varchar(116) NOT NULL,  HOST  varchar(50),  PORT  varchar(5),  ENGINENAME  varchar(50),  ENGINEID  varchar(64),  USERNAME  varchar(50),  SECURITYLEVEL  varchar(5),  SECURITYNAME  varchar(50),  AUTHPROTOCOL  varchar(10),  AUTHPASSWORD  varchar(50),  AUTHKEY  varchar(40),  PRIVPROTOCOL  varchar(10),  PRIVPASSWORD  varchar(50),  PRIVKEY  varchar(32),  ENGINETIME  varchar(10),  ENGINEBOOTS  varchar(10),  LATESTRCVDENGTIME  varchar(10),  LOCALTIME  varchar(30), PRIMARY KEY ( DBKEY ))
syntax error or access violation: you have an error in your sql syntax.  check the manual that corresponds to your mysql server version for the right syntax to use near 'localtime  varchar(30), primary key ( dbkey ))' at line 1
java.sql.SQLException: Syntax error or access violation: You have an error in your SQL syntax.  Check the manual that corresponds to your MySQL server version for the right syntax to use near 'LOCALTIME  varchar(30), PRIMARY KEY ( DBKEY ))' at line 1
        at org.gjt.mm.mysql.MysqlIO.sendCommand(MysqlIO.java:497)
        at org.gjt.mm.mysql.MysqlIO.sqlQueryDirect(MysqlIO.java:550)
        at org.gjt.mm.mysql.MysqlIO.sqlQuery(MysqlIO.java:635)
        at org.gjt.mm.mysql.Connection.execSQL(Connection.java:882)
        at org.gjt.mm.mysql.Connection.execSQL(Connection.java:815)
        at org.gjt.mm.mysql.Statement.execute(Statement.java:595)
        at org.gjt.mm.mysql.jdbc2.Statement.execute(Statement.java:114)
        at jdbc.CreateSchema.createTables(CreateSchema.java:352)
        at jdbc.CreateSchema.init(CreateSchema.java:85)
        at com.adventnet.nms.startnms.NmsMainBE.main(NmsMainBE.java:335)
        at com.adventnet.launcher.nms.StartNmsJdbc.run(StartNmsJdbc.java:240)
        at java.lang.Thread.run(Thread.java:484)
Created table SwitchObject
Created table PortObject
Created table Printer
Created table OperationsTable
Created table BEFailOver
Created table PollIDToKeyMap
Created table ProvisioningVariantProps
Created table ProvisioningVariant
Created table UserConfTable
Created table CORBANode
Created table NetworkInventory
Created table SonsAuditLogTable
Created table SonsHistoryAlert
Created table SonsTopologyObjectImpl
Created table SonsPort
Created table SonsDS1Port
Created table SonsDS3Port
Created table SonsEtherPort
Created table SonsONUModule
Created table SonsShelf
Created table SonsSlot
Created table SonsCrossConnect
Created table SonsOLT
Created table SonsONU
Created table SonsPonInfo
Created table SonsPonPort
Created table SonsSonetPath
Created table SonsSTM1Port
Created table SonsSonetVT
Created table SonsDs0Port
Created table SonsDs0Bundle
Created table SonsXConn
Created table SonsCard
Created table SonsVDSLPort
Created table SonsVDSLRateRefer
Created table SonsVDSLTermInfo
Created table SonsMaintCmdRecord
Created table SonsQosBy8021p
Created table SonsVLanSwitchPort
Created table SonsQosByDscp
Created table SonsQosByPhyPort
Created table SonsQosByTos
Created table SonsQosByVLan
Created table SonsService
Created table SonsVLan
Created table SonsVLanBridgeParam
Created table SonsVLanMemberShip
Created table SonsSubscriber
Created table SonsVLanFDB
Created table SonsServiceObject
Created table SonsSTPDomain
Created table SonsSTPPort
Created table SonsActiveACL
Created table SonsCommonACE
Created table SonsCommonACL
All The Tables were not created properly.
Exiting Web NMS
</pre>

<p>For the record I have:
<pre>
mysqladmin -V
mysqladmin  Ver 8.40 Distrib 4.0.10-gamma, for mandrake-linux-gnu on i586
</pre>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:30 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000040.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">November 20, 2003</h2>
                     <a id="a000039"></a>
                     <div class="entry" id="entry-39">
                        <h3 class="entry-header">2.2.1.3/sam4linux/2.2->2.3</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ol>
<li>Resolved Dylan's problem</li>
<li>Built 2.2.1.3</li>
<li>Resolved 2.3 merge issue</li>
<li>Merged 2.2 -> 2.3</li>
<li>Downloaded sam4linux</li>
</ol>
                              
                              <p>Our code is not case sensistive. This problem exhibits it's ugly head a lot in sam4linux BTW. In Dylan's case an include of cli_enumStruct.c was being done but the file is named cli_enumstruct.c. Now on most Windows Clearcase installations I had set MVFS to be case insensitive but on Dylan's machine he had it set case sensitive.

<p>Sam4linux is not all that operational yet. Initial problem is that the license is expired.
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:55 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000039.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">November 19, 2003</h2>
                     <a id="a000037"></a>
                     <div class="entry" id="entry-37">
                        <h3 class="entry-header">Merging 2.2 -> 2.3 & 2.4</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ol>
<li>Added automatic merging for 2.2 -> 2.3 & 2.4</li>
<li>Performed initial 2.2 -> 2.3 merge. Had some problems</li>
<li>Banged my head trying to get Samba 3 to work on sonlinux</li>
<li>Assisted James installing some packages on sonslinux</li>
</li>
                              
                              <p>Dylan discussed with me that we should be merging fixes forward from 2.2 -> 2.3 and from 2.2 -> 2.4. Eventually we will need to merge 2.2 -> 2.3 -> 2.4 but doing so now might cause problems with the 2.3 -> 2.4 merge. I guess 2.3 is in a little bit of flux right now.

<p>Discussed this with Jeff and he agreed. The merging schedule for this is set to weekly. 2.2 -> 2.3 merging happens on Sunday (at 5:30 Am in Santa Clara and 9:30 Pm (Sunday night) in Shanghai - roughly the same time given the timezone difference). The 2.2 ->2 4 merge happens on Tuesdays @ 5:30 Am Santa Clara and 9:30 Pm Shanghai time. 
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  6:12 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000037.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">November 18, 2003</h2>
                     <a id="a000035"></a>
                     <div class="entry" id="entry-35">
                        <h3 class="entry-header">Coordinating merging</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ol>
<li>At the advice of Ying I have changed the ctmerge times so that they occur after China has left the office. This will better coordinate work on 2.3</li>
<li>Set up 2.2.1.3 bug list</li>
</ol>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  1:00 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000035.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">November 17, 2003</h2>
                     <a id="a000033"></a>
                     <div class="entry" id="entry-33">
                        <h3 class="entry-header">Test plans</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ol>
<li>Looked at some of the test plans</li>
<li>Helped Dylan and Ying on some Clearcase issues</li>
</ol>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:34 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000033.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</body>
</html>
