<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <meta name="generator" content="Movable Type 5.2.3" />

   <link rel="stylesheet" href="http://defaria.com/blogs/Status/styles-site.css" type="text/css" />
   <link rel="alternate" type="application/atom+xml" title="Atom" href="http://defaria.com/blogs/Status/atom.xml" />
   <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://defaria.com/blogs/Status/index.xml"$>" />

   <title>Status for Andrew DeFaria: April 25, 2004 - May  1, 2004 Archives</title>

   <link rel="start" href="http://defaria.com/blogs/Status/" title="Home" />
   <link rel="prev" href="http://defaria.com/blogs/Status/archives/week_2004_04_18.html" title="April 18, 2004 - April 24, 2004" />
   <link rel="next" href="http://defaria.com/blogs/Status/archives/week_2004_05_02.html" title="May  2, 2004 - May  8, 2004" />
</head>
<body class="layout-one-column">
   <div id="container">
      <div id="container-inner" class="pkg">

         <div id="banner">
            <div id="banner-inner" class="pkg">
               <h1 id="banner-header"><a href="http://defaria.com/blogs/Status/" accesskey="1">Status for Andrew DeFaria</a></h1>
               <h2 id="banner-description">Searchable status reports and work log</h2>
            </div>
         </div>

         <div id="pagebody">
            <div id="pagebody-inner" class="pkg">
               <div id="alpha">
                  <div id="alpha-inner" class="pkg">
                     
                     <p class="content-nav">
                        <a href="http://defaria.com/blogs/Status/archives/week_2004_04_18.html">&laquo; April 18, 2004 - April 24, 2004</a> |
                        <a href="http://defaria.com/blogs/Status/">Main</a>
                        | <a href="http://defaria.com/blogs/Status/archives/week_2004_05_02.html">May  2, 2004 - May  8, 2004 &raquo;</a>
                     </p>
                     
                     
                     

                     <h2 class="date-header">April 30, 2004</h2>
                     <a id="a000169"></a>
                     <div class="entry" id="entry-169">
                        <h3 class="entry-header">rgy_backup and server upgrade</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Spent time trying to understand the Clearcase scheduler and why rgy_backup is not being performed. Apparently modifications were made to the Clearcase scheduler on rtnlprod01 in particular by Paul Kruchmer (or whoever). The net result was the cascading jobs were failing. This should be working more correctly on the new server</li>

<li><b>Dave & Busters</b> - Enuff said</li>

<li>Back at the farm for the server swap: Things went well in the beginning - didn't even need to run reregister script. Then some problems occurred. Eventually we nailed it down to only one real problem - the inability of plain users to create views. Mentioned we should create one plain user in each production group so we can "play" plain user. Eventually Mike discovered that Windows 2003 Server tighened up security on the Share Permissions (not the permissions of the shared folder but the permissions of the share itself) such that <b>Full Control</b> for <b>Everybody</b> is now by default off. Toggled that on and all is well</li>

<li>Added lockvobs jobs to new rtnlprod01. Script was failing due to recent relative path fixes. Works from the shell but not from the Clearcase Scheduler perspective. Backed out changes for now</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 11:14 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000169.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">April 28, 2004</h2>
                     <a id="a000168"></a>
                     <div class="entry" id="entry-168">
                        <h3 class="entry-header">Meetings/Script review/Backup Registry Service</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Attended 3 meetings today which, by far, occupied most of my time</li>

<li>Script review meeting was good. In particular I've implemented the following changes to reregister</li>

<ul>

<li>Script not loops through regions for vobs as well as views</li>

<li>Script now uses -host on lsvob and lsregion to restrict execution to the vob and view hosts only</li>

<li>Script mktag's for both public and private vobs</li>

</ul>

<li>Cleaned up the registry a little bit. Subba created some vobs in cs-nt that were:

<ol>

<li>Not public</li>

<li>Not in the pmo-nt region</li>

</ol><br>

Also cleaned up a vob or two that was tagged in another region as private while it was public in the pmo-nt region. This happens semi-silently in that if you mktag -vob -region &lt;<i>other region</i>&gt;... the mktag will prompt for registry password, giving you the <i>illusion</i> that it is making the tag in <i>other region</i> as public when it is not. <u>If you are mktag'ing into another region a public vob you must explicitly state -public!</u></li>

<li>Investigated backup registry service. It is not working in the current environment. Here's how I believe it is supposed to work:

<ul>

<li>You must, of course, configure backup registry server setting on all clients to point to the backup registry server properly. This we had already done.</li>

<li>You can manually take a snapshot of the registry by executing rgy_backup. If run on any machine other than the designated backup registry server it will merely ask the current registry server what the backup registry server is and set the backup registry server key in the Windows registry. If run on the backup registry server it will copy a snapshot of the registry files in $CCASE_DIR/var/rgy/backup. It appends a date timestamp to the file name and in the non timestamped filename, records a pointer to this file (e.g. the backup/vob_tag file contains the machine relative path to vob_tag_<timestamp>).</li>

<li>Clearcase relies on the Clearcase scheduler and the <b>Standard Daily Job</b> to perform daily snapshots of the registry via rgy_backup. There are two problems with this:

<ol>

<li>Currently the <b>Standard Daily Job</b> is not even scheduled by default!</li>

<li>One can envision crude developing in the backup directory after months of these daily jobs! I'm not sure how or if there is a mechanism for cleaning up such stuff</li>

</ol>

</ul>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:04 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000168.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">April 27, 2004</h2>
                     <a id="a000166"></a>
                     <div class="entry" id="entry-166">
                        <h3 class="entry-header">Server Swap Prep</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Sent email to Rory Valle for him to install the backup software and start backing up the new servers</li>

<li>Already tested the transfer of [un]lock vobs jobs. Need to have the new servers up and to activate this to test them</li>

<li>Scheduled review meeting for reregister script</li>

<li>Checked the local users/groups on the old and new servers and they appear to be OK</li>

<li>Re: Genius move: Verified that EntData_ARCH wants R/W access for others denied but Core_automation will go with the standard vob permissions</li>

</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  5:17 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000166.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">April 26, 2004</h2>
                     <a id="a000165"></a>
                     <div class="entry" id="entry-165">
                        <h3 class="entry-header">CRPS/Genius Move</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>

<li>Recieved laptop today</li>
<li>Fixed problem with tables for IE</li>
<li>Worked on CRPS</li>
<li>Figured out how to move Genius vobs</li>
<li>Helped Subba with a vob import</li>

</ul>
                              
                              <h3>Laptop and Password Issues</h3>

<p>When getting my laptop I was asked to change my password so the person could login as me and set up my laptop. I did this. After completing the laptop setup I attempted to change my password back to what it was before. This failed. I then tried to change my password to something else. This also failed. I called Helpdesk and they set my password to Summer1 and told me to log out and back in and I should be prompted to set my password. I did this but was not prompted to set my password. So I hit Control-Alt-Del and selected Change password. I then specified Summer1 as my existing password and selected yet another new, unique password (conforming to the Password Policies, of course). I received the message "The password cannot be changed at this time". Called HelpDesk and they told me that I must wait a while and then I could change my password. Waited a day. Reattempted to change my password. Same message.</p>

<p>Meantime the Clearcase License Monitoring, which is running on my desktop, and the web pages also on my desktop were unavailable while I was rebooting my system and working on this problem.</p>

<p>For your reference I took this opportunity to look up exactly what "The password cannot be changed at this time" according to Microsoft. The article is <a href="http://support.microsoft.com/default.aspx?scid=kb;en-us;273004">here</a>. According to it you need to make a change to the Minimum Password Age in Active Directory to change it from Not Defined to something defined (like 0 or perhaps something else).</p>

<h3>Genius VOB move</h3>

<p>As you know we had difficulties performing the move of EntDataARCH and Core_Automation from the Genius region to the standard environment. This was partly due to having the vobadm password changed on us but it was also partly due to the fact that these vobs were created in a "different" environment, thus leaving us with ownership and permissions problems. </p>

<p>I believe I have a fix. Here's what we need to do.</p>

<ol>
<li>Set up another time where we can perform the move</li>
<li>Lock the vobs</li>
<li>Remove tag for these vobs in the Genius region</li>
<li>Re-move (that's re then move not remove! ) the vobs to rtnlprod01</li>
<li>Fix permissions<sup><a href="#note1">1</a></sup></li>
<li>Register and re-tag these vobs</li>
<li>Unlock vobs</li>
<li>Configure clients<sup><a href="#note2">2</a></sup></li>
<li>Test access</li>
</ol>

<p><b>Notes:</b></p>

<ol>

<li><a name="note1"></a>The permissions fix entails running fix_prot -force -root -recurse -chown vobadm -chgrp <group> <vob>.vbs, then register and mktag followed by a cleartool protect -chown vobadm -chgrp <group> -recurse <vob root dir>. The first fix_prot fixes the protection on various objects but the second cleartool protect is needed to set the owners correctly.</li>

<li><a name="note2"></a>Configuration of the clients should be more than just setting their region, CLEARCASE_PRIMARY_GROUP and clearcase_albd service login properly. It should be a complete uninstall of Clearcase followed by a standard Clearcase installation so that we have a proper and known environment.</li>

</ol>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 10:30 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000165.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</body>
</html>
