<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <meta name="generator" content="Movable Type 5.2.3" />

   <link rel="stylesheet" href="http://defaria.com/blogs/Status/styles-site.css" type="text/css" />
   <link rel="alternate" type="application/atom+xml" title="Atom" href="http://defaria.com/blogs/Status/atom.xml" />
   <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://defaria.com/blogs/Status/index.xml"$>" />

   <title>Status for Andrew DeFaria: January 30, 2005 - February  5, 2005 Archives</title>

   <link rel="start" href="http://defaria.com/blogs/Status/" title="Home" />
   <link rel="prev" href="http://defaria.com/blogs/Status/archives/week_2005_01_23.html" title="January 23, 2005 - January 29, 2005" />
   <link rel="next" href="http://defaria.com/blogs/Status/archives/week_2005_02_06.html" title="February  6, 2005 - February 12, 2005" />
</head>
<body class="layout-one-column">
   <div id="container">
      <div id="container-inner" class="pkg">

         <div id="banner">
            <div id="banner-inner" class="pkg">
               <h1 id="banner-header"><a href="http://defaria.com/blogs/Status/" accesskey="1">Status for Andrew DeFaria</a></h1>
               <h2 id="banner-description">Searchable status reports and work log</h2>
            </div>
         </div>

         <div id="pagebody">
            <div id="pagebody-inner" class="pkg">
               <div id="alpha">
                  <div id="alpha-inner" class="pkg">
                     
                     <p class="content-nav">
                        <a href="http://defaria.com/blogs/Status/archives/week_2005_01_23.html">&laquo; January 23, 2005 - January 29, 2005</a> |
                        <a href="http://defaria.com/blogs/Status/">Main</a>
                        | <a href="http://defaria.com/blogs/Status/archives/week_2005_02_06.html">February  6, 2005 - February 12, 2005 &raquo;</a>
                     </p>
                     
                     
                     

                     <h2 class="date-header">February  3, 2005</h2>
                     <a id="a000291"></a>
                     <div class="entry" id="entry-291">
                        <h3 class="entry-header">Finishing build note</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Finished build note for 012405</li>
 
  <li>Experimented more with VCG</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:44 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000291.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">February  2, 2005</h2>
                     <a id="a000294"></a>
                     <div class="entry" id="entry-294">
                        <h3 class="entry-header">cvs_report updates/common build</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Changed cvs_report.pl to better handle branches</li>

  <li>Build common for 012405</li>
</ul>
                              
                              <h3>cvs_report.pl changes</h3>

<p>The changes to cvs_report.pl involved changing ProcessECRs to look for the start and stop revision numbers in the log. The CVS log has entries like the following:</p>

<div class="code"><pre>
$ cvs log Makefile | grep ^revision
revision 1.9
revision 1.8
revision 1.7
revision 1.6
revision 1.5
revision 1.4
revision 1.3
revision 1.2
revision 1.1
revision 1.1.2.4
revision 1.1.2.3
revision 1.1.2.2
revision 1.1.2.1
revision 1.3.4.1
revision 1.3.2.2
revision 1.3.2.1
</pre></div>

<p>Thus if the from tag is pointing to revision 1.1.2.1 and the to_tag is pointing to revision 1.1.2.4 cvs_report.pl now skips all versions until 1.1.2.4 then picks up ECR numbers from there.</p>

<h3>Building common</h3>

<p>First check out the top of trunk of ats:</p>

<ol>
  <li><tt>cd &lt;<i>build_area</i>&gt;/LYNXOS_500/work_area/tst</tt></li>
  <li><tt>export CVSROOT=:pserver:int@t3.lynx.com:/cvs/tst-cvs</tt></li>
  <li><tt>cvs login</tt> (Enter the password)</li>
  <li>Check out the top of trunk of ats (<tt>cvs checkout ats</tt>)</li>
  <li>Set a tag for ats (e.g. Lion_common_&lt;<i>mmddyy</i>&gt;).     sually we will tag the ATS as the same date as LynxOS build.</li>
  <li>Change directory to your build tree - int_tools area and modify the <tt>__profile.exp</tt> to set the correcty ATS tag that just tagged if it is not the same as lynxos build as defined.</li>
  <li>Modify the START for ATS process.
<div class="code"><pre>
steps_com=" 1 2    3";
echo "=== Starting common ==="
startit.exp common dummy     $steps_com  >> LOGS/common.log 2>&1 &
</pre></div></li>
  <li>Run the ./START</li>
</ol>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:49 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000294.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">February  1, 2005</h2>
                     <a id="a000293"></a>
                     <div class="entry" id="entry-293">
                        <h3 class="entry-header">CVSR/Toolchain</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Worked on CVS Report section of web site</li>

  <li>Attempting to determine what ECRs were picked up for the toolchain. Found what I think might be a CVS tagging issue</li>
</ul>
                              
                              <p>Either I really just don't understand CVS branching or perhaps we have an error in tagging. I have written a Perl script that will report the ECRs involved between two different CVS tags. When I run this script on the toolchain, comparing tags Lion_com3_2_2_120204 -> Lion_com3_2_2_121604 I see odd results. I believe that the only real ECR involved here is ECR #23084. The following appears in Quintus for that ECR:</p>

<blockquote><pre>
/cvs/gcc-cvs/toolchain/src/ChangeLog.lynx,v  <--  ChangeLog.lynx
new revision: 1.25.2.31; previous revision: 1.25.2.30

/cvs/gcc-cvs/toolchain/src/gcc/config/lynx.c,v  <--  lynx.c
new revision: 1.2.2.1; previous revision: 1.2

[Check-ins] on trunk

/cvs/gcc-cvs/toolchain/src/gcc/ChangeLog.lynx,v  <--  ChangeLog.lynx
new revision: 1.7; previous revision: 1.6

/cvs/gcc-cvs/toolchain/src/gcc/config/lynx.c,v  <--  lynx.c
new revision: 1.3; previous revision: 1.2
</blockquote>

<p>However I also notice the following WRT the file src/ChangeLog.lynx:</p>

<div class="code"><pre>
$ cvs log toolchain/src/ChangeLog.lynx
...
    Lion_com3_2_2_121604: 1.25.2.31
...
    Lion_com3_2_2_120604: 1.25.3.28
...
revision 1.25.2.31
date: 2004/12/15 23:48:49;  author: anemet;  state: Exp;  lines: +6 -0
        ECR 23084
...
revision 1.25.2.30
date: 2004/12/14 15:28:22;  author: orepin;  state: Exp;  lines: +17 -0
        ECR 22875
...
revision 1.25.2.29
date: 2004/12/14 09:26:25;  author: orepin;  state: Exp;  lines: +8 -0
        ECR 22805
...
revision 1.25.2.28
date: 2004/11/23 15:35:16;  author: aneyman;  state: Exp;  lines: +8 -0
        ECR 22989
...
$
</pre></div>

<p>So, to me, the ECRs that changed between the CVS tags of Lion_com3_2_2_120204 and Lion_com3_2_2_121604 WRT src/ChangeLog.lynx would be</p>

<ol>
  <li>23084</li>
  <li>22875</li>
  <li>22805</li>
</ol>

<p>(I assume that ECR #22989 was included with the previous toolchain).</p>

<p>Or am I just looking at this the wrong way?</p>

<p>Futhermore, the other files associated with, for example, ECR #22875, are:</p>

<ul>
  <li>toolchain.cvsr/src/gdb/gdbtypes.h: 1.2.4.1</li>

  <li>toolchain.cvsr/src/ChangeLog.lynx: 1.25.2.30</li>
  <li>toolchain.cvsr/src/gdb/gdbtypes.c: 1.2.4.1</li>
  <li>toolchain.cvsr/src/gdb/config/i386/tm-i386lynx.h: 1.2.4.3</li>
</ul>

<p>Yet, other than ChangeLog.lynx, all other files have tags that suggest that nothing else changed! For example, gdbtypes.h has Lion_com3_2_2_120204 pointing to revision 1.2 and Lion_com3_2_2_121604 also pointing to 1.2! Likewise for gdbtypes.c and config/i386/tm-i386lynx.h. Is this a tagging error?</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:48 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000293.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">January 31, 2005</h2>
                     <a id="a000292"></a>
                     <div class="entry" id="entry-292">
                        <h3 class="entry-header">1/31</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Added html capability to cvs_report.pl</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:48 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000292.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</body>
</html>
