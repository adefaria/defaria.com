<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <meta name="generator" content="Movable Type 5.2.3" />

   <link rel="stylesheet" href="http://defaria.com/blogs/Status/styles-site.css" type="text/css" />
   <link rel="alternate" type="application/atom+xml" title="Atom" href="http://defaria.com/blogs/Status/atom.xml" />
   <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://defaria.com/blogs/Status/index.xml"$>" />

   <title>Status for Andrew DeFaria: March 20, 2005 - March 26, 2005 Archives</title>

   <link rel="start" href="http://defaria.com/blogs/Status/" title="Home" />
   <link rel="prev" href="http://defaria.com/blogs/Status/archives/week_2005_03_13.html" title="March 13, 2005 - March 19, 2005" />
   <link rel="next" href="http://defaria.com/blogs/Status/archives/week_2005_03_27.html" title="March 27, 2005 - April  2, 2005" />
</head>
<body class="layout-one-column">
   <div id="container">
      <div id="container-inner" class="pkg">

         <div id="banner">
            <div id="banner-inner" class="pkg">
               <h1 id="banner-header"><a href="http://defaria.com/blogs/Status/" accesskey="1">Status for Andrew DeFaria</a></h1>
               <h2 id="banner-description">Searchable status reports and work log</h2>
            </div>
         </div>

         <div id="pagebody">
            <div id="pagebody-inner" class="pkg">
               <div id="alpha">
                  <div id="alpha-inner" class="pkg">
                     
                     <p class="content-nav">
                        <a href="http://defaria.com/blogs/Status/archives/week_2005_03_13.html">&laquo; March 13, 2005 - March 19, 2005</a> |
                        <a href="http://defaria.com/blogs/Status/">Main</a>
                        | <a href="http://defaria.com/blogs/Status/archives/week_2005_03_27.html">March 27, 2005 - April  2, 2005 &raquo;</a>
                     </p>
                     
                     
                     

                     <h2 class="date-header">March 25, 2005</h2>
                     <a id="a000323"></a>
                     <div class="entry" id="entry-323">
                        <h3 class="entry-header">LOS178 compares</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>LOS178 does finally compare. Apparently .o files produced by assembly must be compared at the source level by using objdump to dump assembly</li>

  <li>Attempting build of LOS178 on Tomcat before putting GD LOS178 into CVS.</li>

  <li>Hit problem with hard coded paths - need Jeff to resolve these</li>
</ul>
                              
                              <h3>Comparing Assembled .o files</h3>

<p>25 files did not compare. Turns out these were probably generated by the assembler. Instead we use objdump which comes in in the CDK. This eliminates differences that may be due to date/timestamps.</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  9:37 AM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000323.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">March 23, 2005</h2>
                     <a id="a000321"></a>
                     <div class="entry" id="entry-321">
                        <h3 class="entry-header">LOS178 build</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Building LOS178 Development version to compare to previously release images</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:34 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000321.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">March 22, 2005</h2>
                     <a id="a000322"></a>
                     <div class="entry" id="entry-322">
                        <h3 class="entry-header">Bluecat build still failing</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Bluecat build still fails with same problem. Emailed Sasha</li>

  <li>Native PPC Toolchain still failing - same problems</li>

  <li>Recreated cvsr.php - file was previously deleted</li>
</ul>
                              
                              <h3>Bluecat build failing</h3>

<p>Alexander Sanochkin wrote:</p>

<blockquote>
<p>Andrew,</p>

<p>It seems you tried to use a build tag which was not ready to rebuild BlueCat at that time. Also please note that the main BC build script has changed due to updating the BC cross compiler to version 3.4.3. The script is called do_it-bc5.0-gcc_3.4.3. You can get it from the BlueCat CVS. (/cm/CVS/BlueCat/eng/int/scripts).</p>

<p>Regarding the glib build problem we can not provide intelligent comments at this time as it seems that the 20050314 environment
is not available for us on the jaguar machine.</p>
</blockquote>

<p>What build tag are we supposed to use? I found R_5_2_1_ppc_20050319 and I assume that is what I should use. However the difference between do_it-bc5.0-gcc_3.4.3 and do_it-bc5.0 is merely:</p>

<div class="code"><pre>
[int@jaguar loc_archive]$ diff do_it-bc5.0.orig do_it-bc5.0-gcc_3.4.3.orig
108c108
<   export BC_TARGET=$BLUECAT_TARGET_CPU-lynx-linux-bluecat
---
>   export BC_TARGET=$BLUECAT_TARGET_CPU-lynx-linux-gnubc
</pre></div>

<p>And, if I might ask, why all the version numbers in the file? Why isn't it just named do_it and depending on which CVS (RCS?) tag you use you get a 5.0 or a 5.0-gcc_3.4.3 version?</p>

<p>Also, with do_it-bg5.0-gcc_3.4.3 I suspect that the changes I made for the patch-spec (changing do_step to perform patches between steps 1 and 2 when run in stepwise fashion) have not be incorporated. Seems to me that there are two steps being done in automated mode (i.e. doing all steps at one time) that are not performed when doing things in a stepwise fashion. The first is the building of the new GNU Tools which is effectively step 0 and the second is this patching thing which is normally done between steps 1 and 2. Might I suggest that we make these regular steps in their proper order and renumber the rest?</p>

<p>Build is still failing (on Jaguar). I get to step4 and it fails with:</p>

<div class="code"><pre>
Building glib package step 4.3 at 22:51:22
parse_file: build_package failed for glib_trg.spec
---- Step 4 finished successfully at Tue Mar 22 14:51:39 PST 2005 ----

Looking at step4/build_glib.log I see:

[int@jaguar step4]$ tail -f build_glib.log
+ ac_cv_func_getpwuid_r=yes
+ ac_cv_func_mutex_trylock=yes
+ ac_cv_func_cond_timedwait=yes
+ glib_cv_sizeof_gmutex=24
+ glib_cv_byte_contents_gmutex=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
+ ./configure --build=i386-linux-gnu --host=ppc-bluecat-linux
configure: warning: Could not determine POSIX flag. (-posix didn't work.)
configure: error: can not run test program while cross compiling
error: Bad exit status from /usr/lynx/loc_archive/build/20050319/var/tmp/rpm-tmp.40621 (%build)
    Bad exit status from /usr/lynx/loc_archive/build/20050319/var/tmp/rpm-tmp.40621 (%build)
</pre></div>

<p>Attempting to execute rpm-tmp.40621 reveals:</p>

<div class="code"><pre>
gcc -g -O2 -Wall -D_REENTRANT -o testglib testglib.o .libs/libglib.a
.libs/libglib.a(gmessages.o): In function `g_logv':
/usr/lynx/loc_archive/build/20050319/cdt/src/bluecat/BUILD/glib-1.2.10/gmessages.c:343: undefined reference to `va_copy'
.libs/libglib.a(gstrfuncs.o): In function `g_strdup_vprintf':
    /usr/lynx/loc_archive/build/20050319/cdt/src/bluecat/BUILD/glib-1.2.10/gstrfuncs.c:154: undefined reference to `va_copy'
collect2: ld returned 1 exit status
make[2]: *** [testglib] Error 1
make[2]: Leaving directory `/usr/lynx/loc_archive/build/20050319/cdt/src/bluecat/BUILD/glib-1.2.10'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/usr/lynx/loc_archive/build/20050319/cdt/src/bluecat/BUILD/glib-1.2.10'
make: *** [all-recursive-am] Error 2
+ exit 0
</pre></div>

<p>Any ideas?</p>

<h3>Native PPC Toolchain failure</h3>

<p>Build of the Native PPC Toolchain keeps failing for me but not for Oleg. Oleg's been suggesting that I lower the ulimits to -s 100000 and -d 200000, which I did but which fails for me and not Oleg. Oleg writes:</p>

<blockquote>
<p>Perhaps the time of the day has some effect on the file system behaviour (or an increased local network activity during the business time has some adverse effect on the system stability). Please try to start the toolchain build at your end-of-business time.</p>

<p>Meanwhile, we will ponder on what else can be wrong.</p>
</blockquote>

                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  4:44 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000322.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</body>
</html>
