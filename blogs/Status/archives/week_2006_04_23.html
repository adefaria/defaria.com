<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <meta name="generator" content="Movable Type 5.2.3" />

   <link rel="stylesheet" href="http://defaria.com/blogs/Status/styles-site.css" type="text/css" />
   <link rel="alternate" type="application/atom+xml" title="Atom" href="http://defaria.com/blogs/Status/atom.xml" />
   <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://defaria.com/blogs/Status/index.xml"$>" />

   <title>Status for Andrew DeFaria: April 23, 2006 - April 29, 2006 Archives</title>

   <link rel="start" href="http://defaria.com/blogs/Status/" title="Home" />
   <link rel="prev" href="http://defaria.com/blogs/Status/archives/week_2006_04_16.html" title="April 16, 2006 - April 22, 2006" />
   <link rel="next" href="http://defaria.com/blogs/Status/archives/week_2006_04_30.html" title="April 30, 2006 - May  6, 2006" />
</head>
<body class="layout-one-column">
   <div id="container">
      <div id="container-inner" class="pkg">

         <div id="banner">
            <div id="banner-inner" class="pkg">
               <h1 id="banner-header"><a href="http://defaria.com/blogs/Status/" accesskey="1">Status for Andrew DeFaria</a></h1>
               <h2 id="banner-description">Searchable status reports and work log</h2>
            </div>
         </div>

         <div id="pagebody">
            <div id="pagebody-inner" class="pkg">
               <div id="alpha">
                  <div id="alpha-inner" class="pkg">
                     
                     <p class="content-nav">
                        <a href="http://defaria.com/blogs/Status/archives/week_2006_04_16.html">&laquo; April 16, 2006 - April 22, 2006</a> |
                        <a href="http://defaria.com/blogs/Status/">Main</a>
                        | <a href="http://defaria.com/blogs/Status/archives/week_2006_04_30.html">April 30, 2006 - May  6, 2006 &raquo;</a>
                     </p>
                     
                     
                     

                     <h2 class="date-header">April 27, 2006</h2>
                     <a id="a000548"></a>
                     <div class="entry" id="entry-548">
                        <h3 class="entry-header">Building salira2</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Exposed salira2 vob</li>

  <li>Set up multisite schedule for sons-sc-cc to mimic sons-clearcase. Before this sync receives were only performed once! Things started backing up in the storage bays. All cleared out now.</li>

  <li>Attempted to build 4.0. Had problems in dynamic view</li>

  <li>Managed to build in 4.0 snapshot view.</li>

  <li>Figured out that certain exe's were missing execute permission in Clearcase Element Properties. Seems Clearcase 2003.06.00 is a bit more picky about those than Clearcase 2002.05.00! Build now works in dynamic view as well</li>
</ul>

<p><b>TIme Spent:</b> 2 hours</p>
                              
                              <p>Simon Zhu wrote:</p>

<blockquote type="cite">
  Similar to sc_3.1_dev, I made config spec sc_4.0_dev. It does not make any difference since I could not find “cenopon” under salira2 when I load the view. It seems to me that the VOB was not fully replicated. You may take a look. Thanks.
</blockquote>

<P>The szhu_view4.0 has a config spec of:</p>

<div class=code><pre>
#element * CHECKEDOUT
#element * /main/LATEST
include //sons-sc-cc/views/official/salira/neopon/cs/sc_4.0_dev
#load \salira\neopon
load \salira2
</pre></div>

<p>And the following lines appeared in sc_4.0_dev:</p>

<div class=code><pre>
# Now pickup any new elements created at the other site
element * .../rel_<b><font color="#3333ff">3.1</font></b>/LATEST -mkbranch sc_4.0
element * .../china_4.0/LATEST -mkbranch sc_4.0
</pre></div>

<p>This should be:</p>

<div class=code><pre>
# Now pickup any new elements created at the other site
element * .../rel_<b><font color="#ff0000">4.0</font></b>/LATEST -mkbranch sc_4.0<br>
element * .../china_4.0/LATEST -mkbranch sc_4.0
</pre></div>

<p>We can see this in the version tree for the root folder \salira2 :</p>

<blockquote>
  <img alt="" src="/blogs/images/4.0.jpg" height="373" width="413">
</blockquote>

<p>Prior to fixing the config spec the "eye" pointed to /main/0, which, of course is empty.</p>

<p>Next I attempted simply a make. Most of it worked! Except:</p>

<div class=code><pre>
[LINKING]      vxWorks_st.elf 
Converting to bin...
/bin/bash: maketools/convert: Permission denied
make: *** [scs.bin] Error 126
[ccadmin] sons-sc-cc:ls maketools
</pre></div>

<p>I don't know why I get permission denied when attempting to run maketools/convert. This is only happening in a dynamic view. I created a 4.0_snap view and the build worked fine.</p>

<p>Ah ah! It appears that the execute bit on the Properties of the Element for maketools/convert.exe was not set, even on sons-clearcase. However it also appears that Clearcase 2002.05.00 didn't care about that but the new Clearcase 2003.06.00 does. I toggled the execute bits on for convert.exe (and other .exe's in maketools) and all is fine.</p>

<p>Since your view is a snapshot view you'll need to simply do a ct setcs -current.</p>

                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at 10:39 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000548.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     <h2 class="date-header">April 24, 2006</h2>
                     <a id="a000547"></a>
                     <div class="entry" id="entry-547">
                        <h3 class="entry-header">XAM Build</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <ul>
  <li>Got XAM ant build to work. Test build almost working</li>

  <li>Ported Build.pl for use in XAM</li>
</ul>
                              
                              <p>I assume you mean the state of XAM. Here's what I've done:</p>

<ul>
  <li>Moved .../platform/L3/platform/src/com/hp/platform/fcas -> .../platform/XAM/server/src/com/hp/platform/fcas</li>

  <li>Moved .../platform/L3/platform/src/test/com/hp/platform/fcas -> .../platform/XAM/server/src/test/com/hp/platform/fcas</li>

  <li>Moved .../riss/W2/xam/client -> .../platform/XAM/client/c</li>
</ul>

<p>By "moved" I mean that I copied those areas from the old place to the new place, added them to source control and rmnamed the old areas. This is as per Rational's recommendation for moving things in a UCM environment.</p>

<p>Next I attempted to build fcas in the new area. It became quickly apparent that we need to port over the buildTools directory with its build_common.xml if we wish to replicate the build environment of L3.</p>

<p>With Rahul's help I managed to build the server component in XAM. I have not tackled the client component nor test at this time. I've checked in the buildTools/build_common.xml and the build.xml under the server area.</p>

<p>Here's how you can build XAM:</p>

<ul>
  <li>If necessary rebase your RISS15_xam substream or create view from RISS15_xam</li>

  <li>Change directory to .../platform/XAM/server/src/com/hp/platform/fcas</li>

  <li>type "ant -Dbase_dir=/vobs/platform/XAM -DviewBase=/vobs"</li>
</ul>

<p>Note: viewBase would be different if you are using a snapshot view.</p>

<p>Since XAM will be separated from L3 the question is: How are dependencies handled? For example, this XAM "depends on" or "imports" code from L3's core and csfr. To address this we added:</p>

<div class="code"><pre>
&lt;pathelement path="${viewBase}/platform/L3/code"/&gt;
</pre></div>

<p>to the ext.classpath in build_common.xml even though the comment for this states:</p>

<div class="code"><pre>
&lt;!--
    Class path element for Build. Don't add libraries here Libraries
    should go under devenv/buildenv/lib those libs will be
    automatically picked up by the following element
--&gt;
</pre></div>

<p>You see we now have two different types of libraries, ext.classpath libraries that are built elsewhere and just deposited into devenv/buildenv/lib and our own libraries that are built in another component (in this case the L3 component).</p>

<p>Also, the above ${viewBase}/platform/L3/code assumes that that directory exists and contains compiled class files. It assume that L3 was built before XAM is built. This introduces the notion of dependencies between components.</p>

<p>Finally you'll note that we don't build from the /vobs/platform/XAM level, rather we descend down into the /vobs/platform/XAM/server/src/com/hp/platform/fcas level to do our ant build. Questions:</p>

<ul>
  <li>Do we need a Build.pl to sit in /vobs/platform/XAM to build everything underneath it?</li>

  <li>Can't ant do recursive ants like make does recursive makes?</li>
</ul>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  7:15 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000547.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</body>
</html>
