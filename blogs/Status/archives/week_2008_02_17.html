<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <meta name="generator" content="Movable Type 5.2.3" />

   <link rel="stylesheet" href="http://defaria.com/blogs/Status/styles-site.css" type="text/css" />
   <link rel="alternate" type="application/atom+xml" title="Atom" href="http://defaria.com/blogs/Status/atom.xml" />
   <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://defaria.com/blogs/Status/index.xml"$>" />

   <title>Status for Andrew DeFaria: February 17, 2008 - February 23, 2008 Archives</title>

   <link rel="start" href="http://defaria.com/blogs/Status/" title="Home" />
   <link rel="prev" href="http://defaria.com/blogs/Status/archives/week_2008_02_10.html" title="February 10, 2008 - February 16, 2008" />
   <link rel="next" href="http://defaria.com/blogs/Status/archives/week_2008_02_24.html" title="February 24, 2008 - March  1, 2008" />
</head>
<body class="layout-one-column">
   <div id="container">
      <div id="container-inner" class="pkg">

         <div id="banner">
            <div id="banner-inner" class="pkg">
               <h1 id="banner-header"><a href="http://defaria.com/blogs/Status/" accesskey="1">Status for Andrew DeFaria</a></h1>
               <h2 id="banner-description">Searchable status reports and work log</h2>
            </div>
         </div>

         <div id="pagebody">
            <div id="pagebody-inner" class="pkg">
               <div id="alpha">
                  <div id="alpha-inner" class="pkg">
                     
                     <p class="content-nav">
                        <a href="http://defaria.com/blogs/Status/archives/week_2008_02_10.html">&laquo; February 10, 2008 - February 16, 2008</a> |
                        <a href="http://defaria.com/blogs/Status/">Main</a>
                        | <a href="http://defaria.com/blogs/Status/archives/week_2008_02_24.html">February 24, 2008 - March  1, 2008 &raquo;</a>
                     </p>
                     
                     
                     <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://defaria.com/blogs/Status/archives/week_2008_02_17.html#entry-000697"
    trackback:ping="http://defaria.com/mt/mt-tb.cgi/84"
    dc:title="For immediate release"
    dc:identifier="http://defaria.com/blogs/Status/archives/week_2008_02_17.html#entry-000697"
    dc:subject="General Dynamics"
    dc:description="For immediate release... Recently Gantry mentioned the following problem: Error Prone Deliveries: Another problem is that Reinaldo&apos;s private files have to be merged manually. Ross, Andrew, and I are in a similar situation now where we have to take a..."
    dc:creator=""
    dc:date="2008-02-20T14:49:49-06:00" />
</rdf:RDF>
-->


                     <h2 class="date-header">February 20, 2008</h2>
                     <a id="a000697"></a>
                     <div class="entry" id="entry-697">
                        <h3 class="entry-header">For immediate release</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <h2>For immediate release...</h2>

<p>Recently Gantry mentioned the following problem:</p>

<blockquote type=cite>
  <p>Error Prone Deliveries:</p>

  <p>Another problem is that Reinaldo's private files have to be merged
manually.</p>

  <p>Ross, Andrew, and I are in a similar situation now where we have to
take a snapshot of directories in a view over to seast1 in order to do
development, then remember what we changed and copy them back in and
deliver.</p>

  <p>We have already made several mistakes. </p>
</blockquote>

<p>The problem here is that we have two different Clearcase registry
regions and subnets, code is developed in one region and run in the
other. Gantry proposed a solution of writing more script to maintain
that will essentially copy things between systems. I would like to
propose an alternative...</p>

<h2>Release process</h2>

<p>What if we instead had a release process such that we deliver our
development to the feature stream that is then automatically seen over
on the cclinux region? Code is developed through the WOR process on the
RAN and delivered to the feature stream. This stream has an official
view which is exported to the cclinux region where it is mounted
directly into place<a href="#note_1"><sup>1</sup></a>. Since all
processes that utilize these scripts do so through this base they are
all automatically and immediately updated when the view is updated.
Additionally code is developed cognizant of this base such that an
alternate base can easily be set allowing one to test the release
before making it official.</p>

<h2>Solution proposed</h2>

<h3>Exporting a view</h3>

<p>Clearcase has the ability to export a view/vob path from a view
server to any other machine. This allows you to "access Clearcase from
a machine which does not have Clearcase" (see ct man export_mvfs). In
order to do this a systems administrator adds a line to
/etc/exports.mvfs on the view server where the view resides using the
format of:</p>

<div class=code><pre>
/view/&lt;<i>view_name</i>&gt;/vobs/&lt;<i>vobpath</i>&gt;&lt;<i>netgroup or machine</i>&gt;
</pre></div>

<p>And executes the /opt/rational/clearcase/etc/export_mvfs -a
command.  Additionally &lt;<i>view_name</i>&gt; should be started<a
href="#note_2"><sup>2</sup></a>.</p>

<h3>Official view</h3>

<p>Additionally, as noted above, a view must be utilized. I suggest using
what I like to call <i>official views</i> for this. An <i>official
view</i> is merely a view not associated with any particular person
(e.g. maybe ccadm) that serves in an official capacity. This view
usually has a simple config spec such as the following:</p>

<div class=code><pre>
element * REL_1.0 -nocheckout
</pre></div>

<p>thereby limiting what was seen through the view as only that which is
labeled with REL_1.0. The release process therefore consisted of
applying the REL_1.0 label and poof! Automatically and immediately the
new version was available. Updating to say a REL_1.1 release would
involve then simply a ct setcs and a changing of REL_1.0 to REL_1.1.</p>

<p>For UCM based views, translate the above to applicable baselines...</p>

<h3>Importing the view</h3>

<p>On the client machine, importing the view is simply a mount
command.  The suggestion here is to mount directly to our base,
/usr/local/east:</p>

<div class=code><pre>
$ mount view1:/views/&lt;<i>official view</i>&gt;/vobs/rantest /usr/local/east
</pre></div>

<p>(Actually this should be added to /etc/fstab for automatic, at boot
time, mounting).</p>

<h3>Security and visibility</h3>

<p>There is concern regarding exposing too much visibility of vob
elements in the cclinux region. Since /etc/exports.mvfs allows us to
specify an exacting path of what is exported we can insure that we are
only exporting the .../vobs/rantest portion or even a subdirectory(s)
under rantest. This should sufficiently limit the scope of what's
exposed.</p>

<h2>Notes</h2>

<ol>
  <li><small><a name="note_1"></a>This assumes that we adopt a concept
of a base variable from which everything emanates (e.g. /usr/local/east)</small></li>
  <li><small><a name="note_2"></a>At HP I devised a simply script
solution to insure that views listed in /etc/views_to_start would be
started at boot up on the view servers.</small></li>
</ol>

<p>Comments? Concerns?</p>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by  at  2:49 PM</span> <span class="separator">|</span> <a class="permalink" href="http://defaria.com/blogs/Status/archives/000697.html">Permalink</a>
                                 
                                 | <a href="http://defaria.com/blogs/Status/archives/000697.html#trackback">TrackBacks (0)</a>
                              </p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</body>
</html>
